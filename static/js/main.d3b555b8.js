/*! For license information please see main.d3b555b8.js.LICENSE.txt */
(()=>{var e={16:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},43:(e,t,n)=>{"use strict";e.exports=n(202)},66:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},147:e=>{"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},r={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},i=function(e,n){return t({},e,n)};e.exports=function(e){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.preserveFormatting,s=void 0!==o&&o,u=a.escapeMapFn,l=void 0===u?i:u,c=String(e),h="",f=l(t({},n),s?t({},r):{}),d=Object.keys(f),p=function(){var e=!1;d.forEach(function(t,n){e||c.length>=t.length&&c.slice(0,t.length)===t&&(h+=f[d[n]],c=c.slice(t.length,c.length),e=!0)}),e||(h+=c.slice(0,1),c=c.slice(1,c.length))};c;)p();return h}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)N.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function k(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),k(o,t,i,"",function(e){return e})):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+T(s=e[l],l);u+=k(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=k(s=s.value,t,i,c=a+T(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},D={transition:null},R={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)N.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(g=!1,x(e),!m)if(null!==r(l))m=!0,D(N);else{var t=r(c);null!==t&&R(w,t.startTime-e)}}function N(e,n){m=!1,g&&(g=!1,v(A),A=-1),p=!0;var a=d;try{for(x(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!k());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),x(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&R(w,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,M=null,A=-1,C=5,T=-1;function k(){return!(t.unstable_now()-T<C)}function I(){if(null!==M){var e=t.unstable_now();T=e;var n=!0;try{n=M(!0,e)}finally{n?E():(S=!1,M=null)}}else S=!1}if("function"===typeof b)E=function(){b(I)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,_=O.port2;O.port1.onmessage=I,E=function(){_.postMessage(null)}}else E=function(){y(I,0)};function D(e){M=e,S||(S=!0,E())}function R(e,n){A=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(g?(v(A),A=-1):g=!0,R(w,a-o))):(e.sortIndex=s,n(l,e),m||p||(m=!0,D(N))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},262:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},288:function(e,t,n){var r;!function(e,i){function a(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},334:(e,t,n)=>{var r=n(359),i=n(66),a=n(16),o=n(538),s=n(288),u=n(262),l=n(430);l.alea=r,l.xor128=i,l.xorwow=a,l.xorshift7=o,l.xor4096=s,l.tychei=u,e.exports=l},359:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new a(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},430:function(e,t,n){var r;!function(i,a,o){var s,u=256,l=o.pow(u,6),c=o.pow(2,52),h=2*c,f=255;function d(e,t,n){var r=[],f=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(a)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(e)),v(e)}catch(r){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,v(a)]}}():e,3),r),d=new p(r),b=function(){for(var e=d.g(6),t=l,n=0;e<c;)e=(e+n)*u,t*=u,n=d.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,y(v(d.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,d),e.state=function(){return m(d,{})}),n?(o.random=e,t):e})(b,f,"global"in t?t.global:this==o,t.state)}function p(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<u;)o[i]=i++;for(i=0;i<u;i++)o[i]=o[a=f&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=f&i+1],n=n*u+o[f&(o[i]=o[a=f&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function y(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(o.random(),a),e.exports){e.exports=d;try{s=n(996)}catch(b){}}else void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},454:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/refresh.8304a958dcdf2d47801f.png"},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},538:function(e,t,n){var r;!function(e,i){function a(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},556:function(e,t){"use strict";var n,r,i;r=[],n=function(){function e(){return!0}function t(){return!1}function n(){}function r(){var i=[{name:"number",test:function(e){return"number"===typeof e}},{name:"string",test:function(e){return"string"===typeof e}},{name:"boolean",test:function(e){return"boolean"===typeof e}},{name:"Function",test:function(e){return"function"===typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"===typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],a={name:"any",test:e},o=[],s=[],u={types:i,conversions:s,ignore:o};function l(e){var t=Q(u.types,function(t){return t.name===e});if(t)return t;if("any"===e)return a;var n=Q(u.types,function(t){return t.name.toLowerCase()===e.toLowerCase()});throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function c(e){return e===a?999:u.types.indexOf(e)}function h(e){var t=Q(u.types,function(t){return t.test(e)});if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function f(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"===typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var i=n.join(","),a=e.signatures[i];if(a)return a;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")}function d(e,t){var n=h(e);if(t===n)return e;for(var r=0;r<u.conversions.length;r++){var i=u.conversions[r];if(i.from===n&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)}function p(e){return e.map(function(e){var t=e.types.map(E);return(e.restParam?"...":"")+t.join("|")}).join(",")}function m(e,t){var n=0===e.indexOf("..."),r=(n?e.length>3?e.slice(3):"any":e).split("|").map(U).filter(z).filter(B),i=O(t,r),a=r.map(function(e){var t=l(e);return{name:e,typeIndex:c(t),test:t.test,conversion:null,conversionIndex:-1}}),o=i.map(function(e){var n=l(e.from);return{name:e.from,typeIndex:c(n),test:n.test,conversion:e,conversionIndex:t.indexOf(e)}});return{types:a.concat(o),restParam:n}}function g(e,t,n){var r=[];return""!==e.trim()&&(r=e.split(",").map(U).map(function(e,t,r){var i=m(e,n);if(i.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i})),r.some(V)?null:{params:r,fn:t}}function y(e){var t=W(e);return!!t&&t.restParam}function v(e){return e.types.some(function(e){return null!=e.conversion})}function b(t){if(t&&0!==t.types.length){if(1===t.types.length)return l(t.types[0].name).test;if(2===t.types.length){var n=l(t.types[0].name).test,r=l(t.types[1].name).test;return function(e){return n(e)||r(e)}}var i=t.types.map(function(e){return l(e.name).test});return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function x(e){var t,n,r;if(y(e)){var i=(t=H(e).map(b)).length,a=b(W(e)),o=function(e){for(var t=i;t<e.length;t++)if(!a(e[t]))return!1;return!0};return function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return o(e)&&e.length>=i+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=b(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=b(e[0]),r=b(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(b),function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function w(e,t){return t<e.params.length?e.params[t]:y(e.params)?W(e.params):null}function N(e,t,n){var r=w(e,t);return(r?n?r.types.filter(S):r.types:[]).map(E)}function E(e){return e.name}function S(e){return null===e.conversion||void 0===e.conversion}function M(e,t){var n=J(X(e,function(e){return N(e,t,!1)}));return-1!==n.indexOf("any")?["any"]:n}function A(e,t,n){var r,i,a,o=e||"unnamed",s=n;for(a=0;a<t.length;a++){var u=s.filter(function(e){var n=b(w(e,a));return(a<e.params.length||y(e.params))&&n(t[a])});if(0===u.length){if((i=M(s,a)).length>0){var l=h(t[a]);return(r=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+l+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:l,expected:i},r}}else s=u}var c=s.map(function(e){return y(e.params)?1/0:e.params.length});if(t.length<Math.min.apply(null,c))return i=M(s,a),(r=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:o,index:t.length,expected:i},r;var f=Math.max.apply(null,c);return t.length>f?((r=new TypeError("Too many arguments in function "+o+" (expected: "+f+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:f},r):((r=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:t.map(h)},r)}function C(e){for(var t=999,n=0;n<e.types.length;n++)S(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function T(e){for(var t=999,n=0;n<e.types.length;n++)S(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function k(e,t){var n;return 0!==(n=e.restParam-t.restParam)||0!==(n=v(e)-v(t))||0!==(n=C(e)-C(t))?n:T(e)-T(t)}function I(e,t){var n,r,i=Math.min(e.params.length,t.params.length);if(0!==(r=e.params.some(v)-t.params.some(v)))return r;for(n=0;n<i;n++)if(0!==(r=v(e.params[n])-v(t.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=k(e.params[n],t.params[n])))return r;return e.params.length-t.params.length}function O(e,t){var n={};return e.forEach(function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)}),Object.keys(n).map(function(e){return n[e]})}function _(e,t){var n=t;if(e.some(v)){var r=y(e),i=e.map(D);n=function(){for(var e=[],n=r?arguments.length-1:arguments.length,a=0;a<n;a++)e[a]=i[a](arguments[a]);return r&&(e[n]=arguments[n].map(i[n])),t.apply(this,e)}}var a=n;if(y(e)){var o=e.length-1;a=function(){return n.apply(this,K(arguments,0,o).concat([K(arguments,o)]))}}return a}function D(e){var t,n,r,i,a=[],o=[];switch(e.types.forEach(function(e){e.conversion&&(a.push(l(e.conversion.from).test),o.push(e.conversion.convert))}),o.length){case 0:return function(e){return e};case 1:return t=a[0],r=o[0],function(e){return t(e)?r(e):e};case 2:return t=a[0],n=a[1],r=o[0],i=o[1],function(e){return t(e)?r(e):n(e)?i(e):e};default:return function(e){for(var t=0;t<o.length;t++)if(a[t](e))return o[t](e);return e}}}function R(e){var t={};return e.forEach(function(e){e.params.some(v)||P(e.params,!0).forEach(function(n){t[p(n)]=e.fn})}),t}function P(e,t){function n(e,r,i){if(r<e.length){var a,o=e[r],s=t?o.types.filter(S):o.types;if(o.restParam){var u=s.filter(S);a=u.length<s.length?[u,s]:[s]}else a=s.map(function(e){return[e]});return X(a,function(t){return n(e,r+1,i.concat([t]))})}return[i.map(function(t,n){return{types:t,restParam:n===e.length-1&&y(e)}})]}return n(e,0,[])}function F(e,t){for(var n=Math.max(e.params.length,t.params.length),r=0;r<n;r++)if(!Y(N(e,r,!0),N(t,r,!0)))return!1;var i=e.params.length,a=t.params.length,o=y(e.params),s=y(t.params);return o?s?i===a:a>=i:s?i>=a:i===a}function j(e,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map(function(e){return g(e,r[e],u.conversions)}).filter(q).forEach(function(e){var t=Q(i,function(t){return F(t,e)});if(t)throw new TypeError('Conflicting signatures "'+p(t.params)+'" and "'+p(e.params)+'".');i.push(e)});var a=X(i,function(e){return(e?P(e.params,!1):[]).map(function(t){return{params:t,fn:e.fn}})}).filter(q);a.sort(I);var o=a[0]&&a[0].params.length<=2&&!y(a[0].params),s=a[1]&&a[1].params.length<=2&&!y(a[1].params),l=a[2]&&a[2].params.length<=2&&!y(a[2].params),c=a[3]&&a[3].params.length<=2&&!y(a[3].params),h=a[4]&&a[4].params.length<=2&&!y(a[4].params),f=a[5]&&a[5].params.length<=2&&!y(a[5].params),d=o&&s&&l&&c&&h&&f,m=a.map(function(e){return x(e.params)}),v=o?b(a[0].params[0]):t,w=s?b(a[1].params[0]):t,N=l?b(a[2].params[0]):t,E=c?b(a[3].params[0]):t,S=h?b(a[4].params[0]):t,M=f?b(a[5].params[0]):t,A=o?b(a[0].params[1]):t,C=s?b(a[1].params[1]):t,T=l?b(a[2].params[1]):t,k=c?b(a[3].params[1]):t,O=h?b(a[4].params[1]):t,D=f?b(a[5].params[1]):t,j=a.map(function(e){return _(e.params,e.fn)}),L=o?j[0]:n,B=s?j[1]:n,U=l?j[2]:n,z=c?j[3]:n,V=h?j[4]:n,H=f?j[5]:n,W=o?a[0].params.length:-1,K=s?a[1].params.length:-1,G=l?a[2].params.length:-1,Y=c?a[3].params.length:-1,J=h?a[4].params.length:-1,Z=f?a[5].params.length:-1,$=d?6:0,ee=a.length,te=function(){for(var t=$;t<ee;t++)if(m[t](arguments))return j[t].apply(this,arguments);return u.onMismatch(e,arguments,a)},ne=function e(t,n){return arguments.length===W&&v(t)&&A(n)?L.apply(e,arguments):arguments.length===K&&w(t)&&C(n)?B.apply(e,arguments):arguments.length===G&&N(t)&&T(n)?U.apply(e,arguments):arguments.length===Y&&E(t)&&k(n)?z.apply(e,arguments):arguments.length===J&&S(t)&&O(n)?V.apply(e,arguments):arguments.length===Z&&M(t)&&D(n)?H.apply(e,arguments):te.apply(e,arguments)};try{Object.defineProperty(ne,"name",{value:e})}catch(re){}return ne.signatures=R(a),ne}function L(e,t,n){throw A(e,t,n)}function B(e){return-1===u.ignore.indexOf(e)}function U(e){return e.trim()}function z(e){return!!e}function q(e){return null!==e}function V(e){return 0===e.types.length}function H(e){return e.slice(0,e.length-1)}function W(e){return e[e.length-1]}function K(e,t,n){return Array.prototype.slice.call(e,t,n)}function G(e,t){return-1!==e.indexOf(t)}function Y(e,t){for(var n=0;n<e.length;n++)if(G(t,e[n]))return!0;return!1}function Q(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function J(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}function X(e,t){return Array.prototype.concat.apply([],e.map(t))}function Z(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(("object"===typeof r.signatures||"string"===typeof r.signature)&&""!==r.name)if(""===t)t=r.name;else if(t!==r.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw i.data={actual:r.name,expected:t},i}}return t}function $(e){var t,n={};function r(e,r){if(n.hasOwnProperty(e)&&r!==n[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var a=e[i];if("object"===typeof a.signatures)for(var o in a.signatures)a.signatures.hasOwnProperty(o)&&(r(o,a.signatures[o]),n[o]=a.signatures[o]);else{if("string"!==typeof a.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;r(a.signature,a),n[a.signature]=a}}return n}return(u=j("typed",{"string, Object":j,Object:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return j(Z(t),e)},"...Function":function(e){return j(Z(e),$(e))},"string, ...Function":function(e,t){return j(e,$(t))}})).create=r,u.types=i,u.conversions=s,u.ignore=o,u.onMismatch=L,u.throwMismatchError=L,u.createError=A,u.convert=d,u.find=f,u.addType=function(e,t){if(!e||"string"!==typeof e.name||"function"!==typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,e);u.types.push(e)},u.addConversion=function(e){if(!e||"string"!==typeof e.from||"string"!==typeof e.to||"function"!==typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e)},u}return r()},void 0===(i="function"===typeof n?n.apply(t,r):n)||(e.exports=i)},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,j=Object.assign;function L(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function z(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case N:return"Portal";case M:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Ee=null,Se=null;function Me(e){if(e=bi(e)){if("function"!==typeof Ne)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Ne(e.stateNode,e.type,t))}}function Ae(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Te(e,t){return e(t)}function ke(){}var Ie=!1;function Oe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ee||null!==Se)&&(ke(),Ce())}}function _e(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){De=!1}function Pe(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Fe=!1,je=null,Le=!1,Be=null,Ue={onError:function(e){Fe=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Fe=!1,je=null,Pe.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,Et,St,Mt,At=!1,Ct=[],Tt=null,kt=null,It=null,Ot=new Map,_t=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Mt(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Lt(e)&&n.delete(t)}function Ut(){At=!1,null!==Tt&&Lt(Tt)&&(Tt=null),null!==kt&&Lt(kt)&&(kt=null),null!==It&&Lt(It)&&(It=null),Ot.forEach(Bt),_t.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==kt&&zt(kt,e),null!==It&&zt(It,e),Ot.forEach(t),_t.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var Vt=x.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function Kt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ft(Tt,e,t,n,r,i),!0;case"dragenter":return kt=Ft(kt,e,t,n,r,i),!0;case"mouseover":return It=Ft(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Ft(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,_t.set(a,Ft(_t.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=vi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),hn=j({},ln,{view:0,detail:0}),fn=an(hn),dn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),mn=an(j({},dn,{dataTransfer:0})),gn=an(j({},hn,{relatedTarget:0})),yn=an(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),xn=an(j({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Mn(){return Sn}var An=j({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(An),Tn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=an(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),In=an(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=an(On),Dn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Pn,jn=c&&(!Rn||Pn&&8<Pn&&11>=Pn),Ln=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ae(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Lr(e,0)}function Qn(e){if(G(xi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Mr(e){if(Er[e])return Er[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Ar=Mr("animationend"),Cr=Mr("animationiteration"),Tr=Mr("animationstart"),kr=Mr("transitionend"),Ir=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Ir.set(e,t),u(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];_r(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}_r(Ar,"onAnimationEnd"),_r(Cr,"onAnimationIteration"),_r(Tr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(kr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var c=je;Fe=!1,je=null,Le||(Le=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe(function(){var r=a,i=we(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=kn;break;case Ar:case Cr:case Tr:u=yn;break;case kr:u=In;break;case"scroll":u=fn;break;case"wheel":u=_n;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=_e(p,f))&&c.push(Wr(p,m,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!vi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?vi(l):null)&&(l!==(h=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:xi(u),d=null==l?s:xi(l),(s=new c(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,vi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,m=f;m;m=Gr(m))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&Yr(o,s,u,c,!1),null!==l&&null!==h&&Yr(o,h,l,c,!0)}if("select"===(u=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Jn;else if(Hn(s))if(Xn)g=or;else{g=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?xi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(v=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Kr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),$t=Zt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Lr(o,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=_e(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=_e(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=_e(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=_e(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var Ni=[],Ei=-1;function Si(e){return{current:e}}function Mi(e){0>Ei||(e.current=Ni[Ei],Ni[Ei]=null,Ei--)}function Ai(e,t){Ei++,Ni[Ei]=e.current,e.current=t}var Ci={},Ti=Si(Ci),ki=Si(!1),Ii=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Mi(ki),Mi(Ti)}function Ri(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Ai(Ti,t),Ai(ki,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return j({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ii=Ti.current,Ai(Ti,e),Ai(ki,ki.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Mi(ki),Mi(Ti),Ai(Ti,e)):Mi(ki),Ai(ki,n)}var Li=null,Bi=!1,Ui=!1;function zi(e){null===Li?Li=[e]:Li.push(e)}function qi(){if(!Ui&&null!==Li){Ui=!0;var e=0,t=bt;try{var n=Li;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Bi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge($e,qi),i}finally{bt=t,Ui=!1}}return null}var Vi=[],Hi=0,Wi=null,Ki=0,Gi=[],Yi=0,Qi=null,Ji=1,Xi="";function Zi(e,t){Vi[Hi++]=Ki,Vi[Hi++]=Wi,Wi=e,Ki=t}function $i(e,t,n){Gi[Yi++]=Ji,Gi[Yi++]=Xi,Gi[Yi++]=Qi,Qi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=Vi[--Hi],Vi[Hi]=null,Ki=Vi[--Hi],Vi[Hi]=null;for(;e===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null,Ji=Gi[--Yi],Gi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===_&&va(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ll(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Pl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case N:return(t=Ll(t,e.mode,n)).return=e,t;case _:return f(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pl(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case N:return n.key===i?c(e,t,n,r):null;case _:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:h(e,t,n,r,null);ya(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return h(t,e=e.get(n)||null,r,i,null);ya(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,s[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,m),null===c?l=y:c.sibling=y,c=y,h=g}if(m===s.length)return n(i,h),ia&&Zi(i,m),l;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===c?l=h:c.sibling=h,c=h);return ia&&Zi(i,m),l}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),ia&&Zi(i,m),l}function g(i,s,u,l){var c=P(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,m=s,g=s=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=d(i,m,v.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),ia&&Zi(i,g),c;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=f(i,v.value,l))&&(s=o(v,s,g),null===h?c=v:h.sibling=v,h=v);return ia&&Zi(i,g),c}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),ia&&Zi(i,g),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===_&&va(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Pl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rl(o.type,o.key,o.props,null,r.mode,u)).ref=ga(r,a,o),u.return=r,r=u)}return s(r);case N:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ll(o,r.mode,u)).return=r,r=a}return s(r);case _:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return m(r,a,o,u);if(P(o))return g(r,a,o,u);ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var xa=ba(!0),wa=ba(!1),Na=Si(null),Ea=null,Sa=null,Ma=null;function Aa(){Ma=Sa=Ea=null}function Ca(e){var t=Na.current;Mi(Na),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){Ea=e,Ma=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(Ma!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===Ea)throw Error(a(308));Sa=e,Ea.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Oa=null;function _a(e){null===Oa?Oa=[e]:Oa.push(e)}function Da(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,_a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,h,f):p)||void 0===f)break e;h=j({},h,f);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=h}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ha={},Wa=Si(Ha),Ka=Si(Ha),Ga=Si(Ha);function Ya(e){if(e===Ha)throw Error(a(174));return e}function Qa(e,t){switch(Ai(Ga,t),Ai(Ka,e),Ai(Wa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Mi(Wa),Ai(Wa,t)}function Ja(){Mi(Wa),Mi(Ka),Mi(Ga)}function Xa(e){Ya(Ga.current);var t=Ya(Wa.current),n=ue(t,e.type);t!==n&&(Ai(Ka,e),Ai(Wa,n))}function Za(e){Ka.current===e&&(Mi(Wa),Mi(Ka))}var $a=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=x.ReactCurrentDispatcher,io=x.ReactCurrentBatchConfig,ao=0,oo=null,so=null,uo=null,lo=!1,co=!1,ho=0,fo=0;function po(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?$o:es,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(a(301));o+=1,uo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(co)}if(ro.current=Zo,t=null!==so&&null!==so.next,ao=0,uo=so=oo=null,lo=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?oo.memoizedState=uo=e:uo=uo.next=e,uo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===uo?oo.memoizedState:uo.next;if(null!==t)uo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===uo?oo.memoizedState=uo=e:uo=uo.next=e}return uo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var h=c.lane;if((ao&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,oo.lanes|=h,Fu|=h}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Eo(){}function So(e,t){var n=oo,r=bo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Fo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,Oo(9,Ao.bind(null,n,r,i,t),void 0,null),null===ku)throw Error(a(349));0!==(30&ao)||Mo(n,t,i)}return i}function Mo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&ko(e)}function Co(e,t,n){return n(function(){To(t)&&ko(e)})}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ko(e){var t=Ra(e,1);null!==t&&nl(t,e,1,-1)}function Io(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _o(){return bo().memoizedState}function Do(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Oo(t,n,a,r))}oo.flags|=e,i.memoizedState=Oo(1|t,n,a,r)}function Po(e,t){return Do(8390656,8,e,t)}function Fo(e,t){return Ro(2048,8,e,t)}function jo(e,t){return Ro(4,2,e,t)}function Lo(e,t){return Ro(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4,4,Bo.bind(null,t,e),n)}function zo(){}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Wo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Ko(){return bo().memoizedState}function Go(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Jo(t,n);else if(null!==(n=Da(e,t,n,r))){nl(n,e,r,el()),Xo(n,t,r)}}function Yo(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Jo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,_a(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Da(e,t,i,r))&&(nl(n,e,r,i=el()),Xo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){co=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zo={readContext:Ia,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},$o={readContext:Ia,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Po,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Io,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ku)throw Error(a(349));0!==(30&ao)||Mo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Po(Co.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=ku.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ia,useCallback:qo,useContext:Ia,useEffect:Fo,useImperativeHandle:Uo,useInsertionEffect:jo,useLayoutEffect:Lo,useMemo:Vo,useReducer:wo,useRef:_o,useState:function(){return wo(xo)},useDebugValue:zo,useDeferredValue:function(e){return Ho(bo(),so.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Ia,useCallback:qo,useContext:Ia,useEffect:Fo,useImperativeHandle:Uo,useInsertionEffect:jo,useLayoutEffect:Lo,useMemo:Vo,useReducer:No,useRef:_o,useState:function(){return No(xo)},useDebugValue:zo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Ho(t,so.memoizedState,e)},useTransition:function(){return[No(xo)[0],bo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=La(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,i))&&(nl(t,e,i,r),Ua(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=La(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,i))&&(nl(t,e,i,r),Ua(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=La(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ba(e,i,r))&&(nl(t,e,r,n),Ua(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function os(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=_i(t)?Ii:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function us(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=_i(t)?Ii:Ti.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function ps(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ml.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Ba(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?wa(t,null,n,r):xa(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=go(e,t,n,r,a,i),n=yo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ns(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||_l(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return As(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Du,_u),_u|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Du,_u),_u|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Du,_u),_u|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Du,_u),_u|=r;return xs(e,t,i,n),t.child}function Ms(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var a=_i(n)?Ii:Ti.current;return a=Oi(t,a),ka(t,i),n=go(e,t,n,r,a,i),r=yo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(_i(n)){var a=!0;Fi(t)}else a=!1;if(ka(t,i),null===t.stateNode)Vs(e,t),os(t,n,r),us(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ia(l):l=Oi(t,l=_i(n)?Ii:Ti.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&ss(t,o,r,l),Pa=!1;var f=t.memoizedState;o.state=f,qa(t,r,o,i),u=t.memoizedState,s!==r||f!==u||ki.current||Pa?("function"===typeof c&&(rs(t,n,c,r),u=t.memoizedState),(s=Pa||as(t,n,s,r,f,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ja(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ia(u):u=Oi(t,u=_i(n)?Ii:Ti.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&ss(t,o,r,u),Pa=!1,f=t.memoizedState,o.state=f,qa(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||ki.current||Pa?("function"===typeof d&&(rs(t,n,d,r),p=t.memoizedState),(l=Pa||as(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Ms(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function ks(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Qa(e,t.containerInfo)}function Is(e,t,n,r,i){return da(),pa(i),t.flags|=256,xs(e,t,n,r),t.child}var Os,_s,Ds,Rs,Ps={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=$a.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai($a,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fl(u,i,0,null),e=Pl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ps,e):Ls(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=cs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Pl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xa(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ps,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=cs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=ku)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),nl(r,e,i,-1))}return ml(),Bs(e,t,s,r=cs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Yi++]=Ji,Gi[Yi++]=Xi,Gi[Yi++]=Qi,Ji=e.id,Xi=e.overflow,Qi=t),t=Ls(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dl(r,s):(s=Pl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ls(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),xa(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ta(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=$a.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai($a,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return _i(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,Ja(),Mi(ki),Mi(Ti),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),_s(e,t),Ks(t),null;case 5:Za(t);var i=Ya(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=Ya(Wa.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Br(Pr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":J(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var u in ve(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Br(Pr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":J(e,r),i=Q(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ve(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Ga.current),Ya(Wa.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Mi($a),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===Ru&&(Ru=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Ja(),_s(e,t),null===e&&qr(t.stateNode.containerInfo),Ks(t),null;case 10:return Ca(t.type._context),Ks(t),null;case 19:if(Mi($a),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=eo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai($a,1&$a.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=$a.current,Ai($a,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&_u)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return _i(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),Mi(ki),Mi(Ti),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Mi($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Mi($a),null;case 4:return Ja(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},_s=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(Wa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Br("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||$s(n,t);case 6:var r=cu,i=hu;cu=null,fu(e,t,n),hu=i,null!==(cu=r)&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=hu,cu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),cu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Js&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sl(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fu(e,t,n),Js=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach(function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));du(o,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){Sl(e,e.return,g)}try{nu(5,e,e.return)}catch(g){Sl(e,e.return,g)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Sl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?ge(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,c)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(g){Sl(e,e.return,g)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Sl(e,e.return,g)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Sl(e,e.return,g)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(c=Js)||h,mu(t,e),Js=c):mu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(f=Zs=h;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:$s(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sl(r,n,g)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Zs=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(g){Sl(e,e.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Sl(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Qs;var l=Js;if(Qs=o,(Js=u)&&!l)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Nu(i):null!==u?(u.return=o,Zs=u):Nu(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,Qs=s,Js=l}xu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):xu(e)}}function xu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&qt(f)}}}break;default:throw Error(a(163))}Js||512&t.flags&&iu(t)}catch(d){Sl(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Nu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sl(t,o,u)}}}catch(u){Sl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,Su=Math.ceil,Mu=x.ReactCurrentDispatcher,Au=x.ReactCurrentOwner,Cu=x.ReactCurrentBatchConfig,Tu=0,ku=null,Iu=null,Ou=0,_u=0,Du=Si(0),Ru=0,Pu=null,Fu=0,ju=0,Lu=0,Bu=null,Uu=null,zu=0,qu=1/0,Vu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Yu=null,Qu=0,Ju=0,Xu=null,Zu=-1,$u=0;function el(){return 0!==(6&Tu)?Xe():-1!==Zu?Zu:Zu=Xe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Ou?Ou&-Ou:null!==ma.transition?(0===$u&&($u=mt()),$u):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nl(e,t,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Tu)&&e===ku||(e===ku&&(0===(2&Tu)&&(ju|=n),4===Ru&&sl(e,Ou)),rl(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(qu=Xe()+500,Bi&&qi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===ku?Ou:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Bi=!0,zi(e)}(ul.bind(null,e)):zi(ul.bind(null,e)),oi(function(){0===(6&Tu)&&qi()}),n=null;else{switch(xt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=kl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Zu=-1,$u=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(Nl()&&e.callbackNode!==n)return null;var r=ft(e,e===ku?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Tu;Tu|=2;var o=pl();for(ku===e&&Ou===t||(Vu=null,qu=Xe()+500,fl(e,t));;)try{vl();break}catch(u){dl(e,u)}Aa(),Mu.current=o,Tu=i,null!==Iu?t=0:(ku=null,Ou=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Pu,fl(e,0),sl(e,r),rl(e,Xe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Pu,fl(e,0),sl(e,r),rl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Uu,Vu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Uu,Vu),t);break}wl(e,Uu,Vu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Uu,Vu),r);break}wl(e,Uu,Vu);break;default:throw Error(a(329))}}}return rl(e,Xe()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Uu,Uu=n,null!==t&&ol(t)),e}function ol(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function sl(e,t){for(t&=~Lu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Tu))throw Error(a(327));Nl();var t=ft(e,0);if(0===(1&t))return rl(e,Xe()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Pu,fl(e,0),sl(e,t),rl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Uu,Vu),rl(e,Xe()),null}function ll(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(qu=Xe()+500,Bi&&qi())}}function cl(e){null!==Yu&&0===Yu.tag&&0===(6&Tu)&&Nl();var t=Tu;Tu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Tu=t))&&qi()}}function hl(){_u=Du.current,Mi(Du)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Iu)for(n=Iu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Ja(),Mi(ki),Mi(Ti),no();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:Mi($a);break;case 10:Ca(r.type._context);break;case 22:case 23:hl()}n=n.return}if(ku=e,Iu=e=Dl(e.current,null),Ou=_u=t,Ru=0,Pu=null,Lu=ju=Fu=0,Uu=Bu=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(r=(n=Oa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Oa=null}return e}function dl(e,t){for(;;){var n=Iu;try{if(Aa(),ro.current=Zo,lo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(ao=0,uo=so=oo=null,co=!1,ho=0,Au.current=null,null===n||null===n.return){Ru=1,Pu=t,Iu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ou,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ms(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,u,0,t),pa(ls(l,u));break e}}o=l=ls(l,u),4!==Ru&&(Ru=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,za(o,ds(0,l,t));break e;case 1:u=l;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,za(o,ps(o,u,t));break e}}o=o.return}while(null!==o)}xl(n)}catch(x){t=x,Iu===n&&null!==n&&(Iu=n=n.return);continue}break}}function pl(){var e=Mu.current;return Mu.current=Zo,null===e?Zo:e}function ml(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===ku||0===(268435455&Fu)&&0===(268435455&ju)||sl(ku,Ou)}function gl(e,t){var n=Tu;Tu|=2;var r=pl();for(ku===e&&Ou===t||(Vu=null,fl(e,t));;)try{yl();break}catch(i){dl(e,i)}if(Aa(),Tu=n,Mu.current=r,null!==Iu)throw Error(a(261));return ku=null,Ou=0,Ru}function yl(){for(;null!==Iu;)bl(Iu)}function vl(){for(;null!==Iu&&!Qe();)bl(Iu)}function bl(e){var t=Eu(e.alternate,e,_u);e.memoizedProps=e.pendingProps,null===t?xl(e):Iu=t,Au.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,_u)))return void(Iu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Iu=n);if(null===e)return Ru=6,void(Iu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Iu=t);Iu=t=e}while(null!==t);0===Ru&&(Ru=5)}function wl(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{Nl()}while(null!==Yu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===ku&&(Iu=ku=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,kl(tt,function(){return Nl(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Tu;Tu|=4,Au.current=null,function(e,t){if(ei=Ht,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Sl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=tu,tu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vu(n,e,i),Je(),Tu=u,bt=s,Cu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Yu=e,Qu=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Qu)&&0!==e.tag&&Nl(),o=e.pendingLanes,0!==(1&o)?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,qi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function Nl(){if(null!==Yu){var e=xt(Qu),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Qu=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:nu(8,h,o)}var f=h.child;if(null!==f)f.return=h,Zs=f;else for(;null!==Zs;){var d=(h=Zs).sibling,p=h.return;if(au(h),h===c){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Zs=v;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var x=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Zs=x;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(N){Sl(u,u.return,N)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Tu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(N){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function El(e,t,n){e=Ba(e,t=ds(0,t=ls(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Sl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Ba(t,e=ps(t,e=ls(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Ml(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,ku===e&&(Ou&n)===n&&(4===Ru||3===Ru&&(130023424&Ou)===Ou&&500>Xe()-zu?fl(e,0):Lu|=n),rl(e,t)}function Al(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Ra(e,t))&&(yt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Al(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Al(e,n)}function kl(e,t){return Ge(e,t)}function Il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Il(e,t,n,r)}function _l(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)_l(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Pl(n.children,i,o,t);case S:s=8,i|=8;break;case M:return(e=Ol(12,n,t,2|i)).elementType=M,e.lanes=o,e;case k:return(e=Ol(13,n,t,i)).elementType=k,e.lanes=o,e;case I:return(e=Ol(19,n,t,i)).elementType=I,e.lanes=o,e;case D:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case C:s=9;break e;case T:s=11;break e;case O:s=14;break e;case _:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pl(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Ll(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,i,a,o,s,u){return e=new Bl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ol(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(a),e}function zl(e){if(!e)return Ci;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(_i(n))return Pi(e,n,t)}return t}function ql(e,t,n,r,i,a,o,s,u){return(e=Ul(n,r,!0,e,0,a,0,s,u)).context=zl(null),n=e.current,(a=La(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Ba(n,a,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Vl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ba(i,t,o))&&(nl(e,i,o,a),Ua(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:ks(t),da();break;case 5:Xa(t);break;case 1:_i(t.type)&&Fi(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(Na,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ai($a,1&$a.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ai($a,1&$a.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai($a,$a.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Oi(t,Ti.current);ka(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fa(t),i.updater=is,t.stateNode=i,i._reactInternals=t,us(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return _l(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=ns(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ns(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(ks(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ja(e,t),qa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Is(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ms(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ai(Na,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!ki.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=La(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ta(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ta(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ka(t,n),r=r(i=Ia(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ns(e,t,r,i=ns(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Vs(e,t),t.tag=1,_i(r)?(e=!0,Fi(t)):e=!1,ka(t,n),os(t,r,i),us(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function $l(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hl(o);s.call(e)}}Vl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=Ul(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),cl(function(){Vl(t,u,n,r)}),u}(n,t,e,i,r);return Hl(o)}Ql.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vl(e,t,null,null)},Ql.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl(function(){Vl(null,e,null,null)}),t[pi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rl(t,Xe()),0===(6&Tu)&&(qu=Xe()+500,qi()))}break;case 13:cl(function(){var t=Ra(e,1);if(null!==t){var n=el();nl(t,e,1,n)}}),Kl(e,1)}},Nt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)nl(t,e,134217728,el());Kl(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=Ra(e,t);if(null!==n)nl(n,e,t,el());Kl(e,t)}},St=function(){return bt},Mt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ne=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ll,ke=cl;var ec={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ae,Ce,ll]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return $l(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return $l(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $l(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},939:e=>{e.exports=function e(t,n){"use strict";var r,i,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},h=c(t).replace(o,"")||"",f=c(n).replace(o,"")||"",d=h.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(h.match(u),16)||1!==d.length&&h.match(s)&&Date.parse(h),g=parseInt(f.match(u),16)||m&&f.match(s)&&Date.parse(f)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var y=0,v=Math.max(d.length,p.length);y<v;y++){if(r=!(d[y]||"").match(l)&&parseFloat(d[y])||d[y]||0,i=!(p[y]||"").match(l)&&parseFloat(p[y])||p[y]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!==typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},996:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(950),a=n.t(i,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const s="popstate";function u(e){return void 0===e&&(e={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,e)}function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(gA){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:u=!1}=i,c=a.history,p=e.Pop,m=null,g=y();function y(){return(c.state||{idx:null}).idx}function v(){p=e.Pop;let t=y(),n=null==t?null:t-g;g=t,m&&m({action:p,location:x.location,delta:n})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,c.replaceState(o({},c.state,{idx:g}),""));let x={get action(){return p},get location(){return t(a,c)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(s,v),m=e,()=>{a.removeEventListener(s,v),m=null}},createHref:e=>n(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=f(x.location,t,n);r&&r(i,t),g=y()+1;let o=h(i,g),s=x.createHref(i);try{c.pushState(o,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;a.location.assign(s)}u&&m&&m({action:p,location:x.location,delta:1})},replace:function(t,n){p=e.Replace;let i=f(x.location,t,n);r&&r(i,t),g=y();let a=h(i,g),o=x.createHref(i);c.replaceState(a,"",o),u&&m&&m({action:p,location:x.location,delta:0})},go:e=>c.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));const y=new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((e,i)=>{let a=[...n,String(i)],s="string"===typeof e.id?e.id:a.join("-");if(l(!0!==e.index||!e.children,"Cannot specify children on an index route"),l(!r[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=o({},e,t(e),{id:s});return r[s]=n,n}{let n=o({},e,t(e),{id:s,children:void 0});return r[s]=n,e.children&&(n.children=v(e.children,t,a,r)),n}})}function b(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,r){let i=R(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let a=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=D(i);o=O(a[s],e,r)}return o}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=B([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),w(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:I(s,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of N(e.path))i(e,t,r);else i(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=N(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const E=/^:[\w-]+$/,S=3,M=2,A=1,C=10,T=-2,k=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=T),t&&(r+=M),n.filter(e=>!k(e)).reduce((e,t)=>e+(E.test(t)?S:""===t?A:C),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],u=s===r.length-1,l="/"===a?t:t.slice(a.length)||"/",c=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},l),h=e.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:B([a,c.pathname]),pathnameBase:U(B([a,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(a=B([a,c.pathnameBase]))}return o}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),u=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[n];return e[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),e},{});return{params:u,pathname:a,pathnameBase:o,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function j(e,t){let n=F(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),l(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let a,s=""===e||""===i.pathname,u=s?"/":i.pathname;if(null==u)a=n;else{let e=t.length-1;if(!r&&u.startsWith("..")){let t=u.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:z(r),hash:q(i)}}(i,a),h=u&&"/"!==u&&u.endsWith("/"),f=(s||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!f||(c.pathname+="/"),c}const B=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class V{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],K=new Set(W),G=["get",...W],Y=new Set(G),Q=new Set([301,302,303,307,308]),J=new Set([307,308]),X={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Z={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ne="remix-router-transitions";function re(t){const n=t.window?t.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,i=!r;let a;if(l(t.routes.length>0,"You must provide a non-empty routes array to createRouter"),t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let e=t.detectErrorBoundary;a=t=>({hasErrorBoundary:e(t)})}else a=te;let s,u,h,d={},p=v(t.routes,a,void 0,d),m=t.basename||"/",y=t.dataStrategy||de,w=t.patchRoutesOnNavigation,N=o({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),E=null,S=new Set,M=null,A=null,C=null,T=null!=t.hydrationData,k=b(p,t.history.location,m),I=!1,O=null;if(null==k&&!w){let e=Ce(404,{pathname:t.history.location.pathname}),{matches:n,route:r}=Ae(p);k=n,O={[r.id]:e}}if(k&&!t.hydrationData){lt(k,p,t.history.location.pathname).active&&(k=null)}if(k)if(k.some(e=>e.route.lazy))u=!1;else if(k.some(e=>e.route.loader))if(N.v7_partialHydration){let e=t.hydrationData?t.hydrationData.loaderData:null,n=t.hydrationData?t.hydrationData.errors:null;if(n){let t=k.findIndex(e=>void 0!==n[e.route.id]);u=k.slice(0,t+1).every(t=>!ue(t.route,e,n))}else u=k.every(t=>!ue(t.route,e,n))}else u=null!=t.hydrationData;else u=!0;else if(u=!1,k=[],N.v7_partialHydration){let e=lt(null,p,t.history.location.pathname);e.active&&e.matches&&(I=!0,k=e.matches)}let _,D,P={historyAction:t.history.action,location:t.history.location,matches:k,initialized:u,navigation:X,restoreScrollPosition:null==t.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},F=e.Pop,j=!1,L=!1,B=new Map,U=null,z=!1,q=!1,V=[],W=new Set,K=new Map,G=0,Y=-1,Q=new Map,re=new Set,oe=new Map,le=new Map,ce=new Set,fe=new Map,be=new Map;function xe(e,t){void 0===t&&(t={}),P=o({},P,e);let n=[],r=[];N.v7_fetcherPersist&&P.fetchers.forEach((e,t)=>{"idle"===e.state&&(ce.has(t)?r.push(t):n.push(t))}),ce.forEach(e=>{P.fetchers.has(e)||K.has(e)||r.push(e)}),[...S].forEach(e=>e(P,{deletedFetchers:r,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync})),N.v7_fetcherPersist?(n.forEach(e=>P.fetchers.delete(e)),r.forEach(e=>Xe(e))):r.forEach(e=>ce.delete(e))}function we(n,r,i){var a,u;let l,{flushSync:c}=void 0===i?{}:i,h=null!=P.actionData&&null!=P.navigation.formMethod&&je(P.navigation.formMethod)&&"loading"===P.navigation.state&&!0!==(null==(a=n.state)?void 0:a._isRedirect);l=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:h?P.actionData:null;let f=r.loaderData?Ee(P.loaderData,r.loaderData,r.matches||[],r.errors):P.loaderData,d=P.blockers;d.size>0&&(d=new Map(d),d.forEach((e,t)=>d.set(t,$)));let m,g=!0===j||null!=P.navigation.formMethod&&je(P.navigation.formMethod)&&!0!==(null==(u=n.state)?void 0:u._isRedirect);if(s&&(p=s,s=void 0),z||F===e.Pop||(F===e.Push?t.history.push(n,n.state):F===e.Replace&&t.history.replace(n,n.state)),F===e.Pop){let e=B.get(P.location.pathname);e&&e.has(n.pathname)?m={currentLocation:P.location,nextLocation:n}:B.has(n.pathname)&&(m={currentLocation:n,nextLocation:P.location})}else if(L){let e=B.get(P.location.pathname);e?e.add(n.pathname):(e=new Set([n.pathname]),B.set(P.location.pathname,e)),m={currentLocation:P.location,nextLocation:n}}xe(o({},r,{actionData:l,loaderData:f,historyAction:F,location:n,initialized:!0,navigation:X,revalidation:"idle",restoreScrollPosition:ut(n,r.matches||P.matches),preventScrollReset:g,blockers:d}),{viewTransitionOpts:m,flushSync:!0===c}),F=e.Pop,j=!1,L=!1,z=!1,q=!1,V=[]}async function ke(n,r,i){_&&_.abort(),_=null,F=n,z=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(M&&C){let n=st(e,t);M[n]=C()}}(P.location,P.matches),j=!0===(i&&i.preventScrollReset),L=!0===(i&&i.enableViewTransition);let a=s||p,u=i&&i.overrideNavigation,l=null!=i&&i.initialHydration&&P.matches&&P.matches.length>0&&!I?P.matches:b(a,r,m),c=!0===(i&&i.flushSync);if(l&&P.initialized&&!q&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(P.location,r)&&!(i&&i.submission&&je(i.submission.formMethod)))return void we(r,{matches:l},{flushSync:c});let h=lt(l,a,r.pathname);if(h.active&&h.matches&&(l=h.matches),!l){let{error:e,notFoundMatches:t,route:n}=at(r.pathname);return void we(r,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:c})}_=new AbortController;let f,d=ve(t.history,r,_.signal,i&&i.submission);if(i&&i.pendingError)f=[Me(l).route.id,{type:g.error,error:i.pendingError}];else if(i&&i.submission&&je(i.submission.formMethod)){let n=await async function(t,n,r,i,a,o){void 0===o&&(o={});Ge();let s,u=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(n,r);if(xe({navigation:u},{flushSync:!0===o.flushSync}),a){let e=await ct(i,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=Me(e.partialMatches).route.id;return{matches:e.partialMatches,pendingActionResult:[t,{type:g.error,error:e.error}]}}if(!e.matches){let{notFoundMatches:e,error:t,route:r}=at(n.pathname);return{matches:e,pendingActionResult:[r.id,{type:g.error,error:t}]}}i=e.matches}let l=qe(i,n);if(l.route.action||l.route.lazy){if(s=(await Fe("action",P,t,[l],i,null))[l.route.id],t.signal.aborted)return{shortCircuited:!0}}else s={type:g.error,error:Ce(405,{method:t.method,pathname:n.pathname,routeId:l.route.id})};if(De(s)){let e;if(o&&null!=o.replace)e=o.replace;else{e=ye(s.response.headers.get("Location"),new URL(t.url),m)===P.location.pathname+P.location.search}return await Pe(t,s,!0,{submission:r,replace:e}),{shortCircuited:!0}}if(Oe(s))throw Ce(400,{type:"defer-action"});if(_e(s)){let t=Me(i,l.route.id);return!0!==(o&&o.replace)&&(F=e.Push),{matches:i,pendingActionResult:[t.route.id,s]}}return{matches:i,pendingActionResult:[l.route.id,s]}}(d,r,i.submission,l,h.active,{replace:i.replace,flushSync:c});if(n.shortCircuited)return;if(n.pendingActionResult){let[e,t]=n.pendingActionResult;if(_e(t)&&H(t.error)&&404===t.error.status)return _=null,void we(r,{matches:n.matches,loaderData:{},errors:{[e]:t.error}})}l=n.matches||l,f=n.pendingActionResult,u=He(r,i.submission),c=!1,h.active=!1,d=ve(t.history,d.url,d.signal)}let{shortCircuited:y,matches:v,loaderData:x,errors:w}=await async function(e,n,r,i,a,u,l,c,h,f,d){let g=a||He(n,u),y=u||l||Ve(g),v=!z&&(!N.v7_partialHydration||!h);if(i){if(v){let e=Re(d);xe(o({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:f})}let t=await ct(r,n.pathname,e.signal);if("aborted"===t.type)return{shortCircuited:!0};if("error"===t.type){let e=Me(t.partialMatches).route.id;return{matches:t.partialMatches,loaderData:{},errors:{[e]:t.error}}}if(!t.matches){let{error:e,notFoundMatches:t,route:r}=at(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}r=t.matches}let b=s||p,[x,w]=se(t.history,P,r,y,n,N.v7_partialHydration&&!0===h,N.v7_skipActionErrorRevalidation,q,V,W,ce,oe,re,b,m,d);if(ot(e=>!(r&&r.some(t=>t.route.id===e))||x&&x.some(t=>t.route.id===e)),Y=++G,0===x.length&&0===w.length){let e=et();return we(n,o({matches:r,loaderData:{},errors:d&&_e(d[1])?{[d[0]]:d[1].error}:null},Se(d),e?{fetchers:new Map(P.fetchers)}:{}),{flushSync:f}),{shortCircuited:!0}}if(v){let e={};if(!i){e.navigation=g;let t=Re(d);void 0!==t&&(e.actionData=t)}w.length>0&&(e.fetchers=function(e){return e.forEach(e=>{let t=P.fetchers.get(e.key),n=We(void 0,t?t.data:void 0);P.fetchers.set(e.key,n)}),new Map(P.fetchers)}(w)),xe(e,{flushSync:f})}w.forEach(e=>{Ze(e.key),e.controller&&K.set(e.key,e.controller)});let E=()=>w.forEach(e=>Ze(e.key));_&&_.signal.addEventListener("abort",E);let{loaderResults:S,fetcherResults:M}=await ze(P,r,x,w,e);if(e.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",E);w.forEach(e=>K.delete(e.key));let A=Te(S);if(A)return await Pe(e,A.result,!0,{replace:c}),{shortCircuited:!0};if(A=Te(M),A)return re.add(A.key),await Pe(e,A.result,!0,{replace:c}),{shortCircuited:!0};let{loaderData:C,errors:T}=Ne(P,r,S,d,w,M,fe);fe.forEach((e,t)=>{e.subscribe(n=>{(n||e.done)&&fe.delete(t)})}),N.v7_partialHydration&&h&&P.errors&&(T=o({},P.errors,T));let k=et(),I=tt(Y),O=k||I||w.length>0;return o({matches:r,loaderData:C,errors:T},O?{fetchers:new Map(P.fetchers)}:{})}(d,r,l,h.active,u,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,c,f);y||(_=null,we(r,o({matches:v||l},Se(f),{loaderData:x,errors:w})))}function Re(e){return e&&!_e(e[1])?{[e[0]]:e[1].data}:P.actionData?0===Object.keys(P.actionData).length?null:P.actionData:void 0}async function Pe(i,a,s,u){let{submission:c,fetcherSubmission:h,preventScrollReset:d,replace:p}=void 0===u?{}:u;a.response.headers.has("X-Remix-Revalidate")&&(q=!0);let g=a.response.headers.get("Location");l(g,"Expected a Location header on the redirect Response"),g=ye(g,new URL(i.url),m);let y=f(P.location,g,{_isRedirect:!0});if(r){let e=!1;if(a.response.headers.has("X-Remix-Reload-Document"))e=!0;else if(ee.test(g)){const r=t.history.createURL(g);e=r.origin!==n.location.origin||null==R(r.pathname,m)}if(e)return void(p?n.location.replace(g):n.location.assign(g))}_=null;let v=!0===p||a.response.headers.has("X-Remix-Replace")?e.Replace:e.Push,{formMethod:b,formAction:x,formEncType:w}=P.navigation;!c&&!h&&b&&x&&w&&(c=Ve(P.navigation));let N=c||h;if(J.has(a.response.status)&&N&&je(N.formMethod))await ke(v,y,{submission:o({},N,{formAction:g}),preventScrollReset:d||j,enableViewTransition:s?L:void 0});else{let e=He(y,c);await ke(v,y,{overrideNavigation:e,fetcherSubmission:h,preventScrollReset:d||j,enableViewTransition:s?L:void 0})}}async function Fe(e,t,n,r,i,o){let s,u={};try{s=await pe(y,e,t,n,r,i,o,d,a)}catch(gA){return r.forEach(t=>{u[t.route.id]={type:g.error,error:gA}}),u}for(let[a,l]of Object.entries(s))if(Ie(l)){let e=l.result;u[a]={type:g.redirect,response:ge(e,n,a,i,m,N.v7_relativeSplatPath)}}else u[a]=await me(l);return u}async function ze(e,n,r,i,a){let o=e.matches,s=Fe("loader",e,a,r,n,null),u=Promise.all(i.map(async n=>{if(n.matches&&n.match&&n.controller){let r=(await Fe("loader",e,ve(t.history,n.path,n.controller.signal),[n.match],n.matches,n.key))[n.match.route.id];return{[n.key]:r}}return Promise.resolve({[n.key]:{type:g.error,error:Ce(404,{pathname:n.path})}})})),l=await s,c=(await u).reduce((e,t)=>Object.assign(e,t),{});return await Promise.all([Le(n,l,a.signal,o,e.loaderData),Be(n,c,i)]),{loaderResults:l,fetcherResults:c}}function Ge(){q=!0,V.push(...ot()),oe.forEach((e,t)=>{K.has(t)&&W.add(t),Ze(t)})}function Ye(e,t,n){void 0===n&&(n={}),P.fetchers.set(e,t),xe({fetchers:new Map(P.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Qe(e,t,n,r){void 0===r&&(r={});let i=Me(P.matches,t);Xe(e),xe({errors:{[i.route.id]:n},fetchers:new Map(P.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Je(e){return le.set(e,(le.get(e)||0)+1),ce.has(e)&&ce.delete(e),P.fetchers.get(e)||Z}function Xe(e){let t=P.fetchers.get(e);!K.has(e)||t&&"loading"===t.state&&Q.has(e)||Ze(e),oe.delete(e),Q.delete(e),re.delete(e),N.v7_fetcherPersist&&ce.delete(e),W.delete(e),P.fetchers.delete(e)}function Ze(e){let t=K.get(e);t&&(t.abort(),K.delete(e))}function $e(e){for(let t of e){let e=Ke(Je(t).data);P.fetchers.set(t,e)}}function et(){let e=[],t=!1;for(let n of re){let r=P.fetchers.get(n);l(r,"Expected fetcher: "+n),"loading"===r.state&&(re.delete(n),e.push(n),t=!0)}return $e(e),t}function tt(e){let t=[];for(let[n,r]of Q)if(r<e){let e=P.fetchers.get(n);l(e,"Expected fetcher: "+n),"loading"===e.state&&(Ze(n),Q.delete(n),t.push(n))}return $e(t),t.length>0}function nt(e){P.blockers.delete(e),be.delete(e)}function rt(e,t){let n=P.blockers.get(e)||$;l("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(P.blockers);r.set(e,t),xe({blockers:r})}function it(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===be.size)return;be.size>1&&c(!1,"A router only supports one blocker at a time");let i=Array.from(be.entries()),[a,o]=i[i.length-1],s=P.blockers.get(a);return s&&"proceeding"===s.state?void 0:o({currentLocation:t,nextLocation:n,historyAction:r})?a:void 0}function at(e){let t=Ce(404,{pathname:e}),n=s||p,{matches:r,route:i}=Ae(n);return ot(),{notFoundMatches:r,route:i,error:t}}function ot(e){let t=[];return fe.forEach((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),fe.delete(r))}),t}function st(e,t){if(A){return A(e,t.map(e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,P.loaderData)))||e.key}return e.key}function ut(e,t){if(M){let n=st(e,t),r=M[n];if("number"===typeof r)return r}return null}function lt(e,t,n){if(w){if(!e){return{active:!0,matches:x(t,n,m,!0)||[]}}if(Object.keys(e[0].params).length>0){return{active:!0,matches:x(t,n,m,!0)}}}return{active:!1,matches:null}}async function ct(e,t,n,r){if(!w)return{type:"success",matches:e};let i=e;for(;;){let e=null==s,o=s||p,u=d;try{await w({signal:n,path:t,matches:i,fetcherKey:r,patch:(e,t)=>{n.aborted||he(e,t,o,u,a)}})}catch(gA){return{type:"error",error:gA,partialMatches:i}}finally{e&&!n.aborted&&(p=[...p])}if(n.aborted)return{type:"aborted"};let l=b(o,t,m);if(l)return{type:"success",matches:l};let c=x(o,t,m,!0);if(!c||i.length===c.length&&i.every((e,t)=>e.route.id===c[t].route.id))return{type:"success",matches:null};i=c}}return h={get basename(){return m},get future(){return N},get state(){return P},get routes(){return p},get window(){return n},initialize:function(){if(E=t.history.listen(e=>{let{action:n,location:r,delta:i}=e;if(D)return D(),void(D=void 0);c(0===be.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=it({currentLocation:P.location,nextLocation:r,historyAction:n});if(a&&null!=i){let e=new Promise(e=>{D=e});return t.history.go(-1*i),void rt(a,{state:"blocked",location:r,proceed(){rt(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.then(()=>t.history.go(i))},reset(){let e=new Map(P.blockers);e.set(a,$),xe({blockers:e})}})}return ke(n,r)}),r){!function(e,t){try{let n=e.sessionStorage.getItem(ne);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(gA){}}(n,B);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(ne,JSON.stringify(r))}catch(n){c(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(n,B);n.addEventListener("pagehide",e),U=()=>n.removeEventListener("pagehide",e)}return P.initialized||ke(e.Pop,P.location,{initialHydration:!0}),h},subscribe:function(e){return S.add(e),()=>S.delete(e)},enableScrollRestoration:function(e,t,n){if(M=e,C=t,A=n||null,!T&&P.navigation===X){T=!0;let e=ut(P.location,P.matches);null!=e&&xe({restoreScrollPosition:e})}return()=>{M=null,C=null,A=null}},navigate:async function n(r,i){if("number"===typeof r)return void t.history.go(r);let a=ie(P.location,P.matches,m,N.v7_prependBasename,r,N.v7_relativeSplatPath,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:s,submission:u,error:l}=ae(N.v7_normalizeFormMethod,!1,a,i),c=P.location,h=f(P.location,s,i&&i.state);h=o({},h,t.history.encodeLocation(h));let d=i&&null!=i.replace?i.replace:void 0,p=e.Push;!0===d?p=e.Replace:!1===d||null!=u&&je(u.formMethod)&&u.formAction===P.location.pathname+P.location.search&&(p=e.Replace);let g=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,y=!0===(i&&i.flushSync),v=it({currentLocation:c,nextLocation:h,historyAction:p});if(!v)return await ke(p,h,{submission:u,pendingError:l,preventScrollReset:g,replace:i&&i.replace,enableViewTransition:i&&i.viewTransition,flushSync:y});rt(v,{state:"blocked",location:h,proceed(){rt(v,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),n(r,i)},reset(){let e=new Map(P.blockers);e.set(v,$),xe({blockers:e})}})},fetch:function(e,n,r,a){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ze(e);let o=!0===(a&&a.flushSync),u=s||p,c=ie(P.location,P.matches,m,N.v7_prependBasename,r,N.v7_relativeSplatPath,n,null==a?void 0:a.relative),h=b(u,c,m),f=lt(h,u,c);if(f.active&&f.matches&&(h=f.matches),!h)return void Qe(e,n,Ce(404,{pathname:c}),{flushSync:o});let{path:d,submission:g,error:y}=ae(N.v7_normalizeFormMethod,!0,c,a);if(y)return void Qe(e,n,y,{flushSync:o});let v=qe(h,d),x=!0===(a&&a.preventScrollReset);g&&je(g.formMethod)?async function(e,n,r,i,a,o,u,c,h){function f(t){if(!t.route.action&&!t.route.lazy){let t=Ce(405,{method:h.formMethod,pathname:r,routeId:n});return Qe(e,n,t,{flushSync:u}),!0}return!1}if(Ge(),oe.delete(e),!o&&f(i))return;let d=P.fetchers.get(e);Ye(e,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(h,d),{flushSync:u});let g=new AbortController,y=ve(t.history,r,g.signal,h);if(o){let t=await ct(a,new URL(y.url).pathname,y.signal,e);if("aborted"===t.type)return;if("error"===t.type)return void Qe(e,n,t.error,{flushSync:u});if(!t.matches)return void Qe(e,n,Ce(404,{pathname:r}),{flushSync:u});if(f(i=qe(a=t.matches,r)))return}K.set(e,g);let v=G,x=await Fe("action",P,y,[i],a,e),w=x[i.route.id];if(y.signal.aborted)return void(K.get(e)===g&&K.delete(e));if(N.v7_fetcherPersist&&ce.has(e)){if(De(w)||_e(w))return void Ye(e,Ke(void 0))}else{if(De(w))return K.delete(e),Y>v?void Ye(e,Ke(void 0)):(re.add(e),Ye(e,We(h)),Pe(y,w,!1,{fetcherSubmission:h,preventScrollReset:c}));if(_e(w))return void Qe(e,n,w.error)}if(Oe(w))throw Ce(400,{type:"defer-action"});let E=P.navigation.location||P.location,S=ve(t.history,E,g.signal),M=s||p,A="idle"!==P.navigation.state?b(M,P.navigation.location,m):P.matches;l(A,"Didn't find any matches after fetcher action");let C=++G;Q.set(e,C);let T=We(h,w.data);P.fetchers.set(e,T);let[k,I]=se(t.history,P,A,h,E,!1,N.v7_skipActionErrorRevalidation,q,V,W,ce,oe,re,M,m,[i.route.id,w]);I.filter(t=>t.key!==e).forEach(e=>{let t=e.key,n=P.fetchers.get(t),r=We(void 0,n?n.data:void 0);P.fetchers.set(t,r),Ze(t),e.controller&&K.set(t,e.controller)}),xe({fetchers:new Map(P.fetchers)});let O=()=>I.forEach(e=>Ze(e.key));g.signal.addEventListener("abort",O);let{loaderResults:D,fetcherResults:R}=await ze(P,A,k,I,S);if(g.signal.aborted)return;g.signal.removeEventListener("abort",O),Q.delete(e),K.delete(e),I.forEach(e=>K.delete(e.key));let j=Te(D);if(j)return Pe(S,j.result,!1,{preventScrollReset:c});if(j=Te(R),j)return re.add(j.key),Pe(S,j.result,!1,{preventScrollReset:c});let{loaderData:L,errors:B}=Ne(P,A,D,void 0,I,R,fe);if(P.fetchers.has(e)){let t=Ke(w.data);P.fetchers.set(e,t)}tt(C),"loading"===P.navigation.state&&C>Y?(l(F,"Expected pending action"),_&&_.abort(),we(P.navigation.location,{matches:A,loaderData:L,errors:B,fetchers:new Map(P.fetchers)})):(xe({errors:B,loaderData:Ee(P.loaderData,L,A,B),fetchers:new Map(P.fetchers)}),q=!1)}(e,n,d,v,h,f.active,o,x,g):(oe.set(e,{routeId:n,path:d}),async function(e,n,r,i,a,o,s,u,c){let h=P.fetchers.get(e);Ye(e,We(c,h?h.data:void 0),{flushSync:s});let f=new AbortController,d=ve(t.history,r,f.signal);if(o){let t=await ct(a,new URL(d.url).pathname,d.signal,e);if("aborted"===t.type)return;if("error"===t.type)return void Qe(e,n,t.error,{flushSync:s});if(!t.matches)return void Qe(e,n,Ce(404,{pathname:r}),{flushSync:s});i=qe(a=t.matches,r)}K.set(e,f);let p=G,m=await Fe("loader",P,d,[i],a,e),g=m[i.route.id];Oe(g)&&(g=await Ue(g,d.signal,!0)||g);K.get(e)===f&&K.delete(e);if(d.signal.aborted)return;if(ce.has(e))return void Ye(e,Ke(void 0));if(De(g))return Y>p?void Ye(e,Ke(void 0)):(re.add(e),void await Pe(d,g,!1,{preventScrollReset:u}));if(_e(g))return void Qe(e,n,g.error);l(!Oe(g),"Unhandled fetcher deferred data"),Ye(e,Ke(g.data))}(e,n,d,v,h,f.active,o,x,g))},revalidate:function(){Ge(),xe({revalidation:"loading"}),"submitting"!==P.navigation.state&&("idle"!==P.navigation.state?ke(F||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:!0===L}):ke(P.historyAction,P.location,{startUninterruptedRevalidation:!0}))},createHref:e=>t.history.createHref(e),encodeLocation:e=>t.history.encodeLocation(e),getFetcher:Je,deleteFetcher:function(e){let t=(le.get(e)||0)-1;t<=0?(le.delete(e),ce.add(e),N.v7_fetcherPersist||Xe(e)):le.set(e,t),xe({fetchers:new Map(P.fetchers)})},dispose:function(){E&&E(),U&&U(),S.clear(),_&&_.abort(),P.fetchers.forEach((e,t)=>Xe(t)),P.blockers.forEach((e,t)=>nt(t))},getBlocker:function(e,t){let n=P.blockers.get(e)||$;return be.get(e)!==t&&be.set(e,t),n},deleteBlocker:nt,patchRoutes:function(e,t){let n=null==s;he(e,t,s||p,d,a),n&&(p=[...p],xe({}))},_internalFetchControllers:K,_internalActiveDeferreds:fe,_internalSetRoutes:function(e){d={},s=v(e,a,void 0,d)}},h}Symbol("deferred");function ie(e,t,n,r,i,a,o,s){let u,l;if(o){u=[];for(let e of t)if(u.push(e),e.route.id===o){l=e;break}}else u=t,l=t[t.length-1];let c=L(i||".",j(u,a),R(e.pathname,n)||e.pathname,"path"===s);if(null==i&&(c.search=e.search,c.hash=e.hash),(null==i||""===i||"."===i)&&l){let e=ze(c.search);if(l.route.index&&!e)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&e){let e=new URLSearchParams(c.search),t=e.getAll("index");e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();c.search=n?"?"+n:""}}return r&&"/"!==n&&(c.pathname="/"===c.pathname?n:B([n,c.pathname])),d(c)}function ae(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Fe(r.formMethod))return{path:n,error:Ce(405,{method:r.formMethod})};let i,a,o=()=>({path:n,error:Ce(400,{type:"invalid-body"})}),s=r.formMethod||"get",u=e?s.toUpperCase():s.toLowerCase(),c=ke(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!je(u))return o();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"},""):String(r.body);return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!je(u))return o();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(gA){return o()}}}if(l("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=be(r.formData),a=r.formData;else if(r.body instanceof FormData)i=be(r.body),a=r.body;else if(r.body instanceof URLSearchParams)i=r.body,a=xe(i);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{i=new URLSearchParams(r.body),a=xe(i)}catch(gA){return o()}let h={formMethod:u,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(je(h.formMethod))return{path:n,submission:h};let f=p(n);return t&&f.search&&ze(f.search)&&i.append("index",""),f.search="?"+i,{path:d(f),submission:h}}function oe(e,t,n){void 0===n&&(n=!1);let r=e.findIndex(e=>e.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function se(e,t,n,r,i,a,s,u,l,c,h,f,d,p,m,g){let y=g?_e(g[1])?g[1].error:g[1].data:void 0,v=e.createURL(t.location),x=e.createURL(i),w=n;a&&t.errors?w=oe(n,Object.keys(t.errors)[0],!0):g&&_e(g[1])&&(w=oe(n,g[0]));let N=g?g[1].statusCode:void 0,E=s&&N&&N>=400,S=w.filter((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(a)return ue(i,t.loaderData,t.errors);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||l.some(t=>t===e.route.id))return!0;let s=t.matches[n],c=e;return ce(e,o({currentUrl:v,currentParams:s.params,nextUrl:x,nextParams:c.params},r,{actionResult:y,actionStatus:N,defaultShouldRevalidate:!E&&(u||v.pathname+v.search===x.pathname+x.search||v.search!==x.search||le(s,c))}))}),M=[];return f.forEach((e,i)=>{if(a||!n.some(t=>t.route.id===e.routeId)||h.has(i))return;let s=b(p,e.path,m);if(!s)return void M.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(i),f=qe(s,e.path),g=!1;d.has(i)?g=!1:c.has(i)?(c.delete(i),g=!0):g=l&&"idle"!==l.state&&void 0===l.data?u:ce(f,o({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:N,defaultShouldRevalidate:!E&&u})),g&&M.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:f,controller:new AbortController})}),[S,M]}function ue(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&void 0!==t[e.id],i=null!=n&&void 0!==n[e.id];return!(!r&&i)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!r&&!i)}function le(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ce(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function he(e,t,n,r,i){var a;let o;if(e){let t=r[e];l(t,"No route found to patch children into: routeId = "+e),t.children||(t.children=[]),o=t.children}else o=n;let s=v(t.filter(e=>!o.some(t=>fe(e,t))),i,[e||"_","patch",String((null==(a=o)?void 0:a.length)||"0")],r);o.push(...s)}function fe(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every((e,n)=>{var r;return null==(r=t.children)?void 0:r.some(t=>fe(e,t))}))}async function de(e){let{matches:t}=e,n=t.filter(e=>e.shouldLoad);return(await Promise.all(n.map(e=>e.resolve()))).reduce((e,t,r)=>Object.assign(e,{[n[r].route.id]:t}),{})}async function pe(e,t,n,r,i,a,s,u,h,f){let d=a.map(e=>e.route.lazy?async function(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];l(i,"No route found in manifest");let a={};for(let o in r){let e=void 0!==i[o]&&"hasErrorBoundary"!==o;c(!e,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+o+'" will be ignored.'),e||y.has(o)||(a[o]=r[o])}Object.assign(i,a),Object.assign(i,o({},t(i),{lazy:void 0}))}(e.route,h,u):void 0),p=a.map((e,n)=>{let a=d[n],s=i.some(t=>t.route.id===e.route.id);return o({},e,{shouldLoad:s,resolve:async n=>(n&&"GET"===r.method&&(e.route.lazy||e.route.loader)&&(s=!0),s?async function(e,t,n,r,i,a){let o,s,u=r=>{let o,u=new Promise((e,t)=>o=t);s=()=>o(),t.signal.addEventListener("abort",s);let l=i=>"function"!==typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:a},...void 0!==i?[i]:[]),c=(async()=>{try{return{type:"data",result:await(i?i(e=>l(e)):l())}}catch(gA){return{type:"error",result:gA}}})();return Promise.race([c,u])};try{let i=n.route[e];if(r)if(i){let e,[t]=await Promise.all([u(i).catch(t=>{e=t}),r]);if(void 0!==e)throw e;o=t}else{if(await r,i=n.route[e],!i){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Ce(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:g.data,result:void 0}}o=await u(i)}else{if(!i){let e=new URL(t.url);throw Ce(404,{pathname:e.pathname+e.search})}o=await u(i)}l(void 0!==o.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(gA){return{type:g.error,result:gA}}finally{s&&t.signal.removeEventListener("abort",s)}return o}(t,r,e,a,n,f):Promise.resolve({type:g.data,result:void 0}))})}),m=await e({matches:p,request:r,params:a[0].params,fetcherKey:s,context:f});try{await Promise.all(d)}catch(gA){}return m}async function me(e){let{result:t,type:n}=e;if(Pe(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(gA){return{type:g.error,error:gA}}return n===g.error?{type:g.error,error:new V(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:g.data,data:e,statusCode:t.status,headers:t.headers}}var r,i,a,o,s,u,l,c;return n===g.error?Re(t)?t.data instanceof Error?{type:g.error,error:t.data,statusCode:null==(a=t.init)?void 0:a.status,headers:null!=(o=t.init)&&o.headers?new Headers(t.init.headers):void 0}:{type:g.error,error:new V((null==(r=t.init)?void 0:r.status)||500,void 0,t.data),statusCode:H(t)?t.status:void 0,headers:null!=(i=t.init)&&i.headers?new Headers(t.init.headers):void 0}:{type:g.error,error:t,statusCode:H(t)?t.status:void 0}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:g.deferred,deferredData:t,statusCode:null==(s=t.init)?void 0:s.status,headers:(null==(u=t.init)?void 0:u.headers)&&new Headers(t.init.headers)}:Re(t)?{type:g.data,data:t.data,statusCode:null==(l=t.init)?void 0:l.status,headers:null!=(c=t.init)&&c.headers?new Headers(t.init.headers):void 0}:{type:g.data,data:t}}function ge(e,t,n,r,i,a){let o=e.headers.get("Location");if(l(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ee.test(o)){let s=r.slice(0,r.findIndex(e=>e.route.id===n)+1);o=ie(new URL(t.url),s,i,!0,o,a),e.headers.set("Location",o)}return e}function ye(e,t,n){if(ee.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),a=null!=R(i.pathname,n);if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function ve(e,t,n,r){let i=e.createURL(ke(t)).toString(),a={signal:n};if(r&&je(r.formMethod)){let{formMethod:e,formEncType:t}=r;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(r.json)):"text/plain"===t?a.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?a.body=be(r.formData):a.body=r.formData}return new Request(i,a)}function be(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function xe(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function we(e,t,n,r,i){let a,o={},s=null,u=!1,c={},h=n&&_e(n[1])?n[1].error:void 0;return e.forEach(n=>{if(!(n.route.id in t))return;let f=n.route.id,d=t[f];if(l(!De(d),"Cannot handle redirect results in processLoaderData"),_e(d)){let t=d.error;if(void 0!==h&&(t=h,h=void 0),s=s||{},i)s[f]=t;else{let n=Me(e,f);null==s[n.route.id]&&(s[n.route.id]=t)}o[f]=void 0,u||(u=!0,a=H(d.error)?d.error.status:500),d.headers&&(c[f]=d.headers)}else Oe(d)?(r.set(f,d.deferredData),o[f]=d.deferredData.data,null==d.statusCode||200===d.statusCode||u||(a=d.statusCode),d.headers&&(c[f]=d.headers)):(o[f]=d.data,d.statusCode&&200!==d.statusCode&&!u&&(a=d.statusCode),d.headers&&(c[f]=d.headers))}),void 0!==h&&n&&(s={[n[0]]:h},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function Ne(e,t,n,r,i,a,s){let{loaderData:u,errors:c}=we(t,n,r,s,!1);return i.forEach(t=>{let{key:n,match:r,controller:i}=t,s=a[n];if(l(s,"Did not find corresponding fetcher result"),!i||!i.signal.aborted)if(_e(s)){let t=Me(e.matches,null==r?void 0:r.route.id);c&&c[t.route.id]||(c=o({},c,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(De(s))l(!1,"Unhandled fetcher revalidation redirect");else if(Oe(s))l(!1,"Unhandled fetcher deferred data");else{let t=Ke(s.data);e.fetchers.set(n,t)}}),{loaderData:u,errors:c}}function Ee(e,t,n,r){let i=o({},t);for(let a of n){let n=a.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&a.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function Se(e){return e?_e(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Me(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function Ae(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ce(e,t){let{pathname:n,routeId:r,method:i,type:a,message:o}=void 0===t?{}:t,s="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===a?u="defer() is not supported in actions":"invalid-body"===a&&(u="Unable to encode submission body")):403===e?(s="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):404===e?(s="Not Found",u='No route matches URL "'+n+'"'):405===e&&(s="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new V(e||500,s,new Error(u),!0)}function Te(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(De(r))return{key:e,result:r}}}function ke(e){return d(o({},"string"===typeof e?p(e):e,{hash:""}))}function Ie(e){return Pe(e.result)&&Q.has(e.result.status)}function Oe(e){return e.type===g.deferred}function _e(e){return e.type===g.error}function De(e){return(e&&e.type)===g.redirect}function Re(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Pe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Fe(e){return Y.has(e.toLowerCase())}function je(e){return K.has(e.toLowerCase())}async function Le(e,t,n,r,i){let a=Object.entries(t);for(let o=0;o<a.length;o++){let[s,u]=a[o],l=e.find(e=>(null==e?void 0:e.route.id)===s);if(!l)continue;let c=r.find(e=>e.route.id===l.route.id),h=null!=c&&!le(c,l)&&void 0!==(i&&i[l.route.id]);Oe(u)&&h&&await Ue(u,n,!1).then(e=>{e&&(t[s]=e)})}}async function Be(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:a,controller:o}=n[r],s=t[i];e.find(e=>(null==e?void 0:e.route.id)===a)&&(Oe(s)&&(l(o,"Expected an AbortController for revalidating fetcher deferred result"),await Ue(s,o.signal,!0).then(e=>{e&&(t[i]=e)})))}}async function Ue(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:g.data,data:e.deferredData.unwrappedData}}catch(gA){return{type:g.error,error:gA}}return{type:g.data,data:e.deferredData.data}}}function ze(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function qe(e,t){let n="string"===typeof t?p(t).search:t.search;if(e[e.length-1].route.index&&ze(n||""))return e[e.length-1];let r=F(e);return r[r.length-1]}function Ve(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:o}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function He(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function We(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ke(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}const Ye=t.createContext(null);const Qe=t.createContext(null);const Je=t.createContext(null);const Xe=t.createContext(null);const Ze=t.createContext({outlet:null,matches:[],isDataRoute:!1});const $e=t.createContext(null);function et(){return null!=t.useContext(Xe)}function tt(){return et()||l(!1),t.useContext(Xe).location}function nt(e){t.useContext(Je).static||t.useLayoutEffect(e)}function rt(){let{isDataRoute:e}=t.useContext(Ze);return e?function(){let{router:e}=dt(ht.UseNavigateStable),n=mt(ft.UseNavigateStable),r=t.useRef(!1);nt(()=>{r.current=!0});let i=t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Ge({fromRouteId:n},i)))},[e,n]);return i}():function(){et()||l(!1);let e=t.useContext(Ye),{basename:n,future:r,navigator:i}=t.useContext(Je),{matches:a}=t.useContext(Ze),{pathname:o}=tt(),s=JSON.stringify(j(a,r.v7_relativeSplatPath)),u=t.useRef(!1);nt(()=>{u.current=!0});let c=t.useCallback(function(t,r){if(void 0===r&&(r={}),!u.current)return;if("number"===typeof t)return void i.go(t);let a=L(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:B([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)},[n,i,s,o,e]);return c}()}function it(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(Je),{matches:a}=t.useContext(Ze),{pathname:o}=tt(),s=JSON.stringify(j(a,i.v7_relativeSplatPath));return t.useMemo(()=>L(e,JSON.parse(s),o,"path"===r),[e,s,o,r])}function at(n,r,i,a){et()||l(!1);let{navigator:o}=t.useContext(Je),{matches:s}=t.useContext(Ze),u=s[s.length-1],c=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,d=tt();if(r){var m;let e="string"===typeof r?p(r):r;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||l(!1),f=e}else f=d;let g=f.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(n,{pathname:y});let x=ct(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:B([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,i,a);return r&&x?t.createElement(Xe.Provider,{value:{location:Ge({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},x):x}function ot(){let e=function(){var e;let n=t.useContext($e),r=pt(ft.UseRouteError),i=mt(ft.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}const st=t.createElement(ot,null);class ut extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Ze.Provider,{value:this.props.routeContext},t.createElement($e.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lt(e){let{routeContext:n,match:r,children:i}=e,a=t.useContext(Ye);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Ze.Provider,{value:n},i)}function ct(e,n,r,i){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let s=e,u=null==(a=r)?void 0:a.errors;if(null!=u){let e=s.findIndex(e=>e.route.id&&void 0!==(null==u?void 0:u[e.route.id]));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,s=h>=0?s.slice(0,h+1):[s[0]];break}}}return s.reduceRight((e,i,a)=>{let o,l=!1,f=null,d=null;var p;r&&(o=u&&i.route.id?u[i.route.id]:void 0,f=i.route.errorElement||st,c&&(h<0&&0===a?(p="route-fallback",!1||gt[p]||(gt[p]=!0),l=!0,d=null):h===a&&(l=!0,d=i.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,a+1)),g=()=>{let n;return n=o?f:l?d:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(lt,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(ut,{location:r.location,revalidation:r.revalidation,component:f,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ht=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ht||{}),ft=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ft||{});function dt(e){let n=t.useContext(Ye);return n||l(!1),n}function pt(e){let n=t.useContext(Qe);return n||l(!1),n}function mt(e){let n=function(){let e=t.useContext(Ze);return e||l(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||l(!1),r.route.id}const gt={};function yt(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function vt(n){let{basename:r="/",children:i=null,location:a,navigationType:o=e.Pop,navigator:s,static:u=!1,future:c}=n;et()&&l(!1);let h=r.replace(/^\/*/,"/"),f=t.useMemo(()=>({basename:h,navigator:s,static:u,future:Ge({v7_relativeSplatPath:!1},c)}),[h,c,s,u]);"string"===typeof a&&(a=p(a));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:v="default"}=a,b=t.useMemo(()=>{let e=R(d,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:o}},[h,d,m,g,y,v,o]);return null==b?null:t.createElement(Je.Provider,{value:f},t.createElement(Xe.Provider,{children:i,value:b}))}new Promise(()=>{});t.Component;function bt(e){let n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:t.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:t.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:t.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Nt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(gA){}function Et(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=xt({},t,{errors:St(t.errors)})),t}function St(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new V(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(gA){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const Mt=t.createContext({isTransitioning:!1});const At=t.createContext(new Map);const Ct=r.startTransition,Tt=a.flushSync;r.useId;function kt(e){Tt?Tt(e):e()}class It{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}}function Ot(e){let{fallbackElement:n,router:r,future:i}=e,[a,o]=t.useState(r.state),[s,u]=t.useState(),[l,c]=t.useState({isTransitioning:!1}),[h,f]=t.useState(),[d,p]=t.useState(),[m,g]=t.useState(),y=t.useRef(new Map),{v7_startTransition:v}=i||{},b=t.useCallback(e=>{v?function(e){Ct?Ct(e):e()}(e):e()},[v]),x=t.useCallback((e,t)=>{let{deletedFetchers:n,flushSync:i,viewTransitionOpts:a}=t;e.fetchers.forEach((e,t)=>{void 0!==e.data&&y.current.set(t,e.data)}),n.forEach(e=>y.current.delete(e));let s=null==r.window||null==r.window.document||"function"!==typeof r.window.document.startViewTransition;if(a&&!s){if(i){kt(()=>{d&&(h&&h.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})});let t=r.window.document.startViewTransition(()=>{kt(()=>o(e))});return t.finished.finally(()=>{kt(()=>{f(void 0),p(void 0),u(void 0),c({isTransitioning:!1})})}),void kt(()=>p(t))}d?(h&&h.resolve(),d.skipTransition(),g({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(u(e),c({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else i?kt(()=>o(e)):b(()=>o(e))},[r.window,d,h,y,b]);t.useLayoutEffect(()=>r.subscribe(x),[r,x]),t.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new It)},[l]),t.useEffect(()=>{if(h&&s&&r.window){let e=s,t=h.promise,n=r.window.document.startViewTransition(async()=>{b(()=>o(e)),await t});n.finished.finally(()=>{f(void 0),p(void 0),u(void 0),c({isTransitioning:!1})}),p(n)}},[b,s,h,r.window]),t.useEffect(()=>{h&&s&&a.location.key===s.location.key&&h.resolve()},[h,d,a.location,s]),t.useEffect(()=>{!l.isTransitioning&&m&&(u(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[l.isTransitioning,m]),t.useEffect(()=>{},[]);let w=t.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}),[r]),N=r.basename||"/",E=t.useMemo(()=>({router:r,navigator:w,static:!1,basename:N}),[r,w,N]),S=t.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return t.useEffect(()=>yt(i,r.future),[i,r.future]),t.createElement(t.Fragment,null,t.createElement(Ye.Provider,{value:E},t.createElement(Qe.Provider,{value:a},t.createElement(At.Provider,{value:y.current},t.createElement(Mt.Provider,{value:l},t.createElement(vt,{basename:N,location:a.location,navigationType:a.historyAction,navigator:w,future:S},a.initialized||r.future.v7_partialHydration?t.createElement(_t,{routes:r.routes,future:r.future,state:a}):n))))),null)}const _t=t.memo(Dt);function Dt(e){let{routes:t,future:n,state:r}=e;return at(t,void 0,r,n)}const Rt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=t.forwardRef(function(e,n){let r,{onClick:i,relative:a,reloadDocument:o,replace:s,state:u,target:c,to:h,preventScrollReset:f,viewTransition:p}=e,m=wt(e,Nt),{basename:g}=t.useContext(Je),y=!1;if("string"===typeof h&&Pt.test(h)&&(r=h,Rt))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=R(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(gA){}let v=function(e,n){let{relative:r}=void 0===n?{}:n;et()||l(!1);let{basename:i,navigator:a}=t.useContext(Je),{hash:o,pathname:s,search:u}=it(e,{relative:r}),c=s;return"/"!==i&&(c="/"===s?i:B([i,s])),a.createHref({pathname:c,search:u,hash:o})}(h,{relative:a}),b=function(e,n){let{target:r,replace:i,state:a,preventScrollReset:o,relative:s,viewTransition:u}=void 0===n?{}:n,l=rt(),c=tt(),h=it(e,{relative:s});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:d(c)===d(h);l(e,{replace:n,state:a,preventScrollReset:o,relative:s,viewTransition:u})}},[c,l,h,i,a,r,e,o,s,u])}(h,{replace:s,state:u,target:c,preventScrollReset:f,relative:a,viewTransition:p});return t.createElement("a",xt({},m,{href:r||v,onClick:y||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:c}))});var jt,Lt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jt||(jt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Lt||(Lt={}));var Bt=n(579);const Ut=function(){return(0,Bt.jsxs)("div",{className:"Homepage",children:[(0,Bt.jsx)("div",{className:"Homepage-title",children:"jfguan - personal projects"}),(0,Bt.jsx)("div",{className:"Homepage-body",children:"Jeff Guan is a software engineer currently in NYC. This website is a simple storage of a few personal projects"}),(0,Bt.jsx)("div",{className:"Homepage-subtitle",children:(0,Bt.jsx)(Ft,{to:"/ratemyboba",className:"Homepage-link",children:"Rate My Boba"})}),(0,Bt.jsx)("div",{className:"Homepage-body",children:"A boba rating website, users can vote on their favorite boba shops, in a elo based match structure"}),(0,Bt.jsx)("div",{className:"Homepage-subtitle",children:(0,Bt.jsx)(Ft,{to:"/24game",className:"Homepage-link",children:"24 Game"})}),(0,Bt.jsx)("div",{className:"Homepage-body",children:"A classic math puzzle game. Given 4 numbers, use any combination of addition, subtraction, multiplication, and division to get to 24. Structured in a similar style to Wordle, the game is timed and you have 3 minutes to solve as many puzzles as you can."}),(0,Bt.jsx)("div",{className:"Homepage-subtitle",children:(0,Bt.jsx)(Ft,{to:"/resolutions",className:"Homepage-link",children:"Resolutions"})}),(0,Bt.jsx)("div",{className:"Homepage-body",children:"A minimalist and opinionated habit tracker, designed from scratch as an first time learning experience in design."})]})},zt=n.p+"static/media/boba_guys.46974a8c68edc102983b.png",qt=n.p+"static/media/coco.c46f9bd68e39d440db99.jpg",Vt=n.p+"static/media/debutea.7d46a80bf71667b195bb.webp",Ht=n.p+"static/media/gong_cha.7397afd7cd9540d8996e.png",Wt=n.p+"static/media/kung_fu_tea.f75c5f18b32cfee4e2e0.webp",Kt=n.p+"static/media/lazy_sundays.63435547c127ab0e02c2.png",Gt=n.p+"static/media/onezo.0e5c0b2a02cfd90f9553.webp",Yt=n.p+"static/media/prince_tea_house.4997b781ce746725527e.webp",Qt=n.p+"static/media/tiger_sugar.5cf39e6e4e8f09b7fce5.png";const Jt=n.p+"static/media/wanpo.bf7147fece304fe5f3f18a504bd07f47.svg",Xt=n.p+"static/media/xin_fu_tang.91751e9c32d51bb58d8f.png",Zt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,u=s?e[i+2]:0,l=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|u>>6,f=63&u;s||(f=64,a||(h=64)),r.push(n[l],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new en;const u=t<<2|a>>4;if(r.push(u),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class en extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tn=function(e){return function(e){const t=Zt(e);return $t.encodeByteArray(t,!0)}(e).replace(/\./g,"")},nn=function(e){try{return $t.decodeString(e,!0)}catch(gA){console.error("base64Decode failed: ",gA)}return null};const rn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,an=()=>{try{return rn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(gA){return}const t=e&&nn(e[1]);return t&&JSON.parse(t)})()}catch(gA){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(gA))}},on=e=>{var t,n;return null===(n=null===(t=an())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},sn=()=>{var e;return null===(e=an())||void 0===e?void 0:e.config},un=e=>{var t;return null===(t=an())||void 0===t?void 0:t["_".concat(e)]};class ln{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function cn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function hn(){try{return"object"===typeof indexedDB}catch(gA){return!1}}class fn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}}class dn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(pn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new fn(n,a,t)}}const pn=/\{\$([^}]+)}/g;function mn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(gn(n)&&gn(a)){if(!mn(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gn(e){return null!==e&&"object"===typeof e}function yn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function bn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class xn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=wn),void 0===r.error&&(r.error=wn),void 0===r.complete&&(r.complete=wn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(gA){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(gA){"undefined"!==typeof console&&console.error&&console.error(gA)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}function Nn(e){return e&&e._delegate?e._delegate:e}class En{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sn="[DEFAULT]";class Mn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ln;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(gA){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(gA){if(r)return null;throw gA}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Sn})}catch(gA){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(gA){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Sn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.component?this.component.multipleInstances?e:Sn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class An{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Cn=[];var Tn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Tn||(Tn={}));const kn={debug:Tn.DEBUG,verbose:Tn.VERBOSE,info:Tn.INFO,warn:Tn.WARN,error:Tn.ERROR,silent:Tn.SILENT},In=Tn.INFO,On={[Tn.DEBUG]:"log",[Tn.VERBOSE]:"log",[Tn.INFO]:"info",[Tn.WARN]:"warn",[Tn.ERROR]:"error"},_n=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=On[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Dn{constructor(e){this.name=e,this._logLevel=In,this._logHandler=_n,this._userLogHandler=null,Cn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?kn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tn.DEBUG,...t),this._logHandler(this,Tn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tn.VERBOSE,...t),this._logHandler(this,Tn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tn.INFO,...t),this._logHandler(this,Tn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tn.WARN,...t),this._logHandler(this,Tn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Tn.ERROR,...t),this._logHandler(this,Tn.ERROR,...t)}}function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function Pn(e){var t=function(e,t){if("object"!=Rn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rn(t)?t:t+""}function Fn(e,t,n){return(t=Pn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach(function(t){Fn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Bn,Un;const zn=new WeakMap,qn=new WeakMap,Vn=new WeakMap,Hn=new WeakMap,Wn=new WeakMap;let Kn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Vn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Gn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Un||(Un=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jn(this),n),Qn(zn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qn(e.apply(Jn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Jn(this),t,...r);return Vn.set(a,t.sort?t.sort():[t]),Qn(a)}}function Yn(e){return"function"===typeof e?Gn(e):(e instanceof IDBTransaction&&function(e){if(qn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});qn.set(e,t)}(e),t=e,(Bn||(Bn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Kn):e);var t}function Qn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Qn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&zn.set(t,e)}).catch(()=>{}),Wn.set(t,e),t}(e);if(Hn.has(e))return Hn.get(e);const t=Yn(e);return t!==e&&(Hn.set(e,t),Wn.set(t,e)),t}const Jn=e=>Wn.get(e);const Xn=["get","getKey","getAll","getAllKeys","count"],Zn=["put","add","delete","clear"],$n=new Map;function er(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if($n.get(t))return $n.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Zn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xn.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return $n.set(t,a),a}Kn=(e=>Ln(Ln({},e),{},{get:(t,n,r)=>er(t,n)||e.get(t,n,r),has:(t,n)=>!!er(t,n)||e.has(t,n)}))(Kn);class tr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const nr="@firebase/app",rr="0.9.13",ir=new Dn("@firebase/app"),ar="@firebase/app-compat",or="@firebase/analytics-compat",sr="@firebase/analytics",ur="@firebase/app-check-compat",lr="@firebase/app-check",cr="@firebase/auth",hr="@firebase/auth-compat",fr="@firebase/database",dr="@firebase/database-compat",pr="@firebase/functions",mr="@firebase/functions-compat",gr="@firebase/installations",yr="@firebase/installations-compat",vr="@firebase/messaging",br="@firebase/messaging-compat",xr="@firebase/performance",wr="@firebase/performance-compat",Nr="@firebase/remote-config",Er="@firebase/remote-config-compat",Sr="@firebase/storage",Mr="@firebase/storage-compat",Ar="@firebase/firestore",Cr="@firebase/firestore-compat",Tr="firebase",kr="[DEFAULT]",Ir={[nr]:"fire-core",[ar]:"fire-core-compat",[sr]:"fire-analytics",[or]:"fire-analytics-compat",[lr]:"fire-app-check",[ur]:"fire-app-check-compat",[cr]:"fire-auth",[hr]:"fire-auth-compat",[fr]:"fire-rtdb",[dr]:"fire-rtdb-compat",[pr]:"fire-fn",[mr]:"fire-fn-compat",[gr]:"fire-iid",[yr]:"fire-iid-compat",[vr]:"fire-fcm",[br]:"fire-fcm-compat",[xr]:"fire-perf",[wr]:"fire-perf-compat",[Nr]:"fire-rc",[Er]:"fire-rc-compat",[Sr]:"fire-gcs",[Mr]:"fire-gcs-compat",[Ar]:"fire-fst",[Cr]:"fire-fst-compat","fire-js":"fire-js",[Tr]:"fire-js-all"},Or=new Map,_r=new Map;function Dr(e,t){try{e.container.addComponent(t)}catch(gA){ir.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),gA)}}function Rr(e){const t=e.name;if(_r.has(t))return ir.debug("There were multiple attempts to register component ".concat(t,".")),!1;_r.set(t,e);for(const n of Or.values())Dr(n,e);return!0}function Pr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Fr=new dn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const Lr="9.23.0";function Br(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:kr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=sn()),!n)throw Fr.create("no-options");const a=Or.get(i);if(a){if(mn(n,a.options)&&mn(r,a.config))return a;throw Fr.create("duplicate-app",{appName:i})}const o=new An(i);for(const u of _r.values())o.addComponent(u);const s=new jr(n,r,o);return Or.set(i,s),s}function Ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;const t=Or.get(e);if(!t&&e===kr&&sn())return Br();if(!t)throw Fr.create("no-app",{appName:e});return t}function zr(e,t,n){var r;let i=null!==(r=Ir[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ir.warn(e.join(" "))}Rr(new En("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const qr="firebase-heartbeat-store";let Vr=null;function Hr(){return Vr||(Vr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=Qn(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Qn(o.result),e.oldVersion,e.newVersion,Qn(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(qr)}}).catch(e=>{throw Fr.create("idb-open",{originalErrorMessage:e.message})})),Vr}async function Wr(e,t){try{const n=(await Hr()).transaction(qr,"readwrite"),r=n.objectStore(qr);await r.put(t,Kr(e)),await n.done}catch(gA){if(gA instanceof fn)ir.warn(gA.message);else{const t=Fr.create("idb-set",{originalErrorMessage:null===gA||void 0===gA?void 0:gA.message});ir.warn(t.message)}}}function Kr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Gr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Qr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Yr();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Yr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Jr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=tn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Yr(){return(new Date).toISOString().substring(0,10)}class Qr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!hn()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Hr();return await t.transaction(qr).objectStore(qr).get(Kr(e))}catch(gA){if(gA instanceof fn)ir.warn(gA.message);else{const t=Fr.create("idb-get",{originalErrorMessage:null===gA||void 0===gA?void 0:gA.message});ir.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Wr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Wr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Jr(e){return tn(JSON.stringify({version:2,heartbeats:e})).length}var Xr;Xr="",Rr(new En("platform-logger",e=>new tr(e),"PRIVATE")),Rr(new En("heartbeat",e=>new Gr(e),"PRIVATE")),zr(nr,rr,Xr),zr(nr,rr,"esm2017"),zr("fire-js","");zr("firebase","9.23.0","app");var Zr,$r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ei={},ti=ti||{},ni=$r||self;function ri(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ii(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ai="closure_uid_"+(1e9*Math.random()>>>0),oi=0;function si(e,t,n){return e.call.apply(e.bind,arguments)}function ui(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function li(e,t,n){return(li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?si:ui).apply(null,arguments)}function ci(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function hi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fi(){this.s=this.s,this.o=this.o}fi.prototype.s=!1,fi.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ai)&&e[ai]||(e[ai]=++oi))},fi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const di=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function pi(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function mi(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ri(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function gi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}gi.prototype.h=function(){this.defaultPrevented=!0};var yi=function(){if(!ni.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ni.addEventListener("test",()=>{},t),ni.removeEventListener("test",()=>{},t)}catch(n){}return e}();function vi(e){return/^[\s\xa0]*$/.test(e)}function bi(){var e=ni.navigator;return e&&(e=e.userAgent)?e:""}function xi(e){return-1!=bi().indexOf(e)}function wi(e){return wi[" "](e),e}wi[" "]=function(){};var Ni,Ei,Si=xi("Opera"),Mi=xi("Trident")||xi("MSIE"),Ai=xi("Edge"),Ci=Ai||Mi,Ti=xi("Gecko")&&!(-1!=bi().toLowerCase().indexOf("webkit")&&!xi("Edge"))&&!(xi("Trident")||xi("MSIE"))&&!xi("Edge"),ki=-1!=bi().toLowerCase().indexOf("webkit")&&!xi("Edge");function Ii(){var e=ni.document;return e?e.documentMode:void 0}e:{var Oi="",_i=function(){var e=bi();return Ti?/rv:([^\);]+)(\)|;)/.exec(e):Ai?/Edge\/([\d\.]+)/.exec(e):Mi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ki?/WebKit\/(\S+)/.exec(e):Si?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_i&&(Oi=_i?_i[1]:""),Mi){var Di=Ii();if(null!=Di&&Di>parseFloat(Oi)){Ni=String(Di);break e}}Ni=Oi}if(ni.document&&Mi){var Ri=Ii();Ei=Ri||(parseInt(Ni,10)||void 0)}else Ei=void 0;var Pi=Ei;function Fi(e,t){if(gi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ti){e:{try{wi(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ji[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fi.$.h.call(this)}}hi(Fi,gi);var ji={2:"touch",3:"pen",4:"mouse"};Fi.prototype.h=function(){Fi.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Li="closure_listenable_"+(1e6*Math.random()|0),Bi=0;function Ui(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Bi,this.fa=this.ia=!1}function zi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function qi(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Vi(e){const t={};for(const n in e)t[n]=e[n];return t}const Hi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wi(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Hi.length;t++)n=Hi[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ki(e){this.src=e,this.g={},this.h=0}function Gi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=di(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(zi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Yi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ki.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Yi(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ui(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Qi="closure_lm_"+(1e6*Math.random()|0),Ji={};function Xi(e,t,n,r,i){if(r&&r.once)return $i(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xi(e,t[a],n,r,i);return null}return n=oa(n),e&&e[Li]?e.O(t,n,ii(r)?!!r.capture:!!r,i):Zi(e,t,n,!1,r,i)}function Zi(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ii(i)?!!i.capture:!!i,s=ia(e);if(s||(e[Qi]=s=new Ki(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ra;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yi||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(na(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $i(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$i(e,t[a],n,r,i);return null}return n=oa(n),e&&e[Li]?e.P(t,n,ii(r)?!!r.capture:!!r,i):Zi(e,t,n,!0,r,i)}function ea(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ea(e,t[a],n,r,i);else r=ii(r)?!!r.capture:!!r,n=oa(n),e&&e[Li]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Yi(a=e.g[t],n,r,i))&&(zi(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ia(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yi(t,n,r,i)),(n=-1<e?t[e]:null)&&ta(n))}function ta(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Li])Gi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(na(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ia(t))?(Gi(n,e),0==n.h&&(n.src=null,t[Qi]=null)):zi(e)}}}function na(e){return e in Ji?Ji[e]:Ji[e]="on"+e}function ra(e,t){if(e.fa)e=!0;else{t=new Fi(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ta(e),e=n.call(r,t)}return e}function ia(e){return(e=e[Qi])instanceof Ki?e:null}var aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(e){return"function"===typeof e?e:(e[aa]||(e[aa]=function(t){return e.handleEvent(t)}),e[aa])}function sa(){fi.call(this),this.i=new Ki(this),this.S=this,this.J=null}function ua(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new gi(t,e);else if(t instanceof gi)t.target=t.target||e;else{var i=t;Wi(t=new gi(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=la(o,r,!0,t)&&i}if(i=la(o=t.g=e,r,!0,t)&&i,i=la(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=la(o=t.g=n[a],r,!1,t)&&i}function la(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Gi(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}hi(sa,fi),sa.prototype[Li]=!0,sa.prototype.removeEventListener=function(e,t,n,r){ea(this,e,t,n,r)},sa.prototype.N=function(){if(sa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zi(n[r]);delete t.g[e],t.h--}}this.J=null},sa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},sa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ca=ni.JSON.stringify;function ha(){var e=va;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fa=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new da,e=>e.reset());class da{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pa(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ma(e){ni.setTimeout(()=>{throw e},0)}let ga,ya=!1,va=new class{constructor(){this.h=this.g=null}add(e,t){const n=fa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ba=()=>{const e=ni.Promise.resolve(void 0);ga=()=>{e.then(xa)}};var xa=()=>{for(var e;e=ha();){try{e.h.call(e.g)}catch(n){ma(n)}var t=fa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ya=!1};function wa(e,t){sa.call(this),this.h=e||1,this.g=t||ni,this.j=li(this.qb,this),this.l=Date.now()}function Na(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ea(e,t,n){if("function"===typeof e)n&&(e=li(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=li(e.handleEvent,e)}return 2147483647<Number(t)?-1:ni.setTimeout(e,t||0)}function Sa(e){e.g=Ea(()=>{e.g=null,e.i&&(e.i=!1,Sa(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}hi(wa,sa),(Zr=wa.prototype).ga=!1,Zr.T=null,Zr.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ua(this,"tick"),this.ga&&(Na(this),this.start()))}},Zr.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zr.N=function(){wa.$.N.call(this),Na(this),delete this.g};class Ma extends fi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sa(this)}N(){super.N(),this.g&&(ni.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(e){fi.call(this),this.h=e,this.g={}}hi(Aa,fi);var Ca=[];function Ta(e,t,n,r){Array.isArray(n)||(n&&(Ca[0]=n.toString()),n=Ca);for(var i=0;i<n.length;i++){var a=Xi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ka(e){qi(e.g,function(e,t){this.g.hasOwnProperty(t)&&ta(e)},e),e.g={}}function Ia(){this.g=!0}function Oa(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ca(n)}catch(vV){return t}}(e,n)+(r?" "+r:"")})}Aa.prototype.N=function(){Aa.$.N.call(this),ka(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ia.prototype.Ea=function(){this.g=!1},Ia.prototype.info=function(){};var _a={},Da=null;function Ra(){return Da=Da||new sa}function Pa(e){gi.call(this,_a.Ta,e)}function Fa(e){const t=Ra();ua(t,new Pa(t))}function ja(e,t){gi.call(this,_a.STAT_EVENT,e),this.stat=t}function La(e){const t=Ra();ua(t,new ja(t,e))}function Ba(e,t){gi.call(this,_a.Ua,e),this.size=t}function Ua(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ni.setTimeout(function(){e()},t)}_a.Ta="serverreachability",hi(Pa,gi),_a.STAT_EVENT="statevent",hi(ja,gi),_a.Ua="timingevent",hi(Ba,gi);var za={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qa={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Va(){}function Ha(e){return e.h||(e.h=e.i())}function Wa(){}Va.prototype.h=null;var Ka,Ga={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ya(){gi.call(this,"d")}function Qa(){gi.call(this,"c")}function Ja(){}function Xa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Aa(this),this.P=$a,e=Ci?125:void 0,this.V=new wa(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Za}function Za(){this.i=null,this.g="",this.h=!1}hi(Ya,gi),hi(Qa,gi),hi(Ja,Va),Ja.prototype.g=function(){return new XMLHttpRequest},Ja.prototype.i=function(){return{}},Ka=new Ja;var $a=45e3,eo={},to={};function no(e,t,n){e.L=1,e.v=No(yo(t)),e.s=n,e.S=!0,ro(e,null)}function ro(e,t){e.G=Date.now(),so(e),e.A=yo(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Po(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Za,e.g=Fs(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ma(li(e.Pa,e,e.g),e.O)),Ta(e.U,e.g,"readystatechange",e.nb),t=e.I?Vi(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Fa(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function io(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ao(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=oo(e,n),r==to){4==t&&(e.o=4,La(14),i=!1),Oa(e.j,e.m,null,"[Incomplete Response]");break}if(r==eo){e.o=4,La(15),Oa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Oa(e.j,e.m,r,null),fo(e,r)}io(e)&&r!=to&&r!=eo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,La(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ts(t),t.M=!0,La(11))):(Oa(e.j,e.m,n,"[Invalid Chunked Response]"),ho(e),co(e))}function oo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?to:(n=Number(t.substring(n,r)),isNaN(n)?eo:(r+=1)+n>t.length?to:(t=t.slice(r,r+n),e.C=r+n,t))}function so(e){e.Y=Date.now()+e.P,uo(e,e.P)}function uo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ua(li(e.lb,e),t)}function lo(e){e.B&&(ni.clearTimeout(e.B),e.B=null)}function co(e){0==e.l.H||e.J||Os(e.l,e)}function ho(e){lo(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Na(e.V),ka(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function fo(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||qo(n.i,e)))if(!e.K&&qo(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Is(n),xs(n)}Cs(n),La(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ua(li(n.ib,n),6e3));if(1>=zo(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else Ds(n,11)}else if((e.K||n.g==e)&&Is(n),!vi(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=l[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Vo(a,a.h),a.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,wo(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Ps(r,r.J?r.pa:null,r.Y),o.K){Ho(r.i,o);var s=o,u=r.L;u&&s.setTimeout(u),s.B&&(lo(s),so(s)),r.g=o}else As(r);0<n.j.length&&Ns(n)}else"stop"!=l[0]&&"close"!=l[0]||Ds(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ds(n,7):bs(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Fa()}catch(l){}}function po(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ri(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ri(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ri(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Zr=Xa.prototype).setTimeout=function(e){this.P=e},Zr.nb=function(e){e=e.target;const t=this.M;t&&3==ds(e)?t.l():this.Pa(e)},Zr.Pa=function(e){try{if(e==this.g)e:{const c=ds(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||Ci||this.g&&(this.h.h||this.g.ja()||ps(this.g)))){this.J||4!=c||7==t||Fa(),lo(this);var n=this.g.da();this.ca=n;t:if(io(this)){var r=ps(this.g);e="";var i=r.length,a=4==ds(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ho(this),co(this);var o="";break t}this.h.i=new ni.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,u=this.g;if((s=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vi(s)){var l=s;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,La(12),ho(this),co(this);break e}Oa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fo(this,n)}this.S?(ao(this,c,o),Ci&&this.i&&3==c&&(Ta(this.U,this.V,"tick",this.mb),this.V.start())):(Oa(this.j,this.m,o,null),fo(this,o)),4==c&&ho(this),this.i&&!this.J&&(4==c?Os(this.l,this):(this.i=!1,so(this)))}else(function(e){const t={};e=(e.g&&2<=ds(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(vi(e[r]))continue;var n=pa(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,La(12)):(this.o=0,La(13)),ho(this),co(this)}}}catch(hV){}},Zr.mb=function(){if(this.g){var e=ds(this.g),t=this.g.ja();this.C<t.length&&(lo(this),ao(this,e,t),this.i&&4!=e&&so(this))}},Zr.cancel=function(){this.J=!0,ho(this)},Zr.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Fa(),La(17)),ho(this),this.o=2,co(this)):uo(this,this.Y-e)};var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof go){this.h=e.h,vo(this,e.j),this.s=e.s,this.g=e.g,bo(this,e.m),this.l=e.l;var t=e.i,n=new Oo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xo(this,n),this.o=e.o}else e&&(t=String(e).match(mo))?(this.h=!1,vo(this,t[1]||"",!0),this.s=Eo(t[2]||""),this.g=Eo(t[3]||"",!0),bo(this,t[4]),this.l=Eo(t[5]||"",!0),xo(this,t[6]||"",!0),this.o=Eo(t[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}function yo(e){return new go(e)}function vo(e,t,n){e.j=n?Eo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xo(e,t,n){t instanceof Oo?(e.i=t,function(e,t){t&&!e.j&&(_o(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Do(this,t),Po(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=So(t,ko)),e.i=new Oo(t,e.h))}function wo(e,t,n){e.i.set(t,n)}function No(e){return wo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Eo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function So(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Mo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Mo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}go.prototype.toString=function(){var e=[],t=this.j;t&&e.push(So(t,Ao,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(So(t,Ao,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(So(n,"/"==n.charAt(0)?To:Co,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",So(n,Io)),e.join("")};var Ao=/[#\/\?@]/g,Co=/[#\?:]/g,To=/[#\?]/g,ko=/[#\?@]/g,Io=/#/g;function Oo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _o(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Do(e,t){_o(e),t=Fo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ro(e,t){return _o(e),t=Fo(e,t),e.g.has(t)}function Po(e,t,n){Do(e,t),0<n.length&&(e.i=null,e.g.set(Fo(e,t),pi(n)),e.h+=n.length)}function Fo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Zr=Oo.prototype).add=function(e,t){_o(this),this.i=null,e=Fo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Zr.forEach=function(e,t){_o(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Zr.ta=function(){_o(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Zr.Z=function(e){_o(this);let t=[];if("string"===typeof e)Ro(this,e)&&(t=t.concat(this.g.get(Fo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Zr.set=function(e,t){return _o(this),this.i=null,Ro(this,e=Fo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Zr.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Zr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var jo=class{constructor(e,t){this.g=e,this.map=t}};function Lo(e){this.l=e||Bo,ni.PerformanceNavigationTiming?e=0<(e=ni.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ni.g&&ni.g.Ka&&ni.g.Ka()&&ni.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bo=10;function Uo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function zo(e){return e.h?1:e.g?e.g.size:0}function qo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Vo(e,t){e.g?e.g.add(t):e.h=t}function Ho(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Wo(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return pi(e.i)}Lo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ko,Go=class{stringify(e){return ni.JSON.stringify(e,void 0)}parse(e){return ni.JSON.parse(e,void 0)}};function Yo(){this.g=new Go}function Qo(e,t,n){const r=n||"";try{po(e,function(e,n){let i=e;ii(e)&&(i=ca(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(gA){throw t.push(r+"type="+encodeURIComponent("_badmap")),gA}}function Jo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Xo(e){this.l=e.fc||null,this.j=e.ob||!1}function Zo(e,t){sa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=$o,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hi(Xo,Va),Xo.prototype.g=function(){return new Zo(this.l,this.j)},Xo.prototype.i=(Ko={},function(){return Ko}),hi(Zo,sa);var $o=0;function es(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ts(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ns(e)}function ns(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Zr=Zo.prototype).open=function(e,t){if(this.readyState!=$o)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ns(this)},Zr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ni).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Zr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ts(this)),this.readyState=$o},Zr.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ni.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;es(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Zr.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ts(this):ns(this),3==this.readyState&&es(this)}},Zr.Za=function(e){this.g&&(this.response=this.responseText=e,ts(this))},Zr.Ya=function(e){this.g&&(this.response=e,ts(this))},Zr.ka=function(){this.g&&ts(this)},Zr.setRequestHeader=function(e,t){this.v.append(e,t)},Zr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Zr.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rs=ni.JSON.parse;function is(e){sa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=as,this.L=this.M=!1}hi(is,sa);var as="",os=/^https?$/i,ss=["POST","PUT"];function us(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ls(e),hs(e)}function ls(e){e.F||(e.F=!0,ua(e,"complete"),ua(e,"error"))}function cs(e){if(e.h&&"undefined"!=typeof ti&&(!e.C[1]||4!=ds(e)||2!=e.da()))if(e.v&&4==ds(e))Ea(e.La,0,e);else if(ua(e,"readystatechange"),4==ds(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(mo)[1]||null;!i&&ni.self&&ni.self.location&&(i=ni.self.location.protocol.slice(0,-1)),r=!os.test(i?i.toLowerCase():"")}n=r}if(n)ua(e,"complete"),ua(e,"success");else{e.m=6;try{var a=2<ds(e)?e.g.statusText:""}catch(vV){a=""}e.j=a+" ["+e.da()+"]",ls(e)}}finally{hs(e)}}}function hs(e,t){if(e.g){fs(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ua(e,"ready");try{n.onreadystatechange=r}catch(gA){}}}function fs(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ni.clearTimeout(e.A),e.A=null)}function ds(e){return e.g?e.g.readyState:0}function ps(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case as:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(bu){return null}}function ms(e){let t="";return qi(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function gs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ms(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wo(e,t,n))}function ys(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vs(e){this.Ga=0,this.j=[],this.l=new Ia,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ys("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ys("baseRetryDelayMs",5e3,e),this.hb=ys("retryDelaySeedMs",1e4,e),this.eb=ys("forwardChannelMaxRetries",2,e),this.xa=ys("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Lo(e&&e.concurrentRequestLimit),this.Ja=new Yo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bs(e){if(ws(e),3==e.H){var t=e.W++,n=yo(e.I);if(wo(n,"SID",e.K),wo(n,"RID",t),wo(n,"TYPE","terminate"),Ss(e,n),(t=new Xa(e,e.l,t)).L=2,t.v=No(yo(n)),n=!1,ni.navigator&&ni.navigator.sendBeacon)try{n=ni.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&ni.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fs(t.l,null),t.g.ha(t.v)),t.G=Date.now(),so(t)}Rs(e)}function xs(e){e.g&&(Ts(e),e.g.cancel(),e.g=null)}function ws(e){xs(e),e.u&&(ni.clearTimeout(e.u),e.u=null),Is(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ni.clearTimeout(e.m),e.m=null)}function Ns(e){if(!Uo(e.i)&&!e.m){e.m=!0;var t=e.Na;ga||ba(),ya||(ga(),ya=!0),va.add(t,e),e.C=0}}function Es(e,t){var n;n=t?t.m:e.W++;const r=yo(e.I);wo(r,"SID",e.K),wo(r,"RID",n),wo(r,"AID",e.V),Ss(e,r),e.o&&e.s&&gs(r,e.o,e.s),n=new Xa(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ms(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Vo(e.i,n),no(n,r,t)}function Ss(e,t){e.na&&qi(e.na,function(e,n){wo(t,n,e)}),e.h&&po({},function(e,n){wo(t,n,e)})}function Ms(e,t,n){n=Math.min(e.j.length,n);var r=e.h?li(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const s=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Qo(s,e,"req"+n+"_")}catch(Iu){r&&r(s)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function As(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ga||ba(),ya||(ga(),ya=!0),va.add(t,e),e.A=0}}function Cs(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ua(li(e.Ma,e),_s(e,e.A)),e.A++,!0)}function Ts(e){null!=e.B&&(ni.clearTimeout(e.B),e.B=null)}function ks(e){e.g=new Xa(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=yo(e.wa);wo(t,"RID","rpc"),wo(t,"SID",e.K),wo(t,"AID",e.V),wo(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&wo(t,"TO",e.qa),wo(t,"TYPE","xmlhttp"),Ss(e,t),e.o&&e.s&&gs(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=No(yo(t)),n.s=null,n.S=!0,ro(n,e)}function Is(e){null!=e.v&&(ni.clearTimeout(e.v),e.v=null)}function Os(e,t){var n=null;if(e.g==t){Is(e),Ts(e),e.g=null;var r=2}else{if(!qo(e.i,t))return;n=t.F,Ho(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ua(r=Ra(),new Ba(r,n)),Ns(e)}else As(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(zo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ua(li(e.Na,e,t),_s(e,e.C)),e.C++,!0))}(e,t)||2==r&&Cs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ds(e,5);break;case 4:Ds(e,10);break;case 3:Ds(e,6);break;default:Ds(e,2)}}function _s(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ds(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=li(e.pb,e);n||(n=new go("//www.google.com/images/cleardot.gif"),ni.location&&"http"==ni.location.protocol||vo(n,"https"),No(n)),function(e,t){const n=new Ia;if(ni.Image){const r=new Image;r.onload=ci(Jo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ci(Jo,n,r,"TestLoadImage: error",!1,t),r.onabort=ci(Jo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ci(Jo,n,r,"TestLoadImage: timeout",!1,t),ni.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else La(2);e.H=0,e.h&&e.h.za(t),Rs(e),ws(e)}function Rs(e){if(e.H=0,e.ma=[],e.h){const t=Wo(e.i);0==t.length&&0==e.j.length||(mi(e.ma,t),mi(e.ma,e.j),e.i.i.length=0,pi(e.j),e.j.length=0),e.h.ya()}}function Ps(e,t,n){var r=n instanceof go?yo(n):new go(n);if(""!=r.g)t&&(r.g=t+"."+r.g),bo(r,r.m);else{var i=ni.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new go(null);r&&vo(a,r),t&&(a.g=t),i&&bo(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&wo(r,n,t),wo(r,"VER",e.ra),Ss(e,r),r}function Fs(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new is(new Xo({ob:!0})):new is(e.va)).Oa(e.J),t}function js(){}function Ls(){if(Mi&&!(10<=Number(Pi)))throw Error("Environmental error: no available transport.")}function Bs(e,t){sa.call(this),this.g=new vs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!vi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vi(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qs(this)}function Us(e){Ya.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zs(){Qa.call(this),this.status=1}function qs(e){this.g=e}function Vs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hs(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Ws(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Zr=is.prototype).Oa=function(e){this.M=e},Zr.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ka.g(),this.C=this.u?Ha(this.u):Ha(Ka),this.g.onreadystatechange=li(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(a){return void us(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=ni.FormData&&e instanceof ni.FormData,!(0<=di(ss,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fs(this),0<this.B&&((this.L=function(e){return Mi&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=li(this.ua,this)):this.A=Ea(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){us(this,a)}},Zr.ua=function(){"undefined"!=typeof ti&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ua(this,"timeout"),this.abort(8))},Zr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ua(this,"complete"),ua(this,"abort"),hs(this))},Zr.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hs(this,!0)),is.$.N.call(this)},Zr.La=function(){this.s||(this.G||this.v||this.l?cs(this):this.kb())},Zr.kb=function(){cs(this)},Zr.isActive=function(){return!!this.g},Zr.da=function(){try{return 2<ds(this)?this.g.status:-1}catch(Ko){return-1}},Zr.ja=function(){try{return this.g?this.g.responseText:""}catch(Ko){return""}},Zr.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rs(t)}},Zr.Ia=function(){return this.m},Zr.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Zr=vs.prototype).ra=8,Zr.H=1,Zr.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Xa(this,this.l,e);let a=this.s;if(this.U&&(a?(a=Vi(a),Wi(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ms(this,i,t),wo(n=yo(this.I),"RID",e),wo(n,"CVER",22),this.F&&wo(n,"X-HTTP-Session-Id",this.F),Ss(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(ms(a)))+"&"+t:this.o&&gs(n,this.o,a)),Vo(this.i,i),this.bb&&wo(n,"TYPE","init"),this.P?(wo(n,"$req",t),wo(n,"SID","null"),i.aa=!0,no(i,n,null)):no(i,n,t),this.H=2}}else 3==this.H&&(e?Es(this,e):0==this.j.length||Uo(this.i)||Es(this))},Zr.Ma=function(){if(this.u=null,ks(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ua(li(this.jb,this),e)}},Zr.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,La(10),xs(this),ks(this))},Zr.ib=function(){null!=this.v&&(this.v=null,xs(this),Cs(this),La(19))},Zr.pb=function(e){e?(this.l.info("Successfully pinged google.com"),La(2)):(this.l.info("Failed to ping google.com"),La(1))},Zr.isActive=function(){return!!this.h&&this.h.isActive(this)},(Zr=js.prototype).Ba=function(){},Zr.Aa=function(){},Zr.za=function(){},Zr.ya=function(){},Zr.isActive=function(){return!0},Zr.Va=function(){},Ls.prototype.g=function(e,t){return new Bs(e,t)},hi(Bs,sa),Bs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;La(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ps(e,null,e.Y),Ns(e)},Bs.prototype.close=function(){bs(this.g)},Bs.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ca(e),e=n);t.j.push(new jo(t.fb++,e)),3==t.H&&Ns(t)},Bs.prototype.N=function(){this.g.h=null,delete this.j,bs(this.g),delete this.g,Bs.$.N.call(this)},hi(Us,Ya),hi(zs,Qa),hi(qs,js),qs.prototype.Ba=function(){ua(this.g,"a")},qs.prototype.Aa=function(e){ua(this.g,new Us(e))},qs.prototype.za=function(e){ua(this.g,new zs)},qs.prototype.ya=function(){ua(this.g,"b")},hi(Vs,function(){this.blockSize=-1}),Vs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vs.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Hs(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Hs(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Hs(this,r),i=0;break}}this.h=i,this.i+=t},Vs.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ks={};function Gs(e){return-128<=e&&128>e?function(e,t){var n=Ks;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Ws([0|e],0>e?-1:0)}):new Ws([0|e],0>e?-1:0)}function Ys(e){if(isNaN(e)||!isFinite(e))return Js;if(0>e)return tu(Ys(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Qs;return new Ws(t,0)}var Qs=4294967296,Js=Gs(0),Xs=Gs(1),Zs=Gs(16777216);function $s(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function eu(e){return-1==e.h}function tu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ws(n,~e.h).add(Xs)}function nu(e,t){return e.add(tu(t))}function ru(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function iu(e,t){this.g=e,this.h=t}function au(e,t){if($s(t))throw Error("division by zero");if($s(e))return new iu(Js,Js);if(eu(e))return t=au(tu(e),t),new iu(tu(t.g),tu(t.h));if(eu(t))return t=au(e,tu(t)),new iu(tu(t.g),t.h);if(30<e.g.length){if(eu(e)||eu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Xs,r=t;0>=r.X(e);)n=ou(n),r=ou(r);var i=su(n,1),a=su(r,1);for(r=su(r,2),n=su(n,2);!$s(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=su(r,1),n=su(n,1)}return t=nu(e,i.R(t)),new iu(i,t)}for(i=Js;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Ys(n)).R(t);eu(o)||0<o.X(e);)o=(a=Ys(n-=r)).R(t);$s(a)&&(a=Xs),i=i.add(a),e=nu(e,o)}return new iu(i,e)}function ou(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ws(n,e.h)}function su(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Ws(i,e.h)}(Zr=Ws.prototype).ea=function(){if(eu(this))return-tu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Qs+r)*t,t*=Qs}return e},Zr.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if($s(this))return"0";if(eu(this))return"-"+tu(this).toString(e);for(var t=Ys(Math.pow(e,6)),n=this,r="";;){var i=au(n,t).g,a=((0<(n=nu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if($s(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Zr.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Zr.X=function(e){return eu(e=nu(this,e))?-1:$s(e)?0:1},Zr.abs=function(){return eu(this)?tu(this):this},Zr.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Ws(n,-2147483648&n[n.length-1]?-1:0)},Zr.R=function(e){if($s(this)||$s(e))return Js;if(eu(this))return eu(e)?tu(this).R(tu(e)):tu(tu(this).R(e));if(eu(e))return tu(this.R(tu(e)));if(0>this.X(Zs)&&0>e.X(Zs))return Ys(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,ru(n,2*r+2*i),n[2*r+2*i+1]+=a*u,ru(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,ru(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,ru(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ws(n,0)},Zr.gb=function(e){return au(this,e).h},Zr.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ws(n,this.h&e.h)},Zr.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ws(n,this.h|e.h)},Zr.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ws(n,this.h^e.h)},Ls.prototype.createWebChannel=Ls.prototype.g,Bs.prototype.send=Bs.prototype.u,Bs.prototype.open=Bs.prototype.m,Bs.prototype.close=Bs.prototype.close,za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,qa.COMPLETE="complete",Wa.EventType=Ga,Ga.OPEN="a",Ga.CLOSE="b",Ga.ERROR="c",Ga.MESSAGE="d",sa.prototype.listen=sa.prototype.O,is.prototype.listenOnce=is.prototype.P,is.prototype.getLastError=is.prototype.Sa,is.prototype.getLastErrorCode=is.prototype.Ia,is.prototype.getStatus=is.prototype.da,is.prototype.getResponseJson=is.prototype.Wa,is.prototype.getResponseText=is.prototype.ja,is.prototype.send=is.prototype.ha,is.prototype.setWithCredentials=is.prototype.Oa,Vs.prototype.digest=Vs.prototype.l,Vs.prototype.reset=Vs.prototype.reset,Vs.prototype.update=Vs.prototype.j,Ws.prototype.add=Ws.prototype.add,Ws.prototype.multiply=Ws.prototype.R,Ws.prototype.modulo=Ws.prototype.gb,Ws.prototype.compare=Ws.prototype.X,Ws.prototype.toNumber=Ws.prototype.ea,Ws.prototype.toString=Ws.prototype.toString,Ws.prototype.getBits=Ws.prototype.D,Ws.fromNumber=Ys,Ws.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return tu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ys(Math.pow(n,8)),i=Js,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Ys(Math.pow(n,o)),i=i.R(o).add(Ys(s))):i=(i=i.R(r)).add(Ys(s))}return i};var uu=ei.createWebChannelTransport=function(){return new Ls},lu=ei.getStatEventTarget=function(){return Ra()},cu=ei.ErrorCode=za,hu=ei.EventType=qa,fu=ei.Event=_a,du=ei.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pu=ei.FetchXmlHttpFactory=Xo,mu=ei.WebChannel=Wa,gu=ei.XhrIo=is,yu=ei.Md5=Vs,vu=ei.Integer=Ws;const bu="@firebase/firestore";class xu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xu.UNAUTHENTICATED=new xu(null),xu.GOOGLE_CREDENTIALS=new xu("google-credentials-uid"),xu.FIRST_PARTY=new xu("first-party-uid"),xu.MOCK_USER=new xu("mock-user");let wu="9.23.0";const Nu=new Dn("@firebase/firestore");function Eu(){return Nu.logLevel}function Su(e){if(Nu.logLevel<=Tn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cu);Nu.debug("Firestore (".concat(wu,"): ").concat(e),...i)}}function Mu(e){if(Nu.logLevel<=Tn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cu);Nu.error("Firestore (".concat(wu,"): ").concat(e),...i)}}function Au(e){if(Nu.logLevel<=Tn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Cu);Nu.warn("Firestore (".concat(wu,"): ").concat(e),...i)}}function Cu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Tu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(wu,") INTERNAL ASSERTION FAILED: ")+e;throw Mu(t),new Error(t)}function ku(e,t){e||Tu()}function Iu(e,t){return e}const Ou={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _u extends fn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Du{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ru{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Pu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xu.UNAUTHENTICATED))}shutdown(){}}class Fu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ju{constructor(e){this.t=e,this.currentUser=xu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Du;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Du,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Su("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Su("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Du)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Su("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ku("string"==typeof t.accessToken),new Ru(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ku(null===e||"string"==typeof e),new xu(e)}}class Lu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=xu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Bu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Lu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xu.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Su("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Su("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Su("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Su("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ku("string"==typeof e.token),this.T=e.token,new Uu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Vu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=qu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Hu(e,t){return e<t?-1:e>t?1:0}function Wu(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Ku{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _u(Ou.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _u(Ou.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _u(Ou.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _u(Ou.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ku.fromMillis(Date.now())}static fromDate(e){return Ku.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ku(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Hu(this.nanoseconds,e.nanoseconds):Hu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gu(e)}static min(){return new Gu(new Ku(0,0))}static max(){return new Gu(new Ku(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yu{constructor(e,t,n){void 0===t?t=0:t>e.length&&Tu(),void 0===n?n=e.length-t:n>e.length-t&&Tu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Yu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yu?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qu extends Yu{construct(e,t,n){return new Qu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new _u(Ou.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Qu(e)}static emptyPath(){return new Qu([])}}const Ju=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xu extends Yu{construct(e,t,n){return new Xu(e,t,n)}static isValidIdentifier(e){return Ju.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xu.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _u(Ou.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _u(Ou.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _u(Ou.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new _u(Ou.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xu(t)}static emptyPath(){return new Xu([])}}class Zu{constructor(e){this.path=e}static fromPath(e){return new Zu(Qu.fromString(e))}static fromName(e){return new Zu(Qu.fromString(e).popFirst(5))}static empty(){return new Zu(Qu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zu(new Qu(e.slice()))}}class $u{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}$u.UNKNOWN_ID=-1;function el(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gu.fromTimestamp(1e9===r?new Ku(n+1,0):new Ku(n,r));return new nl(i,Zu.empty(),t)}function tl(e){return new nl(e.readTime,e.key,-1)}class nl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new nl(Gu.min(),Zu.empty(),-1)}static max(){return new nl(Gu.max(),Zu.empty(),-1)}}function rl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zu.comparator(e.documentKey,t.documentKey),0!==n?n:Hu(e.largestBatchId,t.largestBatchId))}const il="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class al{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ol(e){if(e.code!==Ou.FAILED_PRECONDITION||e.message!==il)throw e;Su("LocalStore","Unexpectedly lost primary lease")}class sl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new sl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof sl?t:sl.resolve(t)}catch(e){return sl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):sl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):sl.reject(t)}static resolve(e){return new sl((t,n)=>{t(e)})}static reject(e){return new sl((t,n)=>{n(e)})}static waitFor(e){return new sl((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=sl.resolve(!1);for(const n of e)t=t.next(e=>e?sl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new sl((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const u=s;t(e[u]).next(e=>{a[u]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new sl((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ul(e){return"IndexedDbTransactionError"===e.name}class ll{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function cl(e){return null==e}function hl(e){return 0===e&&1/e==-1/0}function fl(e){return"number"==typeof e&&Number.isInteger(e)&&!hl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}ll.ct=-1;const dl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ml=pl;function gl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bl{constructor(e,t){this.comparator=e,this.root=t||wl.EMPTY}insert(e,t){return new bl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wl.BLACK,null,null))}remove(e){return new bl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xl(this.root,e,this.comparator,!1)}getReverseIterator(){return new xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xl(this.root,e,this.comparator,!0)}}class xl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:wl.RED,this.left=null!=r?r:wl.EMPTY,this.right=null!=i?i:wl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new wl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return wl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tu();if(this.right.isRed())throw Tu();const e=this.left.check();if(e!==this.right.check())throw Tu();return e+(this.isRed()?0:1)}}wl.EMPTY=null,wl.RED=!0,wl.BLACK=!1,wl.EMPTY=new class{constructor(){this.size=0}get key(){throw Tu()}get value(){throw Tu()}get color(){throw Tu()}get left(){throw Tu()}get right(){throw Tu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new wl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nl{constructor(e){this.comparator=e,this.data=new bl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new El(this.data.getIterator())}getIteratorFrom(e){return new El(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Nl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nl(this.comparator);return t.data=e,t}}class El{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sl{constructor(e){this.fields=e,e.sort(Xu.comparator)}static empty(){return new Sl([])}unionWith(e){let t=new Nl(Xu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Sl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ml extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Al{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ml("Invalid base64 string: "+e):e}}(e);return new Al(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Al(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Al.EMPTY_BYTE_STRING=new Al("");const Cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(e){if(ku(!!e),"string"==typeof e){let t=0;const n=Cl.exec(e);if(ku(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:kl(e.seconds),nanos:kl(e.nanos)}}function kl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Il(e){return"string"==typeof e?Al.fromBase64String(e):Al.fromUint8Array(e)}function Ol(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _l(e){const t=e.mapValue.fields.__previous_value__;return Ol(t)?_l(t):t}function Dl(e){const t=Tl(e.mapValue.fields.__local_write_time__.timestampValue);return new Ku(t.seconds,t.nanos)}class Rl{constructor(e,t,n,r,i,a,o,s,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=u}}class Pl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}const Fl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ol(e)?4:Jl(e)?9007199254740991:10:Tu()}function Ll(e,t){if(e===t)return!0;const n=jl(e);if(n!==jl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dl(e).isEqual(Dl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Tl(e.timestampValue),r=Tl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Il(e.bytesValue).isEqual(Il(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kl(e.geoPointValue.latitude)===kl(t.geoPointValue.latitude)&&kl(e.geoPointValue.longitude)===kl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kl(e.integerValue)===kl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kl(e.doubleValue),r=kl(t.doubleValue);return n===r?hl(n)===hl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wu(e.arrayValue.values||[],t.arrayValue.values||[],Ll);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gl(n)!==gl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ll(n[i],r[i])))return!1;return!0}(e,t);default:return Tu()}}function Bl(e,t){return void 0!==(e.values||[]).find(e=>Ll(e,t))}function Ul(e,t){if(e===t)return 0;const n=jl(e),r=jl(t);if(n!==r)return Hu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Hu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kl(e.integerValue||e.doubleValue),r=kl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zl(e.timestampValue,t.timestampValue);case 4:return zl(Dl(e),Dl(t));case 5:return Hu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Il(e),r=Il(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Hu(n[i],r[i]);if(0!==e)return e}return Hu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Hu(kl(e.latitude),kl(t.latitude));return 0!==n?n:Hu(kl(e.longitude),kl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ul(n[i],r[i]);if(e)return e}return Hu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Fl.mapValue&&t===Fl.mapValue)return 0;if(e===Fl.mapValue)return 1;if(t===Fl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Hu(r[o],a[o]);if(0!==e)return e;const t=Ul(n[r[o]],i[a[o]]);if(0!==t)return t}return Hu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Tu()}}function zl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Hu(e,t);const n=Tl(e),r=Tl(t),i=Hu(n.seconds,r.seconds);return 0!==i?i:Hu(n.nanos,r.nanos)}function ql(e){return Vl(e)}function Vl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Tl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Il(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Zu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Vl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Vl(e.fields[i]));return n+"}"}(e.mapValue):Tu();var t,n}function Hl(e){return!!e&&"integerValue"in e}function Wl(e){return!!e&&"arrayValue"in e}function Kl(e){return!!e&&"nullValue"in e}function Gl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yl(e){return!!e&&"mapValue"in e}function Ql(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ql(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ql(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Jl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xl{constructor(e){this.value=e}static empty(){return new Xl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=Xu.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ql(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Yl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ll(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Yl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Xl(Ql(this.value))}}function Zl(e){const t=[];return yl(e.fields,(e,n)=>{const r=new Xu([e]);if(Yl(n)){const e=Zl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Sl(t)}class $l{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new $l(e,0,Gu.min(),Gu.min(),Gu.min(),Xl.empty(),0)}static newFoundDocument(e,t,n,r){return new $l(e,1,t,Gu.min(),n,r,0)}static newNoDocument(e,t){return new $l(e,2,t,Gu.min(),Gu.min(),Xl.empty(),0)}static newUnknownDocument(e,t){return new $l(e,3,t,Gu.min(),Gu.min(),Xl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $l&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $l(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ec{constructor(e,t){this.position=e,this.inclusive=t}}function tc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Zu.comparator(Zu.fromName(o.referenceValue),n.key):Ul(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function nc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ll(e.position[n],t.position[n]))return!1;return!0}class rc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ic(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ac{}class oc extends ac{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new pc(e,t,n):"array-contains"===t?new vc(e,n):"in"===t?new bc(e,n):"not-in"===t?new xc(e,n):"array-contains-any"===t?new wc(e,n):new oc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new mc(e,n):new gc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ul(t,this.value)):null!==t&&jl(this.value)===jl(t)&&this.matchesComparison(Ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class sc extends ac{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new sc(e,t)}matches(e){return uc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function uc(e){return"and"===e.op}function lc(e){return cc(e)&&uc(e)}function cc(e){for(const t of e.filters)if(t instanceof sc)return!1;return!0}function hc(e){if(e instanceof oc)return e.field.canonicalString()+e.op.toString()+ql(e.value);if(lc(e))return e.filters.map(e=>hc(e)).join(",");{const t=e.filters.map(e=>hc(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function fc(e,t){return e instanceof oc?function(e,t){return t instanceof oc&&e.op===t.op&&e.field.isEqual(t.field)&&Ll(e.value,t.value)}(e,t):e instanceof sc?function(e,t){return t instanceof sc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&fc(n,t.filters[r]),!0)}(e,t):void Tu()}function dc(e){return e instanceof oc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ql(e.value))}(e):e instanceof sc?function(e){return e.op.toString()+" {"+e.getFilters().map(dc).join(" ,")+"}"}(e):"Filter"}class pc extends oc{constructor(e,t,n){super(e,t,n),this.key=Zu.fromName(n.referenceValue)}matches(e){const t=Zu.comparator(e.key,this.key);return this.matchesComparison(t)}}class mc extends oc{constructor(e,t){super(e,"in",t),this.keys=yc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gc extends oc{constructor(e,t){super(e,"not-in",t),this.keys=yc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Zu.fromName(e.referenceValue))}class vc extends oc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wl(t)&&Bl(t.arrayValue,this.value)}}class bc extends oc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bl(this.value.arrayValue,t)}}class xc extends oc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bl(this.value.arrayValue,t)}}class wc extends oc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Bl(this.value.arrayValue,e))}}class Nc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.dt=null}}function Ec(e){return new Nc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Sc(e){const t=Iu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>hc(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),cl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ql(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ql(e)).join(",")),t.dt=e}return t.dt}function Mc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ic(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nc(e.startAt,t.startAt)&&nc(e.endAt,t.endAt)}function Ac(e){return Zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Cc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function Tc(e,t,n,r,i,a,o,s){return new Cc(e,t,n,r,i,a,o,s)}function kc(e){return new Cc(e)}function Ic(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Oc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _c(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Dc(e){return null!==e.collectionGroup}function Rc(e){const t=Iu(e);if(null===t.wt){t.wt=[];const e=_c(t),n=Oc(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new rc(e)),t.wt.push(new rc(Xu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new rc(Xu.keyField(),e))}}}return t.wt}function Pc(e){const t=Iu(e);if(!t._t)if("F"===t.limitType)t._t=Ec(t.path,t.collectionGroup,Rc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Rc(t)){const t="desc"===i.dir?"asc":"desc";e.push(new rc(i.field,t))}const n=t.endAt?new ec(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ec(t.startAt.position,t.startAt.inclusive):null;t._t=Ec(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Fc(e,t,n){return new Cc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jc(e,t){return Mc(Pc(e),Pc(t))&&e.limitType===t.limitType}function Lc(e){return"".concat(Sc(Pc(e)),"|lt:").concat(e.limitType)}function Bc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>dc(e)).join(", "),"]")),cl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ql(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ql(e)).join(",")),"Target(".concat(t,")")}(Pc(e)),"; limitType=").concat(e.limitType,")")}function Uc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Rc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=tc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Rc(e),t))&&!(e.endAt&&!function(e,t,n){const r=tc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Rc(e),t))}(e,t)}function zc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qc(e){return(t,n)=>{let r=!1;for(const i of Rc(e)){const e=Vc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Vc(e,t,n){const r=e.field.isKeyField()?Zu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ul(r,i):Tu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tu()}}class Hc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return vl(this.inner)}size(){return this.innerSize}}const Wc=new bl(Zu.comparator);function Kc(){return Wc}const Gc=new bl(Zu.comparator);function Yc(){let e=Gc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Qc(e){let t=Gc;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Jc(){return Zc()}function Xc(){return Zc()}function Zc(){return new Hc(e=>e.toString(),(e,t)=>e.isEqual(t))}const $c=new bl(Zu.comparator),eh=new Nl(Zu.comparator);function th(){let e=eh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const nh=new Nl(Hu);function rh(){return nh}function ih(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hl(t)?"-0":t}}function ah(e){return{integerValue:""+e}}function oh(e,t){return fl(t)?ah(t):ih(e,t)}class sh{constructor(){this._=void 0}}function uh(e,t,n){return e instanceof hh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ol(t)&&(t=_l(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fh?dh(e,t):e instanceof ph?mh(e,t):function(e,t){const n=ch(e,t),r=yh(n)+yh(e.gt);return Hl(n)&&Hl(e.gt)?ah(r):ih(e.serializer,r)}(e,t)}function lh(e,t,n){return e instanceof fh?dh(e,t):e instanceof ph?mh(e,t):n}function ch(e,t){return e instanceof gh?Hl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class hh extends sh{}class fh extends sh{constructor(e){super(),this.elements=e}}function dh(e,t){const n=vh(t);for(const r of e.elements)n.some(e=>Ll(e,r))||n.push(r);return{arrayValue:{values:n}}}class ph extends sh{constructor(e){super(),this.elements=e}}function mh(e,t){let n=vh(t);for(const r of e.elements)n=n.filter(e=>!Ll(e,r));return{arrayValue:{values:n}}}class gh extends sh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function yh(e){return kl(e.integerValue||e.doubleValue)}function vh(e){return Wl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bh{constructor(e,t){this.version=e,this.transformResults=t}}class xh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xh}static exists(e){return new xh(void 0,e)}static updateTime(e){return new xh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Nh{}function Eh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dh(e.key,xh.none()):new Th(e.key,e.data,xh.none());{const n=e.data,r=Xl.empty();let i=new Nl(Xu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new kh(e.key,r,new Sl(i.toArray()),xh.none())}}function Sh(e,t,n){e instanceof Th?function(e,t,n){const r=e.value.clone(),i=Oh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof kh?function(e,t,n){if(!wh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Oh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ih(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Mh(e,t,n,r){return e instanceof Th?function(e,t,n,r){if(!wh(e.precondition,t))return n;const i=e.value.clone(),a=_h(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof kh?function(e,t,n,r){if(!wh(e.precondition,t))return n;const i=_h(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ih(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return wh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ah(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ch(r.transform,e||null);null!=i&&(null===n&&(n=Xl.empty()),n.set(r.field,i))}return n||null}function Ch(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wu(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fh&&t instanceof fh||e instanceof ph&&t instanceof ph?Wu(e.elements,t.elements,Ll):e instanceof gh&&t instanceof gh?Ll(e.gt,t.gt):e instanceof hh&&t instanceof hh}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Th extends Nh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class kh extends Nh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ih(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Oh(e,t,n){const r=new Map;ku(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,lh(o,s,n[i]))}return r}function _h(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,uh(e,a,t))}return r}class Dh extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rh extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ph{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Sh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Mh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Mh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Xc();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=Eh(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Gu.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),th())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,(e,t)=>Ch(e,t))&&Wu(this.baseMutations,e.baseMutations,(e,t)=>Ch(e,t))}}class Fh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ku(e.mutations.length===n.length);let r=$c;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Fh(e,t,n,r)}}class jh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Lh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bh,Uh;function zh(e){switch(e){default:return Tu();case Ou.CANCELLED:case Ou.UNKNOWN:case Ou.DEADLINE_EXCEEDED:case Ou.RESOURCE_EXHAUSTED:case Ou.INTERNAL:case Ou.UNAVAILABLE:case Ou.UNAUTHENTICATED:return!1;case Ou.INVALID_ARGUMENT:case Ou.NOT_FOUND:case Ou.ALREADY_EXISTS:case Ou.PERMISSION_DENIED:case Ou.FAILED_PRECONDITION:case Ou.ABORTED:case Ou.OUT_OF_RANGE:case Ou.UNIMPLEMENTED:case Ou.DATA_LOSS:return!0}}function qh(e){if(void 0===e)return Mu("GRPC error has no .code"),Ou.UNKNOWN;switch(e){case Bh.OK:return Ou.OK;case Bh.CANCELLED:return Ou.CANCELLED;case Bh.UNKNOWN:return Ou.UNKNOWN;case Bh.DEADLINE_EXCEEDED:return Ou.DEADLINE_EXCEEDED;case Bh.RESOURCE_EXHAUSTED:return Ou.RESOURCE_EXHAUSTED;case Bh.INTERNAL:return Ou.INTERNAL;case Bh.UNAVAILABLE:return Ou.UNAVAILABLE;case Bh.UNAUTHENTICATED:return Ou.UNAUTHENTICATED;case Bh.INVALID_ARGUMENT:return Ou.INVALID_ARGUMENT;case Bh.NOT_FOUND:return Ou.NOT_FOUND;case Bh.ALREADY_EXISTS:return Ou.ALREADY_EXISTS;case Bh.PERMISSION_DENIED:return Ou.PERMISSION_DENIED;case Bh.FAILED_PRECONDITION:return Ou.FAILED_PRECONDITION;case Bh.ABORTED:return Ou.ABORTED;case Bh.OUT_OF_RANGE:return Ou.OUT_OF_RANGE;case Bh.UNIMPLEMENTED:return Ou.UNIMPLEMENTED;case Bh.DATA_LOSS:return Ou.DATA_LOSS;default:return Tu()}}(Uh=Bh||(Bh={}))[Uh.OK=0]="OK",Uh[Uh.CANCELLED=1]="CANCELLED",Uh[Uh.UNKNOWN=2]="UNKNOWN",Uh[Uh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Uh[Uh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Uh[Uh.NOT_FOUND=5]="NOT_FOUND",Uh[Uh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Uh[Uh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Uh[Uh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Uh[Uh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Uh[Uh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Uh[Uh.ABORTED=10]="ABORTED",Uh[Uh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Uh[Uh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Uh[Uh.INTERNAL=13]="INTERNAL",Uh[Uh.UNAVAILABLE=14]="UNAVAILABLE",Uh[Uh.DATA_LOSS=15]="DATA_LOSS";class Vh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Hh}static getOrCreateInstance(){return null===Hh&&(Hh=new Vh),Hh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Hh=null;function Wh(){return new TextEncoder}const Kh=new vu([4294967295,4294967295],0);function Gh(e){const t=Wh().encode(e),n=new yu;return n.update(t),new Uint8Array(n.digest())}function Yh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new vu([n,r],0),new vu([i,a],0)]}class Qh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Jh("Invalid padding: ".concat(t));if(n<0)throw new Jh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Jh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Jh("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=vu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(vu.fromNumber(n)));return 1===r.compare(Kh)&&(r=new vu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Gh(e),[n,r]=Yh(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Qh(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.It)return;const t=Gh(e),[n,r]=Yh(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Xh(Gu.min(),r,new bl(Hu),Kc(),th())}}class Zh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Zh(n,t,th(),th(),th())}}class $h{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class ef{constructor(e,t){this.targetId=e,this.Vt=t}}class tf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Al.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class nf{constructor(){this.St=0,this.Dt=of(),this.Ct=Al.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=th(),t=th(),n=th();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Tu()}}),new Zh(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=of()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Kc(),this.zt=af(),this.Wt=new bl(Hu)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Tu()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const a=i.target;if(Ac(a))if(0===r){const e=new Zu(a.path);this.Yt(n,e,$l.newNoDocument(e,Gu.min()))}else ku(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Vh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u;const l={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(l.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==c?void 0:c.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),l}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let s,u;try{s=Il(i).toUint8Array()}catch(e){if(e instanceof Ml)return Au("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{u=new Qh(s,a,o)}catch(e){return Au(e instanceof Jh?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===u.It?1:r!==t-this.oe(e.targetId,u)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(a)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Ac(i.target)){const t=new Zu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,$l.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=th();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new Xh(e,t,this.Wt,this.jt,n);return this.jt=Kc(),this.zt=af(),this.Wt=new bl(Hu),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new nf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Nl(Hu),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Su("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function af(){return new bl(Zu.comparator)}function of(){return new bl(Zu.comparator)}const sf={asc:"ASCENDING",desc:"DESCENDING"},uf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lf={and:"AND",or:"OR"};class cf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hf(e,t){return e.useProto3Json||cl(t)?t:{value:t}}function ff(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function df(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pf(e,t){return ff(e,t.toTimestamp())}function mf(e){return ku(!!e),Gu.fromTimestamp(function(e){const t=Tl(e);return new Ku(t.seconds,t.nanos)}(e))}function gf(e,t){return function(e){return new Qu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function yf(e){const t=Qu.fromString(e);return ku(jf(t)),t}function vf(e,t){return gf(e.databaseId,t.path)}function bf(e,t){const n=yf(t);if(n.get(1)!==e.databaseId.projectId)throw new _u(Ou.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _u(Ou.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zu(Ef(n))}function xf(e,t){return gf(e.databaseId,t)}function wf(e){const t=yf(e);return 4===t.length?Qu.emptyPath():Ef(t)}function Nf(e){return new Qu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ef(e){return ku(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sf(e,t,n){return{name:vf(e,t),fields:n.value.mapValue.fields}}function Mf(e,t){let n;if(t instanceof Th)n={update:Sf(e,t.key,t.value)};else if(t instanceof Dh)n={delete:vf(e,t.key)};else if(t instanceof kh)n={update:Sf(e,t.key,t.data),updateMask:Ff(t.fieldMask)};else{if(!(t instanceof Rh))return Tu();n={verify:vf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof hh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ph)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gh)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Tu()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Tu()}(e,t.precondition)),n}function Af(e,t){return{documents:[xf(e,t.path)]}}function Cf(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=xf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Pf(sc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Df(e.field),direction:If(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=hf(e,t.limit);var s;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Tf(e){let t=wf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ku(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=kf(e);return t instanceof sc&&lc(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new rc(Rf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,cl(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new ec(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new ec(n,t)}(n.endAt)),Tc(t,i,o,a,s,"F",u,l)}function kf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rf(e.unaryFilter.field);return oc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rf(e.unaryFilter.field);return oc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rf(e.unaryFilter.field);return oc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Rf(e.unaryFilter.field);return oc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Tu()}}(e):void 0!==e.fieldFilter?function(e){return oc.create(Rf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return sc.create(e.compositeFilter.filters.map(e=>kf(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Tu()}}(e.compositeFilter.op))}(e):Tu()}function If(e){return sf[e]}function Of(e){return uf[e]}function _f(e){return lf[e]}function Df(e){return{fieldPath:e.canonicalString()}}function Rf(e){return Xu.fromServerFormat(e.fieldPath)}function Pf(e){return e instanceof oc?function(e){if("=="===e.op){if(Gl(e.value))return{unaryFilter:{field:Df(e.field),op:"IS_NAN"}};if(Kl(e.value))return{unaryFilter:{field:Df(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gl(e.value))return{unaryFilter:{field:Df(e.field),op:"IS_NOT_NAN"}};if(Kl(e.value))return{unaryFilter:{field:Df(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Df(e.field),op:Of(e.op),value:e.value}}}(e):e instanceof sc?function(e){const t=e.getFilters().map(e=>Pf(e));return 1===t.length?t[0]:{compositeFilter:{op:_f(e.op),filters:t}}}(e):Tu()}function Ff(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function jf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Lf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gu.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gu.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Al.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Lf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bf{constructor(e){this.fe=e}}function Uf(e){const t=Tf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fc(t,t.limit,"L"):t}class zf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(kl(e.integerValue));else if("doubleValue"in e){const n=kl(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),hl(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Il(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Jl(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Tu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Zu.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}zf.Ve=new zf;class qf{constructor(){this.rn=new Vf}addToCollectionParentIndex(e,t){return this.rn.add(t),sl.resolve()}getCollectionParents(e,t){return sl.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return sl.resolve()}deleteFieldIndex(e,t){return sl.resolve()}getDocumentsMatchingTarget(e,t){return sl.resolve(null)}getIndexType(e,t){return sl.resolve(0)}getFieldIndexes(e,t){return sl.resolve([])}getNextCollectionGroupToUpdate(e){return sl.resolve(null)}getMinOffset(e,t){return sl.resolve(nl.min())}getMinOffsetFromCollectionGroup(e,t){return sl.resolve(nl.min())}updateCollectionGroup(e,t,n){return sl.resolve()}updateIndexEntries(e,t){return sl.resolve()}}class Vf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nl(Qu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Nl(Qu.comparator)).toArray()}}new Uint8Array(0);class Hf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Hf(e,Hf.DEFAULT_COLLECTION_PERCENTILE,Hf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Hf.DEFAULT_COLLECTION_PERCENTILE=10,Hf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hf.DEFAULT=new Hf(41943040,Hf.DEFAULT_COLLECTION_PERCENTILE,Hf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hf.DISABLED=new Hf(-1,0,0);class Wf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Wf(0)}static Mn(){return new Wf(-1)}}class Kf{constructor(){this.changes=new Hc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$l.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?sl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Yf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Mh(n.mutation,e,Sl.empty(),Ku.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,th()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:th();const r=Jc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Yc();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Jc();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,th()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Kc();const a=Zc(),o=Zc();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof kh)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Mh(o.mutation,t,o.mutation.getFieldMask(),Ku.now())):a.set(t.key,Sl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Gf(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Zc();let r=new bl((e,t)=>e-t),i=th();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||Sl.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||th()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,u=r.value,l=Xc();u.forEach(e=>{if(!i.has(e)){const r=Eh(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return sl.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):sl.resolve(Jc());let o=-1,s=i;return a.next(t=>sl.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?sl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,th())).next(e=>({batchId:o,changes:Qc(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zu(t)).next(e=>{let t=Yc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Yc();return this.indexManager.getCollectionParents(e,r).next(a=>sl.forEach(a,a=>{const o=function(e,t){return new Cc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,$l.newInvalidDocument(r)))});let n=Yc();return e.forEach((e,i)=>{const a=r.get(e);void 0!==a&&Mh(a.mutation,i,Sl.empty(),Ku.now()),Uc(t,i)&&(n=n.insert(e,i))}),n})}}class Qf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return sl.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:mf(n.createTime)}),sl.resolve()}getNamedQuery(e,t){return sl.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Uf(e.bundledQuery),readTime:mf(e.readTime)}}(t)),sl.resolve()}}class Jf{constructor(){this.overlays=new bl(Zu.comparator),this.ls=new Map}getOverlay(e,t){return sl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Jc();return sl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),sl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),sl.resolve()}getOverlaysForCollection(e,t,n){const r=Jc(),i=t.length+1,a=new Zu(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return sl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new bl((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Jc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Jc(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return sl.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new jh(t,n));let i=this.ls.get(t);void 0===i&&(i=th(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Xf{constructor(){this.fs=new Nl(Zf.ds),this.ws=new Nl(Zf._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Zf(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Zf(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Zu(new Qu([])),n=new Zf(t,e),r=new Zf(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Zu(new Qu([])),n=new Zf(t,e),r=new Zf(t,e+1);let i=th();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Zf(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Zf{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Zu.comparator(e.key,t.key)||Hu(e.As,t.As)}static _s(e,t){return Hu(e.As,t.As)||Zu.comparator(e.key,t.key)}}class $f{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Nl(Zf.ds)}checkEmpty(e){return sl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Ph(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Rs=this.Rs.add(new Zf(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return sl.resolve(a)}lookupMutationBatch(e,t){return sl.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return sl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return sl.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return sl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zf(t,0),r=new Zf(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),sl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nl(Hu);return t.forEach(e=>{const t=new Zf(e,0),r=new Zf(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),sl.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Zu.isDocumentKey(i)||(i=i.child(""));const a=new Zf(new Zu(i),0);let o=new Nl(Hu);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)},a),sl.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ku(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return sl.forEach(t.mutations,r=>{const i=new Zf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Zf(t,0),r=this.Rs.firstAfterOrEqual(n);return sl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,sl.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ed{constructor(e){this.Ds=e,this.docs=new bl(Zu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return sl.resolve(n?n.document.mutableCopy():$l.newInvalidDocument(t))}getEntries(e,t){let n=Kc();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():$l.newInvalidDocument(e))}),sl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Kc();const a=t.path,o=new Zu(a.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||rl(tl(o),n)<=0||(r.has(o.key)||Uc(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return sl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Tu()}Cs(e,t){return sl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new td(this)}getSize(e){return sl.resolve(this.size)}}class td extends Kf{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),sl.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class nd{constructor(e){this.persistence=e,this.xs=new Hc(e=>Sc(e),Mc),this.lastRemoteSnapshotVersion=Gu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Xf,this.targetCount=0,this.Ms=Wf.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),sl.resolve()}getLastRemoteSnapshotVersion(e){return sl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return sl.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),sl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),sl.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Wf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,sl.resolve()}updateTargetData(e,t){return this.Fn(t),sl.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,sl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),sl.waitFor(i).next(()=>r)}getTargetCount(e){return sl.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return sl.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),sl.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),sl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),sl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return sl.resolve(n)}containsKey(e,t){return sl.resolve(this.ks.containsKey(t))}}class rd{constructor(e,t){this.$s={},this.overlays={},this.Os=new ll(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new nd(this),this.indexManager=new qf,this.remoteDocumentCache=function(e){return new ed(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Bf(t),this.qs=new Qf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new $f(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Su("MemoryPersistence","Starting transaction:",e);const r=new id(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return sl.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class id extends al{constructor(e){super(),this.currentSequenceNumber=e}}class ad{constructor(e){this.persistence=e,this.Qs=new Xf,this.js=null}static zs(e){return new ad(e)}get Ws(){if(this.js)return this.js;throw Tu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),sl.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),sl.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),sl.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sl.forEach(this.Ws,n=>{const r=Zu.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Gu.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return sl.or([()=>sl.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class od{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=th(),r=th();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new od(e,t.fromCache,n,r)}}class sd{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Ic(t))return sl.resolve(null);let n=Pc(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Fc(t,null,"F"),n=Pc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=th(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.ji(t,r);return this.zi(t,a,i,n.readTime)?this.Ki(e,Fc(t,null,"F")):this.Wi(e,a,t,n)}))})))}Gi(e,t,n,r){return Ic(t)||r.isEqual(Gu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const a=this.ji(t,i);return this.zi(t,a,n,r)?this.Qi(e,t):(Eu()<=Tn.DEBUG&&Su("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bc(t)),this.Wi(e,a,t,el(r,-1)))})}ji(e,t){let n=new Nl(qc(e));return t.forEach((t,r)=>{Uc(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Eu()<=Tn.DEBUG&&Su("QueryEngine","Using full collection scan to execute query:",Bc(t)),this.Ui.getDocumentsMatchingQuery(e,t,nl.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class ud{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new bl(Hu),this.Yi=new Hc(e=>Sc(e),Mc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function ld(e,t,n,r){return new ud(e,t,n,r)}async function cd(e,t){const n=Iu(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=th();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({er:e,removedBatchIds:i,addedBatchIds:a}))})})}function hd(e){const t=Iu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function fd(e,t,n){let r=th(),i=th();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Kc();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Gu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Su("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{nr:r,sr:i}})}function dd(e,t){const n=Iu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function pd(e,t){const n=Iu(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,sl.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Lf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function md(e,t,n){const r=Iu(e),i=r.Ji.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!ul(e))throw e;Su("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function gd(e,t,n){const r=Iu(e);let i=Gu.min(),a=th();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Iu(e),i=r.Yi.get(n);return void 0!==i?sl.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Pc(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Gu.min(),n?a:th())).next(e=>(yd(r,zc(t),e),{documents:e,ir:a})))}function yd(e,t,n){let r=e.Xi.get(t)||Gu.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class vd{constructor(){this.activeTargetIds=rh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bd{constructor(){this.Hr=new vd,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new vd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xd{Yr(e){}shutdown(){}}class wd{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Su("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Su("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Nd=null;function Ed(){return null===Nd?Nd=268435456+Math.round(2147483648*Math.random()):Nd++,"0x"+Nd.toString(16)}const Sd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Md{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ad="WebChannelConnection";class Cd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const a=Ed(),o=this.To(e,t);Su("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then(t=>(Su("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw Au("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}vo(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Sd[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Ed();return new Promise((a,o)=>{const s=new gu;s.setWithCredentials(!0),s.listenOnce(hu.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case cu.NO_ERROR:const t=s.getResponseJson();Su(Ad,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case cu.TIMEOUT:Su(Ad,"RPC '".concat(e,"' ").concat(i," timed out")),o(new _u(Ou.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const n=s.getStatus();if(Su(Ad,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ou).indexOf(t)>=0?t:Ou.UNKNOWN}(t.status);o(new _u(e,t.message))}else o(new _u(Ou.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new _u(Ou.UNAVAILABLE,"Connection failed."));break;default:Tu()}}finally{Su(Ad,"RPC '".concat(e,"' ").concat(i," completed."))}});const u=JSON.stringify(r);Su(Ad,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)})}Ro(e,t,n){const r=Ed(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=uu(),o=lu(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new pu({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const l=i.join("");Su(Ad,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);const c=a.createWebChannel(l,s);let h=!1,f=!1;const d=new Md({ro:t=>{f?Su(Ad,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Su(Ad,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Su(Ad,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,mu.EventType.OPEN,()=>{f||Su(Ad,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(c,mu.EventType.CLOSE,()=>{f||(f=!0,Su(Ad,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())}),p(c,mu.EventType.ERROR,t=>{f||(f=!0,Au(Ad,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new _u(Ou.UNAVAILABLE,"The operation could not be completed")))}),p(c,mu.EventType.MESSAGE,t=>{var n;if(!f){const i=t.data[0];ku(!!i);const a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Su(Ad,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Bh[e];if(void 0!==t)return qh(t)}(t),i=o.message;void 0===n&&(n=Ou.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),f=!0,d.wo(new _u(n,i)),c.close()}else Su(Ad,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}}),p(o,fu.STAT_EVENT,t=>{t.stat===du.PROXY?Su(Ad,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===du.NOPROXY&&Su(Ad,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{d.fo()},0),d}}function Td(){return"undefined"!=typeof document?document:null}function kd(e){return new cf(e,!0)}class Id{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Su("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Od{constructor(e,t,n,r,i,a,o,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Id(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Ou.RESOURCE_EXHAUSTED?(Mu(t.toString()),Mu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Ou.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new _u(Ou.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Su("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Su("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _d extends Od{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Tu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ku(void 0===t||"string"==typeof t),Al.fromBase64String(t||"")):(ku(void 0===t||t instanceof Uint8Array),Al.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?Ou.UNKNOWN:qh(e.code);return new _u(t,e.message||"")}(o);n=new tf(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=bf(e,r.document.name),a=mf(r.document.updateTime),o=r.document.createTime?mf(r.document.createTime):Gu.min(),s=new Xl({mapValue:{fields:r.document.fields}}),u=$l.newFoundDocument(i,a,o,s),l=r.targetIds||[],c=r.removedTargetIds||[];n=new $h(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=bf(e,r.document),a=r.readTime?mf(r.readTime):Gu.min(),o=$l.newNoDocument(i,a),s=r.removedTargetIds||[];n=new $h([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=bf(e,r.document),a=r.removedTargetIds||[];n=new $h([],a,i,null)}else{if(!("filter"in t))return Tu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Lh(r,i),o=e.targetId;n=new ef(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Gu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Gu.min():t.readTime?mf(t.readTime):Gu.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Nf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ac(r)?{documents:Af(e,r)}:{query:Cf(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=df(e,t.resumeToken);const r=hf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Gu.min())>0){n.readTime=ff(e,t.snapshotVersion.toTimestamp());const r=hf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Nf(this.serializer),t.removeTarget=e,this.Wo(t)}}class Dd extends Od{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ku(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(ku(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?mf(e.updateTime):mf(t);return n.isEqual(Gu.min())&&(n=mf(t)),new bh(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=mf(e.commitTime);return this.listener.cu(n,t)}return ku(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Mf(this.serializer,e))};this.Wo(t)}}class Rd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new _u(Ou.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,a]=r;return this.connection.Io(e,t,n,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ou.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _u(Ou.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.vo(e,t,n,a,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ou.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _u(Ou.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Pd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Mu(t),this.mu=!1):Su("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Fd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Wd(this)&&(Su("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Iu(e);t.vu.add(4),await Ld(t),t.bu.set("Unknown"),t.vu.delete(4),await jd(t)}(this))})}),this.bu=new Pd(n,r)}}async function jd(e){if(Wd(e))for(const t of e.Ru)await t(!0)}async function Ld(e){for(const t of e.Ru)await t(!1)}function Bd(e,t){const n=Iu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Hd(n)?Vd(n):lp(n).Ko()&&zd(n,t))}function Ud(e,t){const n=Iu(e),r=lp(n);n.Au.delete(t),r.Ko()&&qd(n,t),0===n.Au.size&&(r.Ko()?r.jo():Wd(n)&&n.bu.set("Unknown"))}function zd(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Gu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lp(e).su(t)}function qd(e,t){e.Vu.qt(t),lp(e).iu(t)}function Vd(e){e.Vu=new rf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),lp(e).start(),e.bu.gu()}function Hd(e){return Wd(e)&&!lp(e).Uo()&&e.Au.size>0}function Wd(e){return 0===Iu(e).vu.size}function Kd(e){e.Vu=void 0}async function Gd(e){e.Au.forEach((t,n)=>{zd(e,t)})}async function Yd(e,t){Kd(e),Hd(e)?(e.bu.Iu(t),Vd(e)):e.bu.set("Unknown")}async function Qd(e,t,n){if(e.bu.set("Online"),t instanceof tf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Su("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Jd(e,n)}else if(t instanceof $h?e.Vu.Ht(t):t instanceof ef?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Gu.min()))try{const t=await hd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Al.EMPTY_BYTE_STRING,r.snapshotVersion)),qd(e,t);const i=new Lf(r.target,t,n,r.sequenceNumber);zd(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Su("RemoteStore","Failed to raise snapshot:",t),await Jd(e,t)}}async function Jd(e,t,n){if(!ul(t))throw t;e.vu.add(1),await Ld(e),e.bu.set("Offline"),n||(n=()=>hd(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Su("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await jd(e)})}function Xd(e,t){return t().catch(n=>Jd(e,n,t))}async function Zd(e){const t=Iu(e),n=cp(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;$d(t);)try{const e=await dd(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,ep(t,e)}catch(e){await Jd(t,e)}tp(t)&&np(t)}function $d(e){return Wd(e)&&e.Eu.length<10}function ep(e,t){e.Eu.push(t);const n=cp(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function tp(e){return Wd(e)&&!cp(e).Uo()&&e.Eu.length>0}function np(e){cp(e).start()}async function rp(e){cp(e).hu()}async function ip(e){const t=cp(e);for(const n of e.Eu)t.uu(n.mutations)}async function ap(e,t,n){const r=e.Eu.shift(),i=Fh.from(r,t,n);await Xd(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Zd(e)}async function op(e,t){t&&cp(e).ou&&await async function(e,t){if(zh(n=t.code)&&n!==Ou.ABORTED){const n=e.Eu.shift();cp(e).Qo(),await Xd(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Zd(e)}var n}(e,t),tp(e)&&np(e)}async function sp(e,t){const n=Iu(e);n.asyncQueue.verifyOperationInProgress(),Su("RemoteStore","RemoteStore received new credentials");const r=Wd(n);n.vu.add(3),await Ld(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await jd(n)}async function up(e,t){const n=Iu(e);t?(n.vu.delete(2),await jd(n)):t||(n.vu.add(2),await Ld(n),n.bu.set("Unknown"))}function lp(e){return e.Su||(e.Su=function(e,t,n){const r=Iu(e);return r.fu(),new _d(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Gd.bind(null,e),ao:Yd.bind(null,e),nu:Qd.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Hd(e)?Vd(e):e.bu.set("Unknown")):(await e.Su.stop(),Kd(e))})),e.Su}function cp(e){return e.Du||(e.Du=function(e,t,n){const r=Iu(e);return r.fu(),new Dd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:rp.bind(null,e),ao:op.bind(null,e),au:ip.bind(null,e),cu:ap.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Zd(e)):(await e.Du.stop(),e.Eu.length>0&&(Su("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class hp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Du,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new hp(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _u(Ou.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(e,t){if(Mu("AsyncQueue","".concat(t,": ").concat(e)),ul(e))return new _u(Ou.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class dp{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zu.comparator(t.key,n.key):(e,t)=>Zu.comparator(e.key,t.key),this.keyedMap=Yc(),this.sortedSet=new bl(this.comparator)}static emptySet(e){return new dp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new dp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class pp{constructor(){this.Cu=new bl(Zu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Tu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class mp{constructor(e,t,n,r,i,a,o,s,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new mp(e,t,dp.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class gp{constructor(){this.Nu=void 0,this.listeners=[]}}class yp{constructor(){this.queries=new Hc(e=>Lc(e),jc),this.onlineState="Unknown",this.ku=new Set}}async function vp(e,t){const n=Iu(e),r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new gp),i)try{a.Nu=await n.onListen(r)}catch(e){const n=fp(e,"Initialization of query '".concat(Bc(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,a),a.listeners.push(t),t.Mu(n.onlineState),a.Nu&&t.$u(a.Nu)&&Np(n)}async function bp(e,t){const n=Iu(e),r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.listeners.indexOf(t);e>=0&&(a.listeners.splice(e,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function xp(e,t){const n=Iu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Np(n)}function wp(e,t,n){const r=Iu(e),i=r.queries.get(t);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(t)}function Np(e){e.ku.forEach(e=>{e.next()})}class Ep{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new mp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=mp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Sp{constructor(e){this.key=e}}class Mp{constructor(e){this.key=e}}class Ap{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=th(),this.mutatedKeys=th(),this.tc=qc(e),this.ec=new dp(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new pp,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),c=Uc(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;l&&c?l.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.rc(l,c)||(n.track({type:2,doc:c}),d=!0,(s&&this.tc(c,s)>0||u&&this.tc(c,u)<0)&&(o=!0)):!l&&c?(n.track({type:0,doc:c}),d=!0):l&&!c&&(n.track({type:1,doc:l}),d=!0,(s||u)&&(o=!0)),d&&(c?(a=a.add(c),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:a,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const a=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,s=o!==this.Xu;return this.Xu=o,0!==i.length||s?{snapshot:new mp(this.query,e.ec,r,i,e.mutatedKeys,0===o,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new pp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=th(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Mp(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Sp(n))}),t}hc(e){this.Yu=e.ir,this.Zu=th();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return mp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Cp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Tp{constructor(e){this.key=e,this.fc=!1}}class kp{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Hc(e=>Lc(e),jc),this._c=new Map,this.mc=new Set,this.gc=new bl(Zu.comparator),this.yc=new Map,this.Ic=new Xf,this.Tc={},this.Ec=new Map,this.Ac=Wf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Ip(e,t){const n=Yp(e);let r,i;const a=n.wc.get(t);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const e=await pd(n.localStore,Pc(t)),a=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Op(n,t,r,"current"===a,e.resumeToken),n.isPrimaryClient&&Bd(n.remoteStore,e)}return i}async function Op(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await gd(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a);return qp(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const a=await gd(e.localStore,t,!0),o=new Ap(t,a.ir),s=o.sc(a.documents),u=Zh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(s,e.isPrimaryClient,u);qp(e,n,l.cc);const c=new Cp(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),l.snapshot}async function _p(e,t){const n=Iu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!jc(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await md(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ud(n.remoteStore,r.targetId),Up(n,r.targetId)}).catch(ol)):(Up(n,r.targetId),await md(n.localStore,r.targetId,!0))}async function Dp(e,t){const n=Iu(e);try{const e=await function(e,t){const n=Iu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach((a,s)=>{const u=i.get(s);if(!u)return;o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Bs.addMatchingKeys(e,a.addedDocuments,s)));let l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(Al.EMPTY_BYTE_STRING,Gu.min()).withLastLimboFreeSnapshotVersion(Gu.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,l,a)&&o.push(n.Bs.updateTargetData(e,l))});let s=Kc(),u=th();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(fd(e,a,t.documentUpdates).next(e=>{s=e.nr,u=e.sr})),!r.isEqual(Gu.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return sl.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,u)).next(()=>s)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(ku(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?ku(r.fc):e.removedDocuments.size>0&&(ku(r.fc),r.fc=!1))}),await Wp(n,e,t)}catch(e){await ol(e)}}function Rp(e,t,n){const r=Iu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Iu(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&Np(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Pp(e,t,n){const r=Iu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),a=i&&i.key;if(a){let e=new bl(Zu.comparator);e=e.insert(a,$l.newNoDocument(a,Gu.min()));const n=th().add(a),i=new Xh(Gu.min(),new Map,new bl(Hu),e,n);await Dp(r,i),r.gc=r.gc.remove(a),r.yc.delete(t),Hp(r)}else await md(r.localStore,t,!1).then(()=>Up(r,t,n)).catch(ol)}async function Fp(e,t){const n=Iu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Iu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=sl.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);ku(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=th();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Bp(n,r,null),Lp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wp(n,e)}catch(e){await ol(e)}}async function jp(e,t,n){const r=Iu(e);try{const e=await function(e,t){const n=Iu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ku(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Bp(r,t,n),Lp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Wp(r,e)}catch(n){await ol(n)}}function Lp(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Bp(e,t,n){const r=Iu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Up(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||zp(e,t)})}function zp(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Ud(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Hp(e))}function qp(e,t,n){for(const r of n)r instanceof Sp?(e.Ic.addReference(r.key,t),Vp(e,r)):r instanceof Mp?(Su("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||zp(e,r.key)):Tu()}function Vp(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Su("SyncEngine","New document in limbo: "+n),e.mc.add(r),Hp(e))}function Hp(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Zu(Qu.fromString(t)),r=e.Ac.next();e.yc.set(r,new Tp(n)),e.gc=e.gc.insert(n,r),Bd(e.remoteStore,new Lf(Pc(kc(n.path)),r,"TargetPurposeLimboResolution",ll.ct))}}async function Wp(e,t,n){const r=Iu(e),i=[],a=[],o=[];r.wc.isEmpty()||(r.wc.forEach((e,s)=>{o.push(r.Rc(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=od.Li(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=Iu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>sl.forEach(t,t=>sl.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>sl.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ul(e))throw e;Su("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,a))}async function Kp(e,t){const n=Iu(e);if(!n.currentUser.isEqual(t)){Su("SyncEngine","User change. New user:",t.toKey());const e=await cd(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new _u(Ou.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Wp(n,e.er)}}function Gp(e,t){const n=Iu(e),r=n.yc.get(t);if(r&&r.fc)return th().add(r.key);{let e=th();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Yp(e){const t=Iu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pp.bind(null,t),t.dc.nu=xp.bind(null,t.eventManager),t.dc.Pc=wp.bind(null,t.eventManager),t}function Qp(e){const t=Iu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Fp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jp.bind(null,t),t}class Jp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ld(this.persistence,new sd,e.initialUser,this.serializer)}createPersistence(e){return new rd(ad.zs,this.serializer)}createSharedClientState(e){return new bd}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Rp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kp.bind(null,this.syncEngine),await up(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yp}createDatastore(e){const t=kd(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Cd(r));var r;return function(e,t,n,r){return new Rd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Rp(this.syncEngine,e,0),a=wd.D()?new wd:new xd,new Fd(t,n,r,i,a);var t,n,r,i,a}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new kp(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Iu(e);Su("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Ld(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Mu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $p{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=xu.UNAUTHENTICATED,this.clientId=Vu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Su("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Su("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _u(Ou.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Du;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(gA){const n=fp(gA,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function em(e,t){e.asyncQueue.verifyOperationInProgress(),Su("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await cd(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function tm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await rm(e);Su("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>sp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>sp(t.remoteStore,n)),e._onlineComponents=t}function nm(e){return"FirebaseError"===e.name?e.code===Ou.FAILED_PRECONDITION||e.code===Ou.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function rm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Su("FirestoreClient","Using user provided OfflineComponentProvider");try{await em(e,e._uninitializedComponentsProvider._offline)}catch(gA){const n=gA;if(!nm(n))throw n;Au("Error using user provided cache. Falling back to memory cache: "+n),await em(e,new Jp)}}else Su("FirestoreClient","Using default OfflineComponentProvider"),await em(e,new Jp);return e._offlineComponents}async function im(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Su("FirestoreClient","Using user provided OnlineComponentProvider"),await tm(e,e._uninitializedComponentsProvider._online)):(Su("FirestoreClient","Using default OnlineComponentProvider"),await tm(e,new Xp))),e._onlineComponents}function am(e){return im(e).then(e=>e.syncEngine)}async function om(e){const t=await im(e),n=t.eventManager;return n.onListen=Ip.bind(null,t.syncEngine),n.onUnlisten=_p.bind(null,t.syncEngine),n}function sm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Du;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Zp({next:a=>{t.enqueueAndForget(()=>bp(e,o));const s=a.docs.has(n);!s&&a.fromCache?i.reject(new _u(Ou.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new _u(Ou.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new Ep(kc(n.path),a,{includeMetadataChanges:!0,Ku:!0});return vp(e,o)}(await om(e),e.asyncQueue,t,n,r)),r.promise}function um(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Du;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Zp({next:n=>{t.enqueueAndForget(()=>bp(e,o)),n.fromCache&&"server"===r.source?i.reject(new _u(Ou.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Ep(n,a,{includeMetadataChanges:!0,Ku:!0});return vp(e,o)}(await om(e),e.asyncQueue,t,n,r)),r.promise}function lm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const cm=new Map;function hm(e,t,n){if(!n)throw new _u(Ou.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fm(e){if(!Zu.isDocumentKey(e))throw new _u(Ou.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function dm(e){if(Zu.isDocumentKey(e))throw new _u(Ou.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function pm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Tu()}function mm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _u(Ou.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pm(e);throw new _u(Ou.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class gm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new _u(Ou.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _u(Ou.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new _u(Ou.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _u(Ou.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new _u(Ou.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new _u(Ou.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ym{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _u(Ou.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _u(Ou.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Pu;switch(e.type){case"firstParty":return new Bu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _u(Ou.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=cm.get(e);t&&(Su("ComponentProvider","Removing Datastore"),cm.delete(e),t.terminate())}(this),Promise.resolve()}}function vm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=mm(e,ym))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=xu.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tn(JSON.stringify({alg:"none",type:"JWT"})),tn(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new _u(Ou.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new xu(a)}e._authCredentials=new Fu(new Ru(t,n))}}class bm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bm(this.firestore,e,this._key)}}class xm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new xm(this.firestore,e,this._query)}}class wm extends xm{constructor(e,t,n){super(e,t,kc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bm(this.firestore,null,new Zu(e))}withConverter(e){return new wm(this.firestore,e,this._path)}}function Nm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nn(e),1===arguments.length&&(t=Vu.A()),hm("doc","path",t),e instanceof ym){const n=Qu.fromString(t,...r);return fm(n),new bm(e,null,new Zu(n))}{if(!(e instanceof bm||e instanceof wm))throw new _u(Ou.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qu.fromString(t,...r));return fm(n),new bm(e.firestore,e instanceof wm?e.converter:null,new Zu(n))}}class Em{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Id(this,"async_queue_retry"),this.Xc=()=>{const e=Td();e&&Su("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Td();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Td();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Du;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ul(e))throw e;Su("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Mu("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=hp.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Tu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Sm(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class Mm extends ym{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Em,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tm(this),this._firestoreClient.terminate()}}function Am(e,t){const n="string"==typeof e?e:t||"(default)",r=Pr("object"==typeof e?e:Ur(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=on(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&vm(r,...e)}return r}function Cm(e){return e._firestoreClient||Tm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Tm(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Rl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,lm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new $p(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class km{constructor(e){this._byteString=e}static fromBase64String(e){try{return new km(Al.fromBase64String(e))}catch(e){throw new _u(Ou.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new km(Al.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Im{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _u(Ou.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Om{constructor(e){this._methodName=e}}class _m{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _u(Ou.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _u(Ou.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Hu(this._lat,e._lat)||Hu(this._long,e._long)}}const Dm=/^__.*__$/;class Rm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new kh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Th(e,this.data,t,this.fieldTransforms)}}function Pm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tu()}}class Fm{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Gm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Pm(this.ca)&&Dm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class jm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||kd(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Fm({ca:e,methodName:t,ga:n,path:Xu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(e){const t=e._freezeSettings(),n=kd(e._databaseId);return new jm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Bm(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);Vm("Data must be an object, but it was:",o,r);const s=zm(r,o);let u,l;if(a.merge)u=new Sl(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Hm(t,r,n);if(!o.contains(i))throw new _u(Ou.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ym(e,i)||e.push(i)}u=new Sl(e),l=o.fieldTransforms.filter(e=>u.covers(e.field))}else u=null,l=o.fieldTransforms;return new Rm(new Xl(s),u,l)}function Um(e,t){if(qm(e=Nn(e)))return Vm("Unsupported field value:",t,e),zm(e,t);if(e instanceof Om)return function(e,t){if(!Pm(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Um(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Nn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return oh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ku.fromDate(e);return{timestampValue:ff(t.serializer,n)}}if(e instanceof Ku){const n=new Ku(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ff(t.serializer,n)}}if(e instanceof _m)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof km)return{bytesValue:df(t.serializer,e._byteString)};if(e instanceof bm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:gf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(pm(e)))}(e,t)}function zm(e,t){const n={};return vl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yl(e,(e,r)=>{const i=Um(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function qm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ku||e instanceof _m||e instanceof km||e instanceof bm||e instanceof Om)}function Vm(e,t,n){if(!qm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=pm(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Hm(e,t,n){if((t=Nn(t))instanceof Im)return t._internalPath;if("string"==typeof t)return Km(e,t);throw Gm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Wm=new RegExp("[~\\*/\\[\\]]");function Km(e,t,n){if(t.search(Wm)>=0)throw Gm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Im(...t.split("."))._internalPath}catch(oV){throw Gm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Gm(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new _u(Ou.INVALID_ARGUMENT,s+e+u)}function Ym(e,t){return e.some(e=>e.isEqual(t))}class Qm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jm extends Qm{data(){return super.data()}}function Xm(e,t){return"string"==typeof t?Km(e,t):t instanceof Im?t._internalPath:t._delegate._internalPath}function Zm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _u(Ou.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $m{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return yl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new _m(kl(e.latitude),kl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_l(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const t=Tl(e);return new Ku(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qu.fromString(e);ku(jf(n));const r=new Pl(n.get(1),n.get(3)),i=new Zu(n.popFirst(5));return r.isEqual(t)||Mu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function eg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class tg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ng extends Qm{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Xm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class rg extends ng{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ig{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new rg(this._firestore,this._userDataWriter,n.key,n,new tg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _u(Ou.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new rg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new tg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new rg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:ag(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ag(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tu()}}function og(e){e=mm(e,bm);const t=mm(e.firestore,Mm);return sm(Cm(t),e._key).then(n=>hg(t,e,n))}class sg extends $m{constructor(e){super(),this.firestore=e}convertBytes(e){return new km(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bm(this.firestore,null,t)}}function ug(e,t,n){e=mm(e,bm);const r=mm(e.firestore,Mm),i=eg(e.converter,t,n);return cg(r,[Bm(Lm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xh.none())])}function lg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Nn(e);let s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Sm(n[u])||(s=n[u],u++);const l={includeMetadataChanges:s.includeMetadataChanges};if(Sm(n[u])){const e=n[u];n[u]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[u+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[u+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,f;if(e instanceof bm)h=mm(e.firestore,Mm),f=kc(e._key.path),c={next:t=>{n[u]&&n[u](hg(h,e,t))},error:n[u+1],complete:n[u+2]};else{const t=mm(e,xm);h=mm(t.firestore,Mm),f=t._query;const r=new sg(h);c={next:e=>{n[u]&&n[u](new ig(h,r,t,e))},error:n[u+1],complete:n[u+2]},Zm(e._query)}return function(e,t,n,r){const i=new Zp(r),a=new Ep(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>vp(await om(e),a)),()=>{i.Dc(),e.asyncQueue.enqueueAndForget(async()=>bp(await om(e),a))}}(Cm(h),f,l,c)}function cg(e,t){return function(e,t){const n=new Du;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Qp(e);try{const e=await function(e,t){const n=Iu(e),r=Ku.now(),i=t.reduce((e,t)=>e.add(t.key),th());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Kc(),u=th();return n.Zi.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(u=u.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=Ah(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new kh(e.key,t,Zl(t.value.mapValue),xh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,u);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Qc(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new bl(Hu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Wp(r,e.changes),await Zd(r.remoteStore)}catch(e){const t=fp(e,"Failed to persist write");n.reject(t)}}(await am(e),t,n)),n.promise}(Cm(e),t)}function hg(e,t,n){const r=n.docs.get(t._key),i=new sg(e);return new ng(e,i,t._key,r,new tg(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wu=e}(Lr),Rr(new En("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new Mm(new ju(e.getProvider("auth-internal")),new zu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _u(Ou.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),zr(bu,"3.13.0",e),zr(bu,"3.13.0","esm2017")}();function fg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function dg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pg=dg,mg=new dn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gg=new Dn("@firebase/auth");function yg(e){if(gg.logLevel<=Tn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gg.error("Auth (".concat(Lr,"): ").concat(e),...n)}}function vg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ng(e,...n)}function bg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ng(e,...n)}function xg(e,t,n){const r=Object.assign(Object.assign({},pg()),{[t]:n});return new dn("auth","Firebase",r).create(t,{appName:e.name})}function wg(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&vg(e,"argument-error"),xg(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ng(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return mg.create(e,...n)}function Eg(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ng(t,...r)}}function Sg(e){const t="INTERNAL ASSERTION FAILED: "+e;throw yg(t),new Error(t)}function Mg(e,t){e||Sg(t)}function Ag(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Cg(){return"http:"===Tg()||"https:"===Tg()}function Tg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function kg(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Cg()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ig{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mg(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return kg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Og(e,t){Mg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class _g{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Sg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Sg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Sg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rg=new Ig(3e4,6e4);function Pg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Fg(e,t,n,r){return jg(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=yn(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),_g.fetch()(Bg(e,e.config.apiHost,n,o),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))})}async function jg(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Dg),t);try{const t=new Ug(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw zg(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw zg(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw zg(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw zg(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw xg(e,s,o);vg(e,s)}}catch(gA){if(gA instanceof fn)throw gA;vg(e,"network-request-failed",{message:String(gA)})}}async function Lg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Fg(e,t,n,r,i);return"mfaPendingCredential"in a&&vg(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Bg(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Og(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Ug{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(bg(this.auth,"network-request-failed")),Rg.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zg(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bg(e,t,r);return i.customData._tokenResponse=n,i}function qg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(gA){}}function Vg(e){return 1e3*Number(e)}function Hg(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return yg("JWT malformed, contained fewer than 3 sections"),null;try{const e=nn(n);return e?JSON.parse(e):(yg("Failed to decode base64 JWT payload"),null)}catch(gA){return yg("Caught error parsing JWT payload as JSON",null===gA||void 0===gA?void 0:gA.toString()),null}}async function Wg(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(gA){throw gA instanceof fn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(gA)&&e.auth.currentUser===e&&await e.auth.signOut(),gA}}class Kg{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(gA){return void((null===gA||void 0===gA?void 0:gA.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Gg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qg(this.lastLoginAt),this.creationTime=qg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yg(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Wg(e,async function(e,t){return Fg(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Eg(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map(e=>{var{providerId:t}=e,n=fg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),u=e.isAnonymous,l=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),c=!!u&&l,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,h)}class Qg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Eg(e.idToken,"internal-error"),Eg("undefined"!==typeof e.idToken,"internal-error"),Eg("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Hg(e);return Eg(t,"internal-error"),Eg("undefined"!==typeof t.exp,"internal-error"),Eg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Eg(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await jg(e,{},async()=>{const n=yn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=Bg(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",_g.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Qg;return n&&(Eg("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Eg("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Eg("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qg,this.toJSON())}_performRefresh(){return Sg("not implemented")}}function Jg(e,t){Eg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Xg{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wg(this,this.stsTokenManager.getToken(this.auth,e));return Eg(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Nn(e),r=await n.getIdToken(t),i=Hg(r);Eg(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:qg(Vg(i.auth_time)),issuedAtTime:qg(Vg(i.iat)),expirationTime:qg(Vg(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Nn(e);await Yg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Eg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xg(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Eg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Yg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Wg(this,async function(e,t){return Fg(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,u,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:N}=t;Eg(v&&N,e,"internal-error");const E=Qg.fromJSON(this.name,N);Eg("string"===typeof v,e,"internal-error"),Jg(c,e.name),Jg(h,e.name),Eg("boolean"===typeof b,e,"internal-error"),Eg("boolean"===typeof x,e,"internal-error"),Jg(f,e.name),Jg(d,e.name),Jg(p,e.name),Jg(m,e.name),Jg(g,e.name),Jg(y,e.name);const S=new Xg({uid:v,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:x,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Qg;r.updateFromServerResponse(t);const i=new Xg({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Yg(i),i}}const Zg=new Map;function $g(e){Mg(e instanceof Function,"Expected a class definition");let t=Zg.get(e);return t?(Mg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zg.set(e,t),t)}class ey{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ey.type="NONE";const ty=ey;function ny(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ry{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ny(this.userKey,r.apiKey,i),this.fullPersistenceKey=ny("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xg._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ry($g(ty),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||$g(ty);const a=ny(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(a);if(t){const n=Xg._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(u){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(u){}})),new ry(i,e,n)):new ry(i,e,n)}}function iy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ay(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cy(t))return"Blackberry";if(hy(t))return"Webos";if(oy(t))return"Safari";if((t.includes("chrome/")||sy(t))&&!t.includes("edge/"))return"Chrome";if(ly(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/firefox\//i.test(e)}function oy(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/crios\//i.test(e)}function uy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/iemobile/i.test(e)}function ly(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/android/i.test(e)}function cy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/blackberry/i.test(e)}function hy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/webos/i.test(e)}function fy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dy(){return function(){const e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function py(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return fy(e)||ly(e)||hy(e)||cy(e)||/windows phone/i.test(e)||uy(e)}function my(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=iy(cn());break;case"Worker":t="".concat(iy(cn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Lr,"/").concat(r)}async function gy(e,t){return Fg(e,"GET","/v2/recaptchaConfig",Pg(e,t))}function yy(e){return void 0!==e&&void 0!==e.enterprise}class vy{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function by(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=bg("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function xy(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class wy{constructor(e){this.type="recaptcha-enterprise",this.auth=My(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;yy(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{gy(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new vy(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&yy(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));by("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ny(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new wy(e);let a;try{a=await i.verify(n)}catch(s){a=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Ey{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(gA){r(gA)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(gA){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===gA||void 0===gA?void 0:gA.message})}}}class Sy{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ay(this),this.idTokenSubscription=new Ay(this),this.beforeStateQueue=new Ey(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$g(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ry.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(gA){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(gA){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(gA))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Eg(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(gA){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yg(e)}catch(gA){if((null===gA||void 0===gA?void 0:gA.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Nn(e):null;return t&&Eg(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Eg(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($g(e))})}async initializeRecaptchaConfig(){const e=await gy(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new vy(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new wy(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$g(e)||this._popupRedirectResolver;Eg(t,this,"argument-error"),this.redirectPersistenceManager=await ry.create(this,[$g(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Eg(a,this,"internal-error"),a.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Eg(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=my(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(gg.logLevel<=Tn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gg.warn("Auth (".concat(Lr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function My(e){return Nn(e)}class Ay{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new xn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Eg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cy(e,t,n){const r=My(e);Eg(r._canInitEmulator,r,"emulator-config-failed"),Eg(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ty(t),{host:o,port:s}=function(e){const t=Ty(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ky(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ky(t)}}}(t),u=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(o).concat(u,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ty(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ky(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Iy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sg("not implemented")}_getIdTokenResponse(e){return Sg("not implemented")}_linkToIdToken(e,t){return Sg("not implemented")}_getReauthenticationResolver(e){return Sg("not implemented")}}async function Oy(e,t){return Fg(e,"POST","/v1/accounts:update",t)}async function _y(e,t){return Lg(e,"POST","/v1/accounts:signInWithPassword",Pg(e,t))}class Dy extends Iy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Dy(e,t,"password")}static _fromEmailAndCode(e,t){return new Dy(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ny(e,n,"signInWithPassword");return _y(e,t)}return _y(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ny(e,n,"signInWithPassword");return _y(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return Lg(e,"POST","/v1/accounts:signInWithEmailLink",Pg(e,t))}(e,{email:this._email,oobCode:this._password});default:vg(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Oy(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Lg(e,"POST","/v1/accounts:signInWithEmailLink",Pg(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:vg(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ry(e,t){return Lg(e,"POST","/v1/accounts:signInWithIdp",Pg(e,t))}class Py extends Iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Py(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vg("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=fg(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Py(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Ry(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ry(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ry(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yn(t)}return e}}const Fy={USER_NOT_FOUND:"user-not-found"};class jy extends Iy{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new jy({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new jy({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Lg(e,"POST","/v1/accounts:signInWithPhoneNumber",Pg(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Lg(e,"POST","/v1/accounts:signInWithPhoneNumber",Pg(e,t));if(n.temporaryProof)throw zg(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Lg(e,"POST","/v1/accounts:signInWithPhoneNumber",Pg(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Fy)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new jy({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ly{constructor(e){var t,n,r,i,a,o;const s=vn(bn(e)),u=null!==(t=s.apiKey)&&void 0!==t?t:null,l=null!==(n=s.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Eg(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=vn(bn(e)).link,n=t?vn(bn(t)).deep_link_id:null,r=vn(bn(e)).deep_link_id;return(r?vn(bn(r)).link:null)||r||n||t||e}(e);try{return new Ly(t)}catch(n){return null}}}class By{constructor(){this.providerId=By.PROVIDER_ID}static credential(e,t){return Dy._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ly.parseLink(t);return Eg(n,"argument-error"),Dy._fromEmailAndCode(e,n.code,n.tenantId)}}By.PROVIDER_ID="password",By.EMAIL_PASSWORD_SIGN_IN_METHOD="password",By.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Uy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zy extends Uy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qy extends zy{constructor(){super("facebook.com")}static credential(e){return Py._fromParams({providerId:qy.PROVIDER_ID,signInMethod:qy.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qy.credentialFromTaggedObject(e)}static credentialFromError(e){return qy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return qy.credential(t.oauthAccessToken)}catch(n){return null}}}qy.FACEBOOK_SIGN_IN_METHOD="facebook.com",qy.PROVIDER_ID="facebook.com";class Vy extends zy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Py._fromParams({providerId:Vy.PROVIDER_ID,signInMethod:Vy.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vy.credentialFromTaggedObject(e)}static credentialFromError(e){return Vy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Vy.credential(n,r)}catch(i){return null}}}Vy.GOOGLE_SIGN_IN_METHOD="google.com",Vy.PROVIDER_ID="google.com";class Hy extends zy{constructor(){super("github.com")}static credential(e){return Py._fromParams({providerId:Hy.PROVIDER_ID,signInMethod:Hy.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hy.credentialFromTaggedObject(e)}static credentialFromError(e){return Hy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hy.credential(t.oauthAccessToken)}catch(n){return null}}}Hy.GITHUB_SIGN_IN_METHOD="github.com",Hy.PROVIDER_ID="github.com";class Wy extends zy{constructor(){super("twitter.com")}static credential(e,t){return Py._fromParams({providerId:Wy.PROVIDER_ID,signInMethod:Wy.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wy.credentialFromTaggedObject(e)}static credentialFromError(e){return Wy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Wy.credential(n,r)}catch(i){return null}}}async function Ky(e,t){return Lg(e,"POST","/v1/accounts:signUp",Pg(e,t))}Wy.TWITTER_SIGN_IN_METHOD="twitter.com",Wy.PROVIDER_ID="twitter.com";class Gy{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Xg._fromIdTokenResponse(e,n,r),a=Yy(n);return new Gy({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Yy(n);return new Gy({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Yy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Qy extends fn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Qy.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Qy(e,t,n,r)}}function Jy(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qy._fromErrorAndOperation(e,n,t,r);throw n})}async function Xy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wg(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gy._forOperation(e,"link",r)}async function Zy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const a=await Wg(e,Jy(r,i,t,e),n);Eg(a.idToken,r,"internal-error");const o=Hg(a.idToken);Eg(o,r,"internal-error");const{sub:s}=o;return Eg(e.uid===s,r,"user-mismatch"),Gy._forOperation(e,i,a)}catch(gA){throw(null===gA||void 0===gA?void 0:gA.code)==="auth/".concat("user-not-found")&&vg(r,"user-mismatch"),gA}}async function $y(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Jy(e,r,t),a=await Gy._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function ev(e,t,n,r){return Nn(e).onAuthStateChanged(t,n,r)}new WeakMap;const tv="__sak";class nv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tv,"1"),this.storage.removeItem(tv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class rv extends nv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=cn();return oy(e)||fy(e)}()&&function(){try{return!(!window||window===window.top)}catch(gA){return!1}}(),this.fallbackToPolling=py(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);dy()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rv.type="LOCAL";const iv=rv;class av extends nv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}av.type="SESSION";const ov=av;class sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new sv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function uv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}sv.receivers=[];class lv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const u=uv("",20);r.port1.start();const l=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function cv(){return window}function hv(){return"undefined"!==typeof cv().WorkerGlobalScope&&"function"===typeof cv().importScripts}const fv="firebaseLocalStorageDb",dv="firebaseLocalStorage",pv="fbase_key";class mv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gv(e,t){return e.transaction([dv],t?"readwrite":"readonly").objectStore(dv)}function yv(){const e=indexedDB.open(fv,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(dv,{keyPath:pv})}catch(gA){n(gA)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(dv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(fv);return new mv(e).toPromise()}(),t(await yv()))})})}async function vv(e,t,n){const r=gv(e,!0).put({[pv]:t,value:n});return new mv(r).toPromise()}function bv(e,t){const n=gv(e,!0).delete(t);return new mv(n).toPromise()}class xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await yv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(gA){if(t++>3)throw gA;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sv._getInstance(hv()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new lv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yv();return await vv(e,tv,"1"),await bv(e,tv),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>vv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=gv(e,!1).get(t),r=await new mv(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=gv(e,!1).getAll();return new mv(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xv.type="LOCAL";const wv=xv;xy("rcb"),new Ig(3e4,6e4);const Nv="recaptcha";async function Ev(e,t,n){var r;const i=await n.verify();try{let a;if(Eg("string"===typeof i,e,"argument-error"),Eg(n.type===Nv,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){Eg("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Fg(e,"POST","/v2/accounts/mfaEnrollment:start",Pg(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Eg("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;Eg(n,e,"missing-multi-factor-info");const o=await function(e,t){return Fg(e,"POST","/v2/accounts/mfaSignIn:start",Pg(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Fg(e,"POST","/v1/accounts:sendVerificationCode",Pg(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Sv{constructor(e){this.providerId=Sv.PROVIDER_ID,this.auth=My(e)}verifyPhoneNumber(e,t){return Ev(this.auth,e,Nn(t))}static credential(e,t){return jy._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Sv.credentialFromTaggedObject(t)}static credentialFromError(e){return Sv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?jy._fromTokenResponse(n,r):null}}function Mv(e,t){return t?$g(t):(Eg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sv.PROVIDER_ID="phone",Sv.PHONE_SIGN_IN_METHOD="phone";class Av extends Iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ry(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ry(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ry(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cv(e){return $y(e.auth,new Av(e),e.bypassAuthState)}function Tv(e){const{auth:t,user:n}=e;return Eg(n,t,"internal-error"),Zy(n,new Av(e),e.bypassAuthState)}async function kv(e){const{auth:t,user:n}=e;return Eg(n,t,"internal-error"),Xy(n,new Av(e),e.bypassAuthState)}class Iv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(gA){this.reject(gA)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(gA){this.reject(gA)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cv;case"linkViaPopup":case"linkViaRedirect":return kv;case"reauthViaPopup":case"reauthViaRedirect":return Tv;default:vg(this.auth,"internal-error")}}resolve(e){Mg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ov=new Ig(2e3,1e4);class _v extends Iv{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,_v.currentPopupAction&&_v.currentPopupAction.cancel(),_v.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Eg(e,this.auth,"internal-error"),e}async onExecution(){Mg(1===this.filter.length,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(bg(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(bg(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_v.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bg(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ov.get())};e()}}_v.currentPopupAction=null;const Dv=new Map;class Rv extends Iv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Dv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=jv(t),r=Fv(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(gA){e=()=>Promise.reject(gA)}Dv.set(this.auth._key(),e)}return this.bypassAuthState||Dv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Pv(e,t){Dv.set(e._key(),t)}function Fv(e){return $g(e._redirectPersistence)}function jv(e){return ny("pendingRedirect",e.config.apiKey,e.name)}async function Lv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=My(e),i=Mv(r,t),a=new Rv(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Bv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bg(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(e))}saveEventToCache(e){this.cachedEventUids.add(Uv(e)),this.lastProcessedEventTime=Date.now()}}function Uv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function zv(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const qv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vv=/^https?/;async function Hv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Fg(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Wv(r))return}catch(n){}vg(e,"unauthorized-domain")}function Wv(e){const t=Ag(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Vv.test(n))return!1;if(qv.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kv=new Ig(3e4,6e4);function Gv(){const e=cv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Yv=null;function Qv(e){return Yv=Yv||function(e){return new Promise((t,n)=>{var r,i,a;function o(){Gv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gv(),n(bg(e,"network-request-failed"))},timeout:Kv.get()})}if(null===(i=null===(r=cv().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=cv().gapi)||void 0===a?void 0:a.load)){const t=xy("iframefcb");return cv()[t]=()=>{gapi.load?o():n(bg(e,"network-request-failed"))},by("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Yv=null,e})}(e),Yv}const Jv=new Ig(5e3,15e3),Xv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $v(e){const t=e.config;Eg(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Og(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Lr},i=Zv.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(yn(r).slice(1))}const eb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(gA){}}}function nb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u=Object.assign(Object.assign({},eb),{width:r.toString(),height:i.toString(),top:a,left:o}),l=cn().toLowerCase();n&&(s=sy(l)?"_blank":n),ay(l)&&(t=t||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return fy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new tb(null);const h=window.open(t||"",s,c);Eg(h,e,"popup-blocked");try{h.focus()}catch(gA){}return new tb(h)}const rb="__/auth/handler",ib="emulator/auth/handler",ab=encodeURIComponent("fac");async function ob(e,t,n,r,i,a){Eg(e.config.authDomain,e,"auth-domain-config-required"),Eg(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Lr,eventId:i};if(t instanceof Uy){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof zy){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const c of Object.keys(s))void 0===s[c]&&delete s[c];const u=await e._getAppCheckToken(),l=u?"#".concat(ab,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rb);return Og(t,ib)}(e),"?").concat(yn(s).slice(1)).concat(l)}const sb="webStorageSupport";const ub=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ov,this._completeRedirectFn=Lv,this._overrideRedirectResult=Pv}async _openPopup(e,t,n,r){var i;Mg(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return nb(e,await ob(e,t,n,Ag(),r),uv())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){cv().location.href=e}(await ob(e,t,n,Ag(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Mg(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Qv(e),n=cv().gapi;return Eg(n,e,"internal-error"),t.open({where:document.body,url:$v(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xv,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=bg(e,"network-request-failed"),a=cv().setTimeout(()=>{r(i)},Jv.get());function o(){cv().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new Bv(e);return t.register("authEvent",t=>{Eg(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sb,{type:sb},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[sb];void 0!==i&&t(!!i),vg(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return py()||oy()||fy()}};var lb="@firebase/auth",cb="0.23.2";class hb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Eg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fb=un("authIdTokenMaxAge")||300;let db=null;function pb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur();const t=Pr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Pr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(mn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;vg(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ub,persistence:[wv,iv,ov]}),r=un("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>fb)return;const r=null===t||void 0===t?void 0:t.token;db!==r&&(db=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Nn(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Nn(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const a=on("auth");return a&&Cy(n,"http://".concat(a)),n}var mb;mb="Browser",Rr(new En("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Eg(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:s,clientPlatform:mb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:my(mb)},l=new Sy(r,i,a,u);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($g);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Rr(new En("auth-internal",e=>(e=>new hb(e))(My(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),zr(lb,cb,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(mb)),zr(lb,cb,"esm2017");const gb=Br({apiKey:"AIzaSyDS5-lTJeYqFETZQG3Qou6ibnyixaEbrA8",authDomain:"ratemyboba-66460.firebaseapp.com",projectId:"ratemyboba-66460",storageBucket:"ratemyboba-66460.appspot.com",messagingSenderId:"285924454270",appId:"1:285924454270:web:1ef689687066b04ba3cd2f"},"rate_my_boba"),yb=Am(gb),vb=pb(gb);const bb=e=>{let{src:t,elo:n}=e;return(0,Bt.jsxs)("div",{className:"BobaBox-list-item",children:[(0,Bt.jsx)("div",{className:"BobaBox-picture-box",children:(0,Bt.jsx)("img",{src:t,alt:"Boba Shop",className:"item-image"})}),(0,Bt.jsxs)("div",{className:"BobaBox-item-elo",children:["Elo Rating: ",n]})]})},xb=function(){const e=[zt,qt,Vt,Ht,Wt,Kt,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVYAAADNCAYAAADjeVi3AAAACXBIWXMAAAsSAAALEgHS3X78AAAfjElEQVR4nO2d3XHbSLe14a8GVYdXmhOB9EYgOgLREVgTgakIRo7AdASmI7AUwStFMGQEQ0YwYgTHvOIFLvxVaxZsCGoAu4HdQAO9niqVPR4KAAH06t2798+bHz9+JIQQEhuzNJ0nSWJ+LvDVF0mSPOHHsEmSZHfKsu+ut4bCSgiJhlmaGhG9TZLkOkmSc+H33idJsk6S5EEqshRWQsjkgaCukiT50OG7Hs0xTlm2bvoghZUQMmlmabqExXmm9D2NBXt9yrKnqg9QWEnUzNJ0Ad9aV55OWXYX+r2cpelK6VCbU5ZtlI7ljVma3tVYqcfcj4qffJl/Ad+reS8ua353ccqyne1//hbuLSGkF8zg+aRwom2SJMELq9J3zQlaWGtE9YAlfePzggthCb9s0eI1f9+Yidkmro3Cip2zRp+CkFvbRczSdI0ZgoSL9dkREiIVonrEn2YJv4SLwMYTLNgHLPdXOJ75uSp8vlJcG4XV/MIsTa+aPifk94qPzUsXTMKj6tkREhSzNL2tENUFjMQmrbnC73+Zpem2YFQsYAT+WfisEdcHY4AWIwb+H18JQshUKOz+F6n1hzZwBav0Odb1lGVGtD+WfuW87AaisBJCpsRdyRfaRVRzcqv0edWGcKv70mfeYyP0GQorIWQSYD+ovMxfCUR1j83Hfc1nLkuW8C02wV6cK/8LhZUQMhVuS99jLwnmhw/VWLXGT/omSZI/ChtdRX5usMOfWt78uspdBhRWQshUuC59j1bRTKcse6j43avS5zYWK/f5GhjHSoJjlqZ9xkdeCD4jYS68bm9haz2HLS6LPkVlnO8R3AAvfKseEjZsrgJzz78V/tsI65rCSkJkjKF3Z8Lr9hm21mfY4rlDERNX2tyjssh3nZxtE5QthbV8nuf7H4qw3oWexUGsLxUhoVAWYxeL16w2iv9tfKfvLZ97KP+DSSCYpemxaC0bP2sQwjqGHGtCSNCULVYXYf0i+My+Rqd2pZXCBTevCCFTxLk4dQ17SwRALfSxtgTBwp03CsZQIYiQiPmKWFgnoaawtmcpXELUcWQOPiEqPJWX41rHFYjqqzFMV0B7ysHIbaC1SogO5c1VF2H9iB9bUsAXhHLV8aJmq1mFUlhbMEtTl345dVBYCdGhLKwuMbY7ZGhV/U5looFFdJ/Fma6Adjg5smugsNr53OO5FkqxnwdhoWufYWuSsEWtQtdbj+9vm3v0Kp7U7IO4+EZRIvWz5R5doeaq7fuWteD5M6LWLLM01erf8m7smzXIBf5H4VAmM4T+1YFBqxKVDgIm33wE31drLH8+ZZlWmxcVZmn6VFpJvrpGZMeVJ9KfuoRN6SdLf6xXz7fiszcmLIuuAHdorRISJuUl+21e6k8KLNxXiQC51Vo+vqVE4fPvUljd0di0SiisZOSEmIl3V9qAOmvZh6zKEv859uFbLWvBQ+56CNbHqrhEK9LJFYEeOVotdM1uY9dwrb4YvQuHqBOcsBpRQyGaom6YAtRLl+xOpKluLS6D93AFfq8oqP1TaGmxuqHlBiDTI7aJJ9TGkmtLAepvNY0D645T9e8bS1vsF0kEjAoQgpmKDQ9JFTa/3FR5dM1E6gtYrSYc8u/SKb/lRaglmJqsszQ9WMIqbcVZHssFtWmxyglqB5QExTay1uBa7fC9gGdxYzl27iJ4azoFFH6sq41Tll2go8D/1oQAWusIUFgFYGexXJ2ckBytDc0xsB2Dvx0+VZu4mlXn37M0NRbpdV3UgLFw0Ur7qWK/Z49Gha+sd7oCZFwrblqRaXETkbV6HJOBYcR1lqa2jaYES/rnZf0sTfeWaljljgRlHo2lWuUSobDKiMkiIXJuIqolbPyN16H6VquAr3QOca3aIylvRNVxxEZVrTuEroAG8FBcbjyZPkZk/ohIVI11Nh+rZW7Cp5A1dWOJGHDhHveh0cdMi7UZWqskZ4+Nm4exWW4tyLOI7qYSw4yJ8A7G0hJ1IuqMpiNCqza4D+JnTmGtAY7tD8qHfad8vDJLD9c8ZUT91voSF7xzebfVpQcrUfL+GQtvsj3OcE+LWVS2Gg+d7gGFtR7thADvO6oeWxJPEgyeIEQEz+6uEDv5N6otrbUsZGbQvcbHPaGPtR5tNwBfavIKhPWYZfdfloB0E+azQ9A7GQkU1gpgPWj3TY8pO4c0YJb9qImxq8joyTHv4X9NyTtBNXsSABTWarSt1diyc0gNpcBzaYx0Htx+55KeSfqnb2EdhbDgpa2zIFw5MrqAJKiQhoLMXzoknZjNyX8osOHSq7COKERFc9PqiLQ3WquRgiX/LQT1m6KLiQIbKHQF2NES1j1FNV6wKbXCkv+LB599Ti6wD4wKCQOGW5VQ6MB6LAQUc7MqQiBuQ8QTv0cx5pgSGYKEwvqaXYcg/h1f5DhBYP8SvnRflqmUS7gc1gjjWnPV1C8U1hIhBYyT8MEK5zrQbLczXNcHWLF3rqmZpB30sRLiCOp45iXp/utBVI/wz2tyCT/v/8EXu3TtYErkUFgJEVAhpj5q9B5RHGSBako+eA9XQVFkGVWgCF0BhFiA0CywzF/0VOh8j5qnuSvKCF7i2c1QLvj8gE0v+mQ7QGEl5Nfm06Lw03cNXmtF+lOWGXHdwML0zSV+Ps3SNI9uMUK7mXK1Kx9QWEmUwCKdDyikRT6fsqyyWSVajOwgdH21CDorWbMHRMxsILS0aGtoFFYGHJOxA2s0F9E5foYOiUrgT11K4p2NkGEyeBioDfs5fnKhNX9sIbY7hBpSbAEtVjIZCgJ6URDQpqZwQ7F17SGFzy6QzWXrGto3V0WRL4htHrK4mXrR7CoorGRUFFZQRjB/L/w5hBXXlo+SvklVGLcBAv/vAuzHVhTbZ/GH4OadUPOaxPmfk0yqiU1YGRjdjl7uG5a6eZ2GXDQTWKAhLN27Yqy5W40lM1wDC2R6hWC9NpFPAC9EN/klvMdC9bvvhb8/jbFpY2zCusZDnDLq8Yg9+87GIBKuiFomuwJLL2Tr1YWz0qojL9v5OezLthObsI5puRgKXdoFO2F8cYilnFK78UdYqd78jJj45iievQrUp9yWURYyYuYVaaLvF3sqfcHMBPHulGXXfW3ewCK+8Jix1TeHsUYaUFhJE6rLVwGj86eVMBb+zSnL5kN0RDXuAZNUkCTJW/h0x8xoJ1kKK6njvu9QGVgoxxE+lSMC/S9C2Gwx9/GUZQuUwByrwI62njGFlVSxH7BP15gG1BEbLBd12VNDYazmsQrsmAvFU1iJjaMtb71HxjCgzJL/Yy6oocdijlBgHwO4htZIhJU1G+NiC7EYbNMgcEtlDx+quUfrsQW3FwT2beCbXKNuayQR1rngM2T8GEH9wwy6QMQiNIvlEbv88zEGrJeBD9Zscv0HrozQ/NqjFtaQ41hD3BG88FAbczvwd80LaISWz/1QCBIfikOhnckk893xvVZINFgi823oeO/92NNc+xRWp0BzhKoEJa5IIdQW1k2Imx4BMOSzv0ex56i67MISv0Nq8S2KfA+RSjz6FUGfwspCuUTMAFlYj4Xq+d6spVma/lA+ZG0t1zbAijXCelto5X3dY0bX6JNEWN2KhMyDZ2HdFsSUE7+F4sqx0JHWp8iONtuqCIWVhMyDh6IsvVimUwSukWf3CER24cFdMAn3C4WVBAtK4x06Dtx9oZ1IVD5TnxRE1rgL5gWR7brxRWHtAzw0rXx1lVqYITFL07VWSBziG0PDDLQ/Ha7pkAspm+D1A8bULh+n8MvmPy5CexyivoIPJMI69GBzfTh1THHpd6F1f8wkFuDEs2kQ1m2hyV2IYWPRUY7oKQjtvKGV+GRWFGNwBagJ+0QH3U4x3nNRqNweBGbJiVbMSbFxHZvXjQeL0JZ7kuXNHadSMjIqYd0rHSc0NoobPNcDlAls5JRlTKueEDBwnqZkoZYJuggL/KtaYR1T3QHWtMKv0OmUENKB0Ktbafp3J7ls9ODeCHEDi5BREZOwTjlmUbMMHIWVkI5IhFW966cDmoN8Mo5xC5pW67XisQiJEomwDtLPXdm/OnU0hfUcu7aEkJaE7ApQXZJOJfC4Au3vRquVkA70KayuPk5NYR1jczoXuIFFSED0Kayuu/KMCBCCyADNyYPCSkgHgnQFePCvxlDFSHPyOEMaIiGkBbWZVwMOLm0fXwypjzvllhrXIUZSeCgUPXY+zdJUu7Rin7yb4v5HqJtX2oIeco0ALWuaflZCAiFUYdVuZhaysGpZ09pW+SXTWwlpR3DC6sn9EKqwataf9OHuYNgVIS1oEtYhLBZ1YQ24XKBadR+0GXHqhCuA7gBCWtAkrCqV6R3RHsyP3q+4HUf0c9dEuwwbLVZCWhCij1Xbvxpqz/6VB0t6pRzPeobQN0KIA0EJqwf/6k2gVebvT1mmXlAa7oCl8mHpDiDEkT6FVbJJozWIjxDVO6XjafL5lGXa4vcTdM98q+hvpTuAEEeaWrP0ba10Pd8efsZ1gD3jt311icU5LmZpuoQF28W98txVIKD7+S6AayB6TDJ5J7SeV7ctIxG+97Tk/+5YVHqX9/YZIjIBFvuz1Y6Y1NH7SydepYxMhDc/flRnCM7SdKO4mTTJ1DVCCCnTZLEy84YQRTxs0D5NtK37qGkS1svYbxAhyvylfLzPAYcURkvozQQJIWR09CmsXK4QQqKgUli1M27oByKExEKdxcqNK0IIaQF9rIQQokxdVAB7y5PRo5kYMcU47FmaXiiN9b6SdEYBhZVMHVPr4JvCd9xPIXPNwkLp/hyoGb/oK6V17/Jh5Lh3ftinLHtjObZmNlnleapAgLhGLGNlJtssTU1cY9cGc9tTlk2hspVWEZmpWmNaVvi52fCm1fovdT5WzdnHtYCHhmWgWZc0ROpET2OwaNfF7R24Ad4rnXeSgoFoHa2x4q1q29joS1hd0RDWmGdOlUpUEyhyrVnycMp1LrTGCktMgli6tE6RyolPcTk2dleA2kCf+BJX1R2gdKxRUyesg9wgxQcTqoWhNUCbVhROfu0KRiusym4Al1KRY0RzrETvDkgahPVM8TwuD27SM16PBaM1zjPmZ0E3gBxNazx6d0BSJayY7Ydi6harFk3uEo3vf444xzGiOcAn7a/HZK+xwknoDviXKot1yBsT/UNRQssyHt3zUHYDJBFM0ony5BG9O6CvzSuXQa61cRWylaHS6K/Bmox5A0vTWj0E2D/NB5qTR/TugCph1R5MokGuuYQIfDBoVfqqE1atc8QurLG0E9I0RKJ3B4QWbqXlz9PyF40WxTKNo+oi4cENEEU8NMLJNJNqonYH9OVjlVqPWueNYemWCO6XSpiQhz5NPtEe0DElmjA6QIkqYVWNCnAIrtYawKEPBi1rsuk5aU0w0QprZJ2FNb9r1O6A0KICYrFY+xJWrQlmFAMEm3maroupJwaU0TZIonUHVAmrZnKAaAccg0LrvLG0gWkSvNg2sLSXn7HVm9C2zqN1B7wSVg/mu3Rwa56X/bX+Res+nI1kWadtIcXkBsgjaVRCAUG07gCbxaqdddX3xlUyAmHtK3hf0+IKeoB4cAMkkVZI055MonQH2IR1kBhWzfOOoCOs1oCtdZ0ox/KG7g7QXnYeIu0srD2ZROkO6MNi7dsVMPUC1y8Q1HXQ2oAJXVgZZqWDtsV6PrJwPRVswtq7j1V54yq2AdHXBtb5wMV5KvHkBojKv5rjqe5sdO4Am7BqVzOSPChNMY8lOUCK5nI2VMvDx3Iz5g4U2mFm0bkDbMJ6rnj8o9DPpymswQ8I5aBzbmB5sIgiSwwoo/3dTVRJVOL6Qlg9+EJ637iK0GLtK/sqCdFi9eQGiL3WhA/jJF5h9WCRSGe+qCxWZWqFVdnyCrEXmY8BG7O1mlBYu1MW1t79q8obVzEimZTUIiUC3OH1sTESdW98hJlpJgoksbkDQrBYVc85It9Yn8vNSfpZPbkBElqsz9Bq7cBvpV/VXOrtB9i4GoRZmrYZiFqrA8n92yk+W2OxrpWO1RUfA/U4ssQAX3sKG+W6tkmUwuohp/dO+DnNpeVQ1YiG9D1K3Ciagy+kidCHG2Bs1qovt4WP4z67A05Z9uDh2EFRdAVoDxjpzWPzwI4IAve162wO3rmVboBnjr5cXx5dalFYrUVhVbUcJcspDxtXsfrG+sq+yglhA8vXAB2TNeX7Wu89HJPC2oGV8FeHsJKjE18Pu7whrDJ8uAHuR+ZflY6ztkjdeS5EER3wLKywHLUyrh4dlhGaA/RRmOc8xVAayX3UHISDWqye3ADHHoRKk4++JwGM468eDh2HsCoOlKOjJaF13r30vHCcTy2zprE4yinLjPXxqHS+y4ELsvgYmMsRWavGsu4rMmPlYbxEI6waX9QsNReONUA1LNZ9i/MuJ1ZeUCpyS0VxHdIdoOkGMO/BHyPaqf58yrLeqkVhXC0U35skBneAlsVqbvrcpeSYwsbVAS/Z3LWgM65zMaFmcSKRM/fplGXmhf6oMLEM4g5QdgPc470dg6iad/XtKct6d1cU3psbRV/9pIX1zf/89tvvsADm+JG+tEdsFq3b1HDEAGkz8xoR3WjVjUT87sJDge8+ecJS3/W7X+O7t7E+d6csu+37i+Kau5x3h5/NEEt/x2SSHSI6HkJyUyCtOX9v2o6bXKwnyZsfP37YbtwFMoOKN26Bh/yEl5Jpf4QQYsEqrIQQQtpjK3RNCCGEwkoIIeFAYSWEEGUorIQQogyFlRBClKGwEkKIMhRWQghRhsJKCCHKUFgJIUQZCishhChDYRUg7fHkoSEjIWSEUFgrMIWcTSWiWZqaYgr/zNL0qUo4Z2m6xuf+nqXp91ma9lYvkxASHizCUsEsTU0Zvg+l/3s4ZdkL6xUi+s1ylP+MrH8SIUQJWqzVlEU1QevncoHnKuuUVishkUJhJYQQZSis1dh6qh8sBb6rKvf7aB1MCBkBFNZqbksN1La2Pj1oifK58E8HNKejf5WQSOHmFSGEKEOLlRBClKGwEkKIMr+5HK7QvfWZvjq1IjA/7xb7RP8lISRkRD5Wk4WUJMnaEtu5N/GaWj3+Lec1Iv6QJMll6X89bySdsuy7j/NariPvo/5iYimwKbQFD0L0MRktCm3My3htZT5L0xU2+8rPritHvBMrjXtdeLfNtZ4pX6srj/he1vE0S9NrbKpeeTr3uu5dGMszDQGpsJov/b7mplxoixxeePOCnVd8ZHvKsnKwvub5l3iJqr53FQe8JOu+XxKIaX7dVffNRv5iP5yy7EHhOureFy3MNS+6TuqzNN15EIoumO81L787ELVPPZz/BpEuL6jIRNRG5ZmGQKOwYrD+3XCtj6csexWK1AXhg3ynbW1BUFeOwlTFfR+zMCzqlZIlc8A1t4rDrUnx9UGnyRUW4H97ulYXPp+ybFW4TrPq+Kenc78ylMb0TENBsnklSc18b0n1bA1eJMnsqJY2aiYQWC/flEQ1wXf4B9aGOigUYwTwL8Xlofnu31CARlTVq0SfqbxXLa8xZyzVyPq8p2dwIRVRNZoa6PpMg0AirNKbqike0mOpPHAI398el4SfjGhrvjBYSew8Ls+MUO9GUKlr9IMwQMoTzu89X+K0hRWDV2q9XWlYrQ7WquGs6zlh8fXhu7qEUHW2kiB2G0XLuoozWK9rz+cZCkaXEC80WayuoqVhtboeo4uPrQ+HfBEjVJsu4lrwd/W5g/0n7tXU6CVcsAWhXhcR0iSsrgLQyWp1tFZzWonUAKKa01pccW/72kQo80HTj65I6x1kbCreBPZ9vvYVH17D0Lvyo48KaEoQaCNaqw5WZBuL1/lcsPqGENUcI653RqikYWqFmN4huQ3Mmtp2DfMz0Q9mo87Rr7d28Me/czhuCMkvx4GfcednGgKVwoo40jabOVcQDKeH09JaTeBnvZC+kDhPF5/hoeSba7sbf4mJ5Fb4+bsOy/9jyQq4aOmf7XsTo46D1m453h2xoJn2Ow7HHtOy/oiEn6GE7TiVAvF1FmuXTZZli1mvi3924VD/tI1AbfF7D7aXDsv62xbZO8Z3+dA0+GBhuwr4Edd8Zwu4xgSTZ/L43gSrYtvy9zZIwBi9ZeMBkw3Z5r48KcVcR/9MkwZh7eJPM/448UPqYK3miCYB+AhdBCqfwWuX4BCuZcEadsk6krhOXCedrxgklS8pno25VtMI8RbnaJoUVJepUwgED5DbIa1kPtN/qdu86nqDXMSgazSB9FpdzrNHBorYr2nEChloHx3OU7vhB2tValEekZJ46zLzn7JsjXt4bDi2l0QHQqZGnbB2jbf8IAmIV7BWE4kvGOeRWqt75Cy3WpZAqFx2m+v8SlIfbILCNK3ComB1L/Ddy+Q53Iz7JESA1RUAn6FGnORK4IxWsYIEG2ZSgTpqVM7CbvNCOGlYM8gwGUg3ED92XQJCXOewkvNJ8anKt0wIsVPlY9XKoa71tSpZqznzhg0zqbtAsyqVdEPLRDZcW9wO0pTdPaxkFdpava60rKGw06jANWGWLeKN1SZPPtN/8S2sSYPV6rLMbWJRFUblEDp2LFYV6op5UZEOKkmZnVviVH34joslEduGTz0oCXmrVOJZmk6iApIn2hoqK6z6uhoVrZ9pnzWWfVMlrJovrdVqhdhpxqzVTQbSicKHpSatRWC755LrPkpne9zzjUKxmSuIc2s/tML5V5qTIHneIL1THvsuXMHQmsQzrdq8kg48acya7WbdCv24j4LPGM5rNsukWTXqyxFMKLYNoTI261ESDeByzSvFCl6XA2eC0WLVx0dnAhf6LE/olVfC6uifuUYGTBMvIgRgOUncAK6ZGFUWnlRYfeUoS47bVvCkscLmnv/Z8hxVTKJ2JgmGkDo5dMJmsUqF9YhloNRPWrRapdZqHo8psfiSrlaMx2Wts9/KYYKTHttXUWcKKyElbMIqHYDPVhj8exKXwLPV6mCtbgu701LBG0tFeELIaySr31HQxWItWkrS5frKxVot/F0an9nJRwTR94GzVecQkzq0m2MomKygz9DCNpk6tC+EFf4yaWLAzxcbGzSfBb/zQWitfi0VDhEv0SvqnEoHoa8NEYklLXV3tDl27ub42vIcoXFQDtUjSIwZ8D4cp/RMy+FWLkvpsgW0huXatJPdJNy2nHQXa2th+bxUWK+1d7odsqdsk8dBcD/Fk4GpIQCrXLMWbRdLuE0lJFa2qqdNdSutylYJn+m/lIXVxWJ7cRMQDH+r0E7YVkDE5YG/mhzMsnqWppLfvTbCo/yApW4S2zJoJ5moTEypNFvqlGVLdE9Y1rgRpAkVhy73ikH+XmB1qwAo+1jFFqvt4TlsZFWxtwmE40xa9WAlS+0zzeWIw0ZdUiGs0gHiFFRtnp0RWDMIbD8OExl7MxFioSys0s2fuvJyXbKp6kRI6oM8r9iEkmZVfdLopFo4p8RnfaywMqRuifOWOdqvMDULHOrJUlgJsfBTWB0TAyr9ag4bWWXuG5YwLktO23dx8Z0+dI0QgNBJBcp6bbiX0hXAJ6SZtgYTinQCOvZVrIWQsVG0WF2stKal4toxdEOyI+hiHdn8rC4idd6lTbVD4ZWcuoImLuL1ra244rtuHKJCKKqEVFDcvHKxWGuFtcVGVm0bEck5S1R9F2NF/iU8xiXEdSWt5IQIgDvHeNqtrSdVDuq6rhy6CHzDcv5W4psu+IFdqxJ1rm7Vtp32yBr09c1cuFFbZqdUNjD6Z5qUhLVLqNUrzEYWSoE1iYy0lminyIDkV3TAo8MS3VhvXzBJrFEuz1ala4FQrTZhTBIL0zXawny/97M0vcc1v3I1wEJd4se1qPlnpdAc6ST3glmaHjFx0Gp+zZe2vzhLUxM/3nXztsszFRsxofNb8svScunUKZ3ZzKD9p+Ez0gfpEi9pQpDmFZbgLYTQRUzO8cJ+gTWQuxTatpHOEQkUJimXCSHnA1KJk0J8Y9u25jkHDWu1I2ewzHsryh0JfyLccIgW1LkRk0xBXHMfq1PKpdRsh2jc13ykacOqeCzXZUqV1fqkUAf2Cj9dRHXvWE902RCN0cQlrrlrBaGQihFPwroJDFGvOo9Mqh6ri1/ENZ/4tiJUqk1aokuMbOXLgaXxkOmdR9f0WYhZUydV39zU+YMH4EwxNI78YsjU1kk807ourVU4+dYKgvARwrjF3+ctLB81Swm+pDpr2hfHtpX3IWpDLNMSiGqIy25fhXNiZuh7Ovpnmm9euYil86YFRGStsHTbtfAzVoL0zkQ5d76OA5bSra0++FvfOoZGdSVUUSUkSHKL1WWgD7kUdBF1qe/WWIA3PSyxt7DSO98/HGPRoSKWFHNP3lFUo4MFbjryLKwYqFLf6ZB9jh6EAnhwiYuDcMw71jmo4oie/6qN98wzO2XZvGWWmwQThXDRIr6wzzqpVanAvpFOjlrvU9+1Z8v3tE9jaqhnqkrRxyrx3WnFL7YCwiTZNXSOxTPfCwVI/lAq+HuED/fCZ/gIIgv+o+gv3sJKbbv7v+pxg22oqIC18DuqXB8m/r6KUNsSVqTfV4NJrI5+Citmibol8dcQ2g1DpOp29G+k7aArjm8C6k1EwTuIlesLtcfm3AUqSHlfVmFSWEJgP7ZwERxwT9/Csm5tMRTC2XwPxMHeR+F37PQeWrjuwfWztUUE9PhM7xUSFILgzY8fP15cB2LYrgs32Mxed4GF2eTXuSyELW1wneoWNcI/5gjhmpd2LXfwSW200gI1wP2ZF663GMLyVPjZeLpnv+Md0o6J/I5rHvx9rPiO3u5p8qv6mI9wpIemexrDM1UhSZL/Dwn5m9WISMNbAAAAAElFTkSuQmCC",Gt,Yt,Qt,Jt,"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoGBxMUBhYUBxQYGBYYGhwdGxoYGiEgFhoiIh0aIB0ZGhodIisjIR4qHiIbIzsjLS0uMTExGSQ3PEMwOyswPjABCwsLDw4PGRERGTAoHx8wMDAwMDAwMDMwMTAwMDEwMDAwMC4wLjAwMDA7MC4wMDswMDAuMC4uMDswMDAwMDAwMP/AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABQYCBAcDAf/EAEQQAAIBAwMDAwEFBAUICwAAAAECAwAEEQUSIQYTMSJBUQcUIzJCYRUzcYFSYpGhsRYkJ3KSorLRFyUmNlNjgoPBwvD/xAAYAQEBAQEBAAAAAAAAAAAAAAAAAQIDBP/EACERAQEAAgIBBAMAAAAAAAAAAAABAhEDMSEEEhNRMmFx/9oADAMBAAIRAxEAPwDs1KUoFKUoFKUoFKUoFKUoFKUoFKqHV/UF9ZTibsxS2mfWwLrJF/WfG/K/1gvHuBUroXUcVwdqBkk2h9j4yVOPWjKSkicj1ISOcHB4oJqlQf8AlTbHWvs8bMXDbGZUJiVyCwjaQDaHIB4z+nkivPWOrYop3jtVaaWMZkVCoSIYzumlchIxjnk5x7UFgpVO0nX9SugH0+2gjgPKyySu3cHyiBFJH6nAPkZFW2PPbHdxnAzjxn3xn2oPSlKUClKUClKUClKUClKUClKUClKUClKUClKUClKUClKUHyqV1V04tzqBM+pyxMDhIldViTgDlAQzHPOS2eeMCvXqyTULjU/s2hRmOFQO7MzmPcSMhInALYA5LKPPpypBrn1z06xnb9kQRXm04PZtwsQ59X+cS5WRvnAJz7g0WNXSer7hIjFdX8qxl2QO6LLGBkhDKkoaTY4B4VjgfNSejNPEptNSxC6M0lrNGd0SB8kPG/ho1y2f/LJB5VcQ628cLSyafCRPGN0ttPGNwUZOUjkLbo8fiAJZRhlOPSJIXrxag8F8sv2cHvRExuWwwGEQgenLcFhxt3DJNRpJX69rpGztbNjFKJGlmdj64Wjch3JI9TFwQGx6sbhxXrOIJ7OJJZnt7fJaK1hTu3dz83Eq4djuOSCyn+kTnGMNPtbfUNIuVvoUilWPuxzgjuEBch3dOGA9IIOfzDnANRmkaRcW+mqLd1tppEXus+d0SkAgO3lpWxxEPwqBkerFEWTS9YaythaaBb7eWZYnkMt1knktFECka555kGM8gc1bumbm/kjJ6igiiyPSEkLP/BlwVHHwxqmdFWIezZemu9Km713Ek/ZjdvzbREDI2PbPGOMirTp/Tt0l0ryXzgA8ooZkYf0SZnkP8xtNVKs1KUohSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlKBWEjAIS5AA5JPgfqazqv9XaLNdwpDbyiKAkmYgZkcDG2NVI27Sc7if6IGGBNBFav19HwumNGqtnE05OxwPJhhT72YfqAqn2Y1W9Q6uUXASXVZY2wMD7MYI/8A0q9vI23+Le1WTXdIe1ssdO9q3U+q4u5mzJtHGA3LFz8nAA4XBxjm+va28Vo6aPKpkIbd6WFw5xnube48g9OW+9fd6eVFRqPLqozNai71e8LDEkdt6FaW4UcO24LHiHd4dgTySByM23qLXLSaXfqKeiQnsM20xEYHL55WRxkqxyu0Kvp5qu9Z3ezWHELRoIgIot65SGOL0JhcEF3cO4GOFwx421H6pbQr05G19BJHvACsO6Ul4/eRO44YYyUbjnKk+KK09H1ZItYYWU7rCPwdtc59QbYAwOF3eoDGc48eatWklZ9WdLW3+0xr+/muG3x72HqCLMwZQPG5fU2PAGKi9O+1yyLJ2WmyqxxsEQK7MVHaufUNqFC2SQDkqwqWbTUkvYpNOLRiWRVD7ykgV1lHblIPJjmjCec8HnmhXvrHTUUMMkuiLLFLGvdaJZZo0lRQWbsy4UyYHyNwxjwykWf6WapLPZSG4uRKq4+7dW78JI/C7scupHIb3+fYVXqTpSaC1Nw8kzJHzLH3ZC8I5AuYfXtcLkkqeMAjj2mtO6Qu7X7Nc9OzpcBFQOrKEeWIgZRHHpYfmQPyp/NjIJHSaUpVZKUpQKUpQKUpQKUpQKUpQKUpQKUpQKUpQKUpQKUpQc+1fRLjU+qXF6zRWEB2Ljh5nH7xk+AD6N/OAp24JJFUk1m1br21j0OJEs7cyxKwX0SSSRlGbOPUAzRrk+d2fzCumdba01tpOLBd9xM3ahT5dgfUfhVALE/p+tVHQelYe2LZY2OxWVHkdtjr933nQqfLSvghSBiJQCMk1GoqEdtDNpoMGztLcndg77iVmy0cWcnccGNec52keQc+d1q6wa9GOoIW3xM6tF6tqRGJx2kRuGBchjLyWI3fFWnUjDH1hBdaVYSPHah0naBQYtwBVTH47jR5fJA4zzypxP6dY2clq99YNC0bFnaRiyts53yPIctvHPBGMDbx5A2guntS2a3byRhBBe74pAjDKsEDRu2OCxwxz+Us4yQBUJfdSuYx+wo0Mn2gTIhHLIyxsYwnw8kj8D2ViKw0zoq5uJWfRY0igeVmikkJE6phs9qPcAqEnOMA+oeNtbeqiEafdW3UCRW1xwYXjbbDIUjMcYVpDlVGxFx+XjnDGit7SOsEi14JabpbCWNSVYlzal8/mI9MRBUFWPGTjAXFXL6bTg9Ndpc4glkiXcMNsViYiQeQe0UqAn0OOHRwnTEixtGEeY43wkNhHZlYDLdt3YZ/EFwc8Fc/pzm06hnsJjI28mZC49aAAIFkIJBzGIyHHBKuOCvJmui0pSqhSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlaupRyNp8i2bbXKMEb4Yg7T/I4oOaq5vevL6S9cm2twLeIkZSNpCkcuwcAtxJk8kBh7YrcvJJ30xptLZsxl1jkkA2k7iXRIoz44VCxYBe3wMiojpPS5E6dtv2ZG0k7h3IlbECOZAsjuwIJYNGAqg5beM8KTU7HfNDpRe1DIVBRlO1yGjPbMPsCmAXViMliSclitRo6X1VZtBWa22ohj2vGE9ERyyGMkEPk7SoKlcekkHdUeugXE2nSnTJjDEyBtgiEhnY8bmBO1Y2AX0+WwW8Yzv6D0ch0OZZZZSHlkkRI5NmGbnGQMOQuFycr6eAMmtPRdUzDPD1Ht+42bZJCUjMZRijyqp2rKNqpuA3A+OaDb6c1do3derQiExnDoz7SFYltnIMfOSV4IwPbbWWlxWU9xMbRIrkuQqpwyqrN5dhu2qFy5yBli3k4xoWur22o6uFZ43tIn8MWMsh8gyBvU65C4ByPfyF2yOqaBbLbvOsItJkBYSwjbGuTlI5o0b1sfQpUAklvSRnijFtKMJfTtIDrFMCVWV9wiUiRGUAbiY2wCATn8WSMAVWrqBrrrmK3LSx3CSdu4eORlUxoO4u0gAYAUbR59RJBPIsLTXv7WS61e1UQTMkLhJG78aM+I3cqcFNzDco/jkioPq7iQxaMys8W2ZZxKI3iWJRF6V5LkoCMjIOQeMYMHYqVX+g9SmuOlYZtTUKzKMENnev5ZDwMFvJFWCqyUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgVG9S6gYOnriZPMcUjj+KqSP76kqhOuJCvR120YUkQSHDDKn0HII/hQUnpgu3Stkt7ukt5O6khTAaJzxHIu3BK/vHJOcF93hRUnY6JH2ZJdJuyN7BEy4YO6iKItJgZ2sVX0D+mDkEgLXel5rkW8NnM2UV4zyComjEbGGMvjbtY7UIzki3YerODva/BNbdWLPp8JkiuXMcsQKOs/JKsqlssdgO7I4wfYCo0x0zqqM3LxahEVnR3SSJGZ5NwIKiEbhxuyS4KnABY8ZrYt7WyuNYeWwB7ilEaGUM06Y3Nu7UvIkYsy7+QAAcgFs6/QmZbya4ughl3lJI3wGtokfCpIhxhe2HIxkFiPipPrWwbvWV7Zxr9ojl2lUIxNG2S2D4K59Y3eAT7+Q8uu9OQ2Aub5Y4poYy4lTkq6gntFs5fa20YP4gSQMjjYk0y6n03vTqGWQdwxI+2b8xQK2dgYFtuN3gecniqaroN+baKfUFSeKM72hVSu8FmbJlx6m3MWyQASPGOKsll1LarZpMk7qwjO304KKgYGF43Zi0hdTyPUW2+1B66Z1NbXGkSfa5Ar5O7dmLYcCLtqGbJbG7GT+IbsDjHh1ho5uLGJdSVYn7imBgVxDEADMJMegr2w2FyQSF5GcDDpzSrUXE/7cgVp5R3J3A9EfdP7tAOQnJ3PxuKsfAGI63W5htoJ/S2nW8o2RuoM5jldtkxz+ALlAigg7eTiguH0tlB6PSNc/cPJDk/mCOwDfzGKtdUv6Nzh+iFdfzSzE/zlc/4EVdKrJSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlKBVc+pMzp0Hdtb+ey39h4b/dJqx1r3toktm8V0oZHUqynwQRgj+yg5cthFF9N3h1FECmLuGZX3HuDIBkX0ttA7arjPjwPTnWt0vbbT7W515FUqDGkomBaMyEZaVCNo3EDcyk+GLeTWj0rYytb3ERn9EE5iSGYjAfLLEu8+pSSqgH8O5V4+LiLmSbQlW5khkbtkSQBTyzbjEiM2CGCHYSSMFefcVGmtr4lbq62cSRr3e7A0ikHKIN7ufy8FPDDhmxyPPtdaFHZyGexErgoQ6PIWUjO7cAwwjqqqQmNpAKkcCq0OhbuLTElgvYpZoldFi2ehsgB1D7gzE4Ubsew8DmrPY3YuelYJbHcZHCqWbBTuSFRIsgxnEe44IIPoIz5yDUtehj0uea1mZnCO+WZN8voQbCm0KVB9I2gEGM+dzZw6PsolEknUKIZ5FLzF4wGfK5k4I/coMLwNpJycnms7XpfT2t5HuIEnEasGkmZmnkKbdzhzjAAPgAAEgDGK8Pt62l3MLYCRiY1SUuZX7bAEB8ljyQI/6xA9yMVEMnch1ufTOnQ7QtKHAXARY5EaOWJ5CRhQzHbyTlVxk17a9rCmxnSeNmEbyvLFI2UUxIWjVwOHy5RsYC4RQOOTn0egHUl0O00E5ljKw4VY44u3hGHsVUGQjb+bHHPED1PpiS9eJBHKXS6mjEp59RXBdk54Gxgv6FDjgCoq9/RXTpIujN93kGeRpQD7KQqqQBwAQu7H9ar1XnFEFjAjAAAAAHgAeAK9KrJSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlKBSlKDmH1LsRY69FqVqhMUrCK7jXxIDyrEeM8EZ+Qvuc1oad09PJcie1u+3v3fZhHukDKAWVpXdWDuVG4IT/S991dS1TT47jT3hv1DRuMMp9x/wDB98+xrmN70NqOmxNP0ddGSNMsYZFBOOScDlXP8Np+OajUqSbqeKPSE/zV3uHLbY0QttnVmidRkbVjV0GPHgHGeax0TpCJ7d1vGf7QAN8kMhjWFhzthUelse7MDuPnAIqr6F17DIn/AFmzRzFiwl3ME5GSF2kbfVu5JyRjJzUnB13bnUyl7KHDAp3WdtpGQG3qGwpwMhlx4/tDaturksbuWHV3MpG1lk5Mk0ciEqFVy3q3kAgcenPvUfpklxcdWINRQxKATCkuFiLDPcYqp9LbM4Hkrvx71o6fqdkerjJq1xG4Ufdu24ooV9yxLJ7cEjeAPfOSTWPWPWsElmLfTWBQMocxRbF2gqS0ZJBLLgqpIGRnPnkqx6+q3eu7LB+2I0bMyjtO8Q2boWlONqx7jk43KpHBy2dH6N9NdzWWvmA7Ee9ICc5dixDS888AsOf6WPy1pdK9MXOqsst40kFkilFUMd0gO3eE8Da2BlsY4H4iCa7LZWkcVosdmoREAVVUYAA8AUStilKVWSlKUClKUClKUClKUClKUClKUClKUCleYkXnBHHnnx/Gs6D7SvKSVRjuEDJwMnGT8Cs9w+aDKlKUClK17m8jQf5zIif6zAf40EJqvQmnTyFry1j3NyWUbGJ+SUwSaiD9H9L7ue3Jj+j3nx/jn++rempwn8EsZ/g6/wDOszex+8if7Q/50XdUyb6PaW37tJU/1ZW/+2a9Lf6SaWsgPZdsezSOVP8AEZwR+nirqDkZFfaG6wjjCoBGAABgAcAD2AFelKUQpSlApSlB8r43609qofXJe41bsRSMqoinavId337QwyOBtX+AYms55e2bdOLj9+Wt6n2vYPxX3Fc86UWS16gihSVmjmU+k+FIRX3Dng5JHjx810MeKmGfui83F8eWt7l8ysqUpW3IpSlApSlApSlBxz6mfS1xJNd9P5fezSSxEZbk7i0ePxYOTsPPxnxV0+lH2b/IqI6Hu2nO8M25lkwA4PxyOAMDBBHmrdXOepS2j699u05C1pcNtuYl/LJztmQHgE8g+ASf1GC9tv6xLZnQEXVoTNOzFLZFJEhkbAyCPyj05zkHgeSK1vp59LIrMx3Greu6X1DaSI48ggqMfjOCck8fA+fXojTpL7V/2trg25BW1hPiJPHdJPl255wODnnIxf6D7Sue2l5qn/Ss1tNcqbcJ3tvbUAxltqoON2/dxnP5SffFdCoj4K5H9bejIEtW1C33CVnRZFPKvnChhnlSMDxx+ldcFUX64j/sA/6SRf8AGKLO1e6X+j1lP09BPeSzbpYo5CFMYUFlDEDKE4Gfc1lq/wBC4fsrHRp37mPSsoXYT8FkUED9cGtOH6g30PQ0Een2MkapHFGLpwzRYCqO4F2YwQPc45967LULto6DYdjQ4IGbcYokj3fO1Quf7q361r+9SGxeW8bakalmY+wAyTVB+mvUF6+slOoCe3dRG5ttxyUTfgx5wM+lkP8ADn34qOj0pXNuuurr/T+qouUltpAzmNY8OqJjuerJJZQd2eB8ig6TSq51RfzN0m1z0zOi7YzMGZN6yIEZtoyRtJ49XOMeK+fT27uZumo59ZlV2mAdQsYQIpHC8E7vnPHmgsdKpnUvUd5Jr/2HowRGZFDzSy57cQONq4HlzkH349vONC7s+oLeDuQXUN0Qy5i7IUsCwBCsMYAz5JHAJ9qLp0KuYdXahJF1VcfZFLErHkj8oC4+MjO/GQQf7a6TbljCv2gANgbgDkA45AOBkZ98VznqwdjrQyXuRFIqMPO1toUbSBwSCM4PHIrjz/jP69fodfJZZvx199MdI1CU9WQPqMeAG7e8ElSTHtwCDsOSM8DPOPaum1yq+v45+poP2czErOuBg7SCyksrk5wMbduB+HPua6oPFThvc/a+tnnG6146Z0pSu7xFKUoFKUoFKUoFUn61j/R1Pz+aH+f3qf8A7+VXaql1v0QdRlUXF1LHEo/doF2Fsn1nPk+3PjHFBL9IPnpW1PzBF/wLUtUN0poJs9KEHfkmVT6DJjKLgAINoHAx/fUzQUoS/wCmoqo86cMn/wB8nmrpVSToyT/Lb9oS3b7/AMPbVAE7eOIskk4zhifc58e1toFUT64zKOgXVz6mkiCj5IcMf90E1e6pvVv04gv9RM2oz3APAVVZdiADBVFZDjcfUTyc/pRYlehJUfoq0+zHcggjXnGfSgUgge4III/Sp6qb0l9OYrDUO5ZXVyyjP3TOBCSRjJRVAJq5URRPq1eM+nRafpyl57x8BQcfdoQ8hLH8IOAM/BPxUP1NqF9Dd2V3q1lHbw2soVnSdXxHJtjZdoUHGMH3/CKtLdJzHrYX8l0DtUosXa9Kxk5Khi5w5PlwB/Ctvrfp1r7Qmto5u0HZSzbN+QpyFwWGPUAc/pRU6DkcVSOqGRvqlpkcmDmO6yp5yGj8EfBAb+w1YOlNJmttGWHUJ++U4R9mxgoACq3qbJHzUBrHQE03Va3q37pIjfdgRIe2mCO2MnB/E3JBzuoIe8QaSl1bXLf5ndRzNb5JxHJ2zugOfAYfh+SPkmrb9Nv+4Vnj/wABP8K3Opunob3Rmt9RB2tghhjejDw6nHBH+BI8Gs+mNKNroENsz9ztIE37du7Hj05OOP1PigqHRUwi+p+qQ3pAllMUkefzoA/4fnAZf7/it7ru41OC1uLnS54UgiiDKjR75GIB35bgL7Y/Fn9KkeqejYry7imEkkM8We3LEQHAOcqcggjk/wBp+TmC1P6e3s1rJFeavM8TggIYlH+2QfUM+wAzQXLQ7hpNFhkmOWeNGJxjJKgk4/jWeo6dFPb7L5Fdfhh4/UH2P6istOtRFp8ccZyI0VAfkKAM/wB1bNLNktl3ELpXSdpb3Xcs4sP7EszEfw3E4qZNfa+GpJJ1Fyyyyu8rusqUpVZKUpQKUpQKUpQKUpQKUrV1C2WS1ZZkDjGQp8Ejx5480G1Sq1c6NIdBigsVWM4DSHyAyoMcBlJJkCnOcennzW+ls76jFJcxgfcyI+SDhmaI7OPI9L8/r+tBLUqsado0yXu+5AKr+EBufug0cQ5Hl1befgqBzXyPS7gaPcx3KhzKm4bW2/eOCHTJckbSFIYEDk4AxyFopURodjJHJKbrBLONr59TqERQX44fIIOODjPGcDT/AGGfsV2RGvcl7oThQSGBx6hzgnB58YoLHSq3Ho8gsZY2VcdyKRAuFRgpjZk2A+liVYH2O4HPJA91sHKhmiAJuBLtJGUGMbjg43cZwM+aCdpUPa6Si668qwqo2rtcYyWJk7hx55DDn3x+gr7rWlLLcxM8Svh8MTjITbJ8+fUQcf8AKgl6VXb3TCeoO72A64iAbKDBUsd+SdwxlfHnbivWC2nHUJnYDttuj2+6oACjk7sH1h/TtBHdOTxQTtKUoFKUoFKUoFKUoFKUoFKUoFKUoFKUoFKV43ECvAyTgMrAgg+CD5FB6E4HNa2qXZjsHeJDIyqSEBALHHC5PAzWs3TloYdrW0JX4Ma/2+PP61tX0Ra3xGqMfbufhH9YjHOPjjPyKCM0zqNZtTMcKgJtG196ZLgyCWPZnOUKAHGfPsME+vUWs9iBVt9pnkOI0ZsBuVDMSMkIoOScHHHBJAOp0zoDW97KzsdpwEXeWDEs7yTFT6Ud3c+leAFHya3datJXuYTZsQFdi/rZQVMbgZCEFvXt4/nQe2maokxkWHIaN9jqQRg4DDGRypUggj2PzWlqWv8AauijKMc4ZiQOMfiGPHnnxyP1r36b02SC1kW8cOzyyOCCxwrNlVyxJ4GB5rV1HQ5JbqR3bHJ2KvO9dke0Nu4BDh/9rNBJ6Pf9/T1lCld2fSfIwSOf5c/zqOHVUB1YxQusg2p6ozvbezYCFUB9sNnPAyTwCa2dBtJIdCjjmw0iLg8nk+wLHJJAwCx84z71GN01N9ueW3lVJCFYSBdxL7n3K8ZwDF2ysYG7OBnIIBoLJM+IyVGSATj5qB0XqtLjUEjgQjcjMSW8YWFvGOeJVH8jUtdws1ptJBY4yQWVc/OFbdj+rnnxmq9pPR7w6v3YJsjfn73fIxUxxg7TvXYxZTx6l2hRj0jAT2s6h2LAysjOFxkLjgZGWOfYDJ/lWOjagZrUu0TIMtt3Y9QDMA2PIJABwQMZx7Gsdb05prYKrADcpIOcHBz7EZPGBngE7sEgVqdM6EbeH71gx2oPSX5IVd5fLFXYsCQ+1TggHNBPUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSgUpSg/9k=",Xt],[r,i]=(0,t.useState)(1),[a,o]=(0,t.useState)(2),[s,u]=(0,t.useState)(new Array(e.length).fill(1500));let l=[];const c=async()=>{console.log("Retrieving Elos");const e=[...s],t=await function(e){e=mm(e,xm);const t=mm(e.firestore,Mm),n=Cm(t),r=new sg(t);return Zm(e._query),um(n,e._query).then(n=>new ig(t,r,e,n))}(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nn(e),hm("collection","path",t),e instanceof ym){const n=Qu.fromString(t,...r);return dm(n),new wm(e,null,n)}{if(!(e instanceof bm||e instanceof wm))throw new _u(Ou.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qu.fromString(t,...r));return dm(n),new wm(e.firestore,null,n)}}(yb,"boba_brands"));t.forEach(t=>{const n=t.data();e[t.id]=n.elo}),console.log(e),u(e),console.log("Done Retrieving Elos")},h=async e=>{console.log("Retrieving Elo");const t=Nm(yb,"boba_brands",String(e)),n=await og(t);if(n.exists()){const t=n.data();f(e,t.elo)}else console.log("No boba shop for this ID")},f=(e,t)=>{u(n=>n.map((n,r)=>r===e?t:n))},d=async(e,t)=>{console.log("Updating id".concat(e,", elo ").concat(t)),await ug(Nm(yb,"boba_brands",String(e)),{elo:t})};(0,t.useEffect)(async()=>(console.log("Component did mount!"),await c(),g(),()=>{console.log("Component will unmount!")}),[]),(()=>{console.log("Calculating ranking divs");const t=s.map((e,t)=>t);t.sort((e,t)=>s[t]-s[e]);let n=[];for(let r=0;r<e.length;r++){const i=t[r],a=e[i],o=s[i];n.push((0,Bt.jsx)(bb,{src:a,elo:o},i))}l=n})();const p=e=>{const t=s[r],n=s[a],i=m(t,n,e);console.log(i);const o=[...s];o[r]=Math.round(i[0]),o[a]=Math.round(i[1]),d(r,o[r]),d(a,o[a]),u(o),g()},m=(e,t,n)=>{const r=1/(1+Math.pow(10,(t-e)/400)),i=1/(1+Math.pow(10,(e-t)/400));return 0===n?[e+32*(1-r),t+32*(0-i)]:[e+32*(0-r),t+32*(1-i)]},g=()=>{console.log("Scrambling contestants");var t=Math.floor(Math.random()*e.length),n=Math.floor(Math.random()*e.length);t===n&&(n=(n+1)%e.length),h(t),h(n),i(t),o(n),console.log("Contestants scrambled")},[y,v]=(0,t.useState)(!1);return(0,t.useEffect)(()=>ev(vb,e=>{v(!!e)}),[]),(0,Bt.jsxs)("div",{className:"BobaBox",children:[(0,Bt.jsx)("div",{className:"BobaBox-title",children:"Rate My Boba!"}),(0,Bt.jsx)("div",{className:"BobaBox-body",children:"Click on the better boba shop in a versus showdown! Skip if you can't decide. Each vote will determine the elo of each boba shop, and the leaderboard will be updated accordingly. Higher scores is better, according to the elo system. Please press sign in button to vote!"}),!y&&(0,Bt.jsx)("div",{style:{textAlign:"center",margin:"20px 0"},children:(0,Bt.jsx)("button",{onClick:async()=>{try{await async function(e){var t;const n=My(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Gy({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ky(n,{returnSecureToken:!0}),i=await Gy._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(vb),await c()}catch(e){console.error("Sign in failed:",e)}},children:"Sign In Anonymously"})}),(0,Bt.jsxs)("div",{className:"BobaBox-showdown",children:[(0,Bt.jsxs)("div",{className:"BobaBox-contestant",onClick:()=>{console.log("Voted for left contestant"),p(0)},children:[(0,Bt.jsx)("img",{src:e[r],alt:"Boba Shop 1",className:"contestant-image"}),(0,Bt.jsxs)("div",{className:"BobaBox-elo-rating",children:["Elo Rating: ",s[r]]})]}),(0,Bt.jsx)("div",{className:"BobaBox-versus-box",children:"VS"}),(0,Bt.jsxs)("div",{className:"BobaBox-contestant",onClick:()=>{console.log("Voted for right contestant"),p(1)},children:[(0,Bt.jsx)("img",{src:e[a],alt:"Boba Shop 2",className:"contestant-image"}),(0,Bt.jsxs)("div",{className:"BobaBox-elo-rating",children:["Elo Rating: ",s[a]]})]})]}),(0,Bt.jsx)("div",{className:"BobaBox-skip-section",children:(0,Bt.jsx)("div",{className:"BobaBox-skip",onClick:g,children:"Skip"})}),(0,Bt.jsxs)("div",{className:"BobaBox-rankings",children:[(0,Bt.jsx)("div",{className:"BobaBox-ranking-title",children:"Rankings"}),(0,Bt.jsx)("div",{className:"BobaBox-refresh-box",children:(0,Bt.jsx)("img",{src:n(454),alt:"Refresh icon",onClick:c})})]}),(0,Bt.jsx)("div",{className:"BobaBox-ranking-list",children:(0,Bt.jsx)("div",{children:l})})]})};var wb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nb=t.createContext&&t.createContext(wb),Eb=function(){return Eb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Eb.apply(this,arguments)},Sb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Mb(e){return e&&e.map(function(e,n){return t.createElement(e.tag,Eb({key:n},e.attr),Mb(e.child))})}function Ab(e){return function(n){return t.createElement(Cb,Eb({attr:Eb({},e.attr)},n),Mb(e.child))}}function Cb(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Sb(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Eb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Eb(Eb({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==Nb?t.createElement(Nb.Consumer,null,function(e){return n(e)}):n(wb)}function Tb(e){return Ab({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attr:{d:"M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]})(e)}function kb(e){return Ab({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]})(e)}function Ib(e){return Ab({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attr:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0 1 30.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1 0 80 0 40 40 0 1 0-80 0z"}}]})(e)}function Ob(e){return Ab({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 0 0 0-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]})(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(null,arguments)}var Db={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},Rb=["Matrix","Array"],Pb=["number","BigNumber","Fraction"];var Fb=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(Db)};function jb(e){return"number"===typeof e}function Lb(e){return!(!e||"object"!==typeof e||"function"!==typeof e.constructor)&&(!0===e.isBigNumber&&"object"===typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"===typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function Bb(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function Ub(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function zb(e){return e&&!0===e.constructor.prototype.isUnit||!1}function qb(e){return"string"===typeof e}_b(Fb,Db,{MATRIX_OPTIONS:Rb,NUMBER_OPTIONS:Pb});var Vb=Array.isArray;function Hb(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function Wb(e){return Array.isArray(e)||Hb(e)}function Kb(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function Gb(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function Yb(e){return e&&!0===e.constructor.prototype.isRange||!1}function Qb(e){return e&&!0===e.constructor.prototype.isIndex||!1}function Jb(e){return"boolean"===typeof e}function Xb(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function Zb(e){return e&&!0===e.constructor.prototype.isHelp||!1}function $b(e){return"function"===typeof e}function ex(e){return e instanceof Date}function tx(e){return e instanceof RegExp}function nx(e){return!(!e||"object"!==typeof e||e.constructor!==Object||Bb(e)||Ub(e))}function rx(e){return null===e}function ix(e){return void 0===e}function ax(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function ox(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function sx(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function ux(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function lx(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function cx(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function hx(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function fx(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function dx(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function px(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function mx(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function gx(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function yx(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function vx(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function bx(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function xx(e){return e&&!0===e.constructor.prototype.isChain||!1}function wx(e){var t=typeof e;return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":Lb(e)?"BigNumber":Bb(e)?"Complex":Ub(e)?"Fraction":Hb(e)?"Matrix":zb(e)?"Unit":Qb(e)?"Index":Yb(e)?"Range":Xb(e)?"ResultSet":px(e)?e.type:xx(e)?"Chain":Zb(e)?"Help":"Object":"function"===t?"Function":t}function Nx(e){return"boolean"===typeof e||!!isFinite(e)&&e===Math.round(e)}var Ex=Math.sign||function(e){return e>0?1:e<0?-1:0},Sx=Math.log2||function(e){return Math.log(e)/Math.LN2},Mx=Math.log10||function(e){return Math.log(e)/Math.LN10},Ax=Math.log1p||function(e){return Math.log(e+1)},Cx=Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t},Tx=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function kx(e,t,n){var r={2:"0b",8:"0o",16:"0x"}[t],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Nx(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Nx(e))throw new Error("Value must be an integer");e<0&&(e+=2**n),i="i".concat(n)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(r).concat(e.toString(t)).concat(i)}function Ix(e,t){if("function"===typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r,i="auto";if(t&&(t.notation&&(i=t.notation),jb(t)?n=t:jb(t.precision)&&(n=t.precision),t.wordSize&&"number"!==typeof(r=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return _x(e,n);case"exponential":return Dx(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Ox(e),r=Rx(n,t),i=r.exponent,a=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(jb(t))for(;t>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),u=0;u<s;u++)a.push(0);var l=Math.abs(i-o),c=1;for(;l>0;)c++,l--;var h=a.slice(c).join(""),f=jb(t)&&h.length||h.match(/[1-9]/)?"."+h:"",d=a.slice(0,c).join("")+f+"e"+(i>=0?"+":"")+o.toString();return r.sign+d}(e,n);case"bin":return kx(e,2,r);case"oct":return kx(e,8,r);case"hex":return kx(e,16,r);case"auto":return function(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,a=Ox(e),o=t?Rx(a,t):a;if(o.exponent<r||o.exponent>=i)return Dx(e,t);var s=o.coefficients,u=o.exponent;s.length<t&&(s=s.concat(Px(t-s.length))),s=s.concat(Px(u-s.length+1+(s.length<t?t-s.length:0)));var l=u>0?u:0;return l<(s=Px(-u).concat(s)).length-1&&s.splice(l+1,0,"."),o.sign+s.join("")}(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ox(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),a=r.indexOf(".");i+=-1!==a?a-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===o.length&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function _x(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Ox(e),r="number"===typeof t?Rx(n,n.exponent+1+t):n,i=r.coefficients,a=r.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(Px(o-i.length))),a<0&&(i=Px(1-a).concat(i),a=1),a<i.length&&i.splice(a,0,0===a?"0.":"."),r.sign+i.join("")}function Dx(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Ox(e),r=t?Rx(n,t):n,i=r.coefficients,a=r.exponent;i.length<t&&(i=i.concat(Px(t-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function Rx(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function Px(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var Fx=Number.EPSILON||2220446049250313e-31;function jx(e,t,n){if(null===n||void 0===n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<Fx||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var Lx=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},Bx=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Ux=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},zx=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},qx=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},Vx=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function Hx(e,t,n){var r=new(0,e.constructor)(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Nx(n))throw new Error("size must be an integer");if(e.greaterThan(r.pow(n-1).sub(1))||e.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(r.pow(n))),i="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function Wx(e,t){if("function"===typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,r,i="auto";if(void 0!==t&&(t.notation&&(i=t.notation),"number"===typeof t?n=t:t.precision&&(n=t.precision),t.wordSize&&"number"!==typeof(r=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(e,t){return e.toFixed(t)}(e,n);case"exponential":return Kx(e,n);case"engineering":return function(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),a=i.toPrecision(t);-1!==a.indexOf("e")&&(a=i.toString());return a+"e"+(n>=0?"+":"")+r.toString()}(e,n);case"bin":return Hx(e,2,r);case"oct":return Hx(e,8,r);case"hex":return Hx(e,16,r);case"auto":var a=t&&void 0!==t.lowerExp?t.lowerExp:-3,o=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var s=e.toSignificantDigits(n),u=s.e;return(u>=a&&u<o?s.toFixed():Kx(e,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Kx(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function Gx(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t}function Yx(e,t){var n=function(e,t){if("number"===typeof e)return Ix(e,t);if(Lb(e))return Wx(e,t);if(function(e){return e&&"object"===typeof e&&"number"===typeof e.s&&"number"===typeof e.n&&"number"===typeof e.d||!1}(e))return t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return Xx(e,t);if(qb(e))return'"'+e+'"';if("function"===typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===typeof e){return"function"===typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map(n=>'"'+n+'": '+Yx(e[n],t)).join(", ")+"}"}return String(e)}(e,t);return t&&"object"===typeof t&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function Qx(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);"\\"===i?(n+=i,r++,""!==(i=t.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'}function Jx(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Xx(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=Xx(e[i],t);return n+="]"}return Yx(e,t)}function Zx(e,t){if(!qb(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+wx(e)+", index: 0)");if(!qb(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+wx(t)+", index: 1)");return e===t?0:e>t?1:-1}function $x(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"===typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return $x(e)});if(e instanceof Date)return new Date(e.valueOf());if(Lb(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return function(e,t){var n={};for(var r in e)nw(e,r)&&(n[r]=t(e[r]));return n}(e,$x)}function ew(e,t){for(var n in t)nw(t,n)&&(e[n]=t[n]);return e}function tw(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!tw(e[r],t[r]))return!1;return!0}if("function"===typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!tw(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}return e===t}function nw(e,t){return e&&Object.hasOwnProperty.call(e,t)}function rw(e,t,n,r){function i(r){var i=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],a=e[i];void 0!==a&&(n[i]=a)}return n}(r,t.map(iw));return function(e,t,n){var r=t.filter(e=>!function(e){return e&&"?"===e[0]}(e)).every(e=>void 0!==n[e]);if(!r){var i=t.filter(e=>void 0===n[e]);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(e=>'"'.concat(e,'"')).join(", "),"."))}}(e,t,r),n(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function iw(e){return e&&"?"===e[0]?e.slice(1):e}var aw=rw("Chain",["?on","math"],e=>{var{on:t,math:n}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");xx(e)?this.value=e.value:this.value=e}function i(e,t){!function(e,t,n){var r,i=!0;Object.defineProperty(e,t,{get:function(){return i&&(r=n(),i=!1),r},set:function(e){r=e,i=!1},configurable:!0,enumerable:!0})}(r.prototype,e,function(){var e=t();if("function"===typeof e)return a(e)})}function a(e){return function(){for(var t=[this.value],n=0;n<arguments.length;n++)t[n+1]=arguments[n];return new r(e.apply(e,t))}}r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return Yx(this.value)},r.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},r.fromJSON=function(e){return new r(e.value)},r.createProxy=function(e,t){if("string"===typeof e)!function(e,t){"function"===typeof t&&(r.prototype[e]=a(t))}(e,t);else{var n=function(t){nw(e,t)&&void 0===o[t]&&i(t,()=>e[t])};for(var s in e)n(s)}};var o={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return r.createProxy(n),t&&t("import",function(e,t,n){n||i(e,t)}),r},{isClass:!0}),ow=new Set(["end"]);function sw(e,t){if(hw(e)&&lw(e,t))return e[t];if("function"===typeof e[t]&&cw(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function uw(e,t,n){if(hw(e)&&lw(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function lw(e,t){return!(!e||"object"!==typeof e)&&(!!nw(fw,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function cw(e,t){return null!==e&&void 0!==e&&"function"===typeof e[t]&&(!(nw(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!nw(dw,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function hw(e){return"object"===typeof e&&e&&e.constructor===Object}var fw={length:!0,name:!0},dw={toString:!0,valueOf:!0,toLocaleString:!0};class pw{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return sw(this.wrappedObject,e)}set(e,t){return uw(this.wrappedObject,e,t),this}has(e){return t=this.wrappedObject,e in t;var t}}function mw(){return new Map}function gw(e){if(!e)return mw();if(yw(e))return e;if(nx(e))return new pw(e);throw new Error("createMap can create maps from objects or Maps")}function yw(e){return!!e&&(e instanceof Map||e instanceof pw||"function"===typeof e.set&&"function"===typeof e.get&&"function"===typeof e.keys&&"function"===typeof e.has)}function vw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i of n)if(i)if(yw(i))for(var a of i.keys())e.set(a,i.get(a));else if(nx(i))for(var o of Object.keys(i))e.set(o,i[o]);return e}var bw=rw("Node",["mathWithTransform"],e=>{var{mathWithTransform:t}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.evaluate=function(e){return this.compile().evaluate(e)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var e=this._compile(t,{}),n={};return{evaluate:function(t){var r=gw(t);return function(e){for(var t of[...ow])if(e.has(t))throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(r),e(r,n,null)}}},n.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(e){if(!px(e))throw new TypeError("Callback function must return a Node");return e},n.prototype.traverse=function(e){e(this,null,null),function e(t,n){t.forEach(function(t,r,i){n(t,r,i),e(t,n)})}(this,e)},n.prototype.transform=function(e){return function t(n,r,i){var a=e(n,r,i);return a!==n?a:n.map(t)}(this,null,null)},n.prototype.filter=function(e){var t=[];return this.traverse(function(n,r,i){e(n,r,i)&&t.push(n)}),t},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map(function(e){return e.cloneDeep()})},n.prototype.equals=function(e){return!!e&&tw(this,e)},n.prototype.toString=function(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this._toString(e)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this.toHTML(e)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this._toTex(e)},n.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},n.prototype._getCustomString=function(e){if(e&&"object"===typeof e)switch(typeof e.handler){case"object":case"undefined":return;case"function":return e.handler(this,e);default:throw new TypeError("Object or function expected as callback")}},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n},{isClass:!0,isNode:!0}),xw=rw("ObjectNode",["Node"],e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==typeof e||!Object.keys(e).every(function(t){return px(e[t])})))throw new TypeError("Object containing Nodes expected")}return n.prototype=new t,n.prototype.type="ObjectNode",n.prototype.isObjectNode=!0,n.prototype._compile=function(e,t){var n={};for(var r in this.properties)if(nw(this.properties,r)){var i=Qx(r),a=JSON.parse(i);if(!lw(this.properties,a))throw new Error('No access to property "'+a+'"');n[a]=this.properties[r]._compile(e,t)}return function(e,t,r){var i={};for(var a in n)nw(n,a)&&(i[a]=n[a](e,t,r));return i}},n.prototype.forEach=function(e){for(var t in this.properties)nw(this.properties,t)&&e(this.properties[t],"properties["+Qx(t)+"]",this)},n.prototype.map=function(e){var t={};for(var r in this.properties)nw(this.properties,r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+Qx(r)+"]",this)));return new n(t)},n.prototype.clone=function(){var e={};for(var t in this.properties)nw(this.properties,t)&&(e[t]=this.properties[t]);return new n(e)},n.prototype._toString=function(e){var t=[];for(var n in this.properties)nw(this.properties,n)&&t.push(Qx(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"},n.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},n.fromJSON=function(e){return new n(e.properties)},n.prototype.toHTML=function(e){var t=[];for(var n in this.properties)nw(this.properties,n)&&t.push('<span class="math-symbol math-property">'+Jx(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},n.prototype._toTex=function(e){var t=[];for(var n in this.properties)nw(this.properties,n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},n},{isClass:!0,isNode:!0});function ww(e,t,n){if(!(this instanceof ww))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function Nw(e,t,n){if(!(this instanceof Nw))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Ew(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Sw(e,t,n){var r,i=e.length;if(i!==t[n])throw new ww(i,t[n]);if(n<t.length-1){var a=n+1;for(r=0;r<i;r++){var o=e[r];if(!Array.isArray(o))throw new ww(t.length-1,t.length,"<");Sw(e[r],t,a)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new ww(t.length+1,t.length,">")}function Mw(e,t){if(0===t.length){if(Array.isArray(e))throw new ww(e.length,0)}else Sw(e,t,0)}function Aw(e,t){if(!jb(e)||!Nx(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"===typeof t&&e>=t)throw new Nw(e,t)}function Cw(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!jb(e)||!Nx(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Yx(t)+")")}),Tw(e,t,0,void 0!==n?n:0),e}function Tw(e,t,n,r){var i,a,o=e.length,s=t[n],u=Math.min(o,s);if(e.length=s,n<t.length-1){var l=n+1;for(i=0;i<u;i++)a=e[i],Array.isArray(a)||(a=[a],e[i]=a),Tw(a,t,l,r);for(i=u;i<s;i++)a=[],e[i]=a,Tw(a,t,l,r)}else{for(i=0;i<u;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=u;i<s;i++)e[i]=r}}function kw(e,t){var n=Fw(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new ww(0,r,"!=");var i=Ow(t=Iw(t,r));if(r!==i)throw new ww(i,r,"!=");try{return function(e,t){for(var n,r=e,i=t.length-1;i>0;i--){var a=t[i];n=[];for(var o=r.length/a,s=0;s<o;s++)n.push(r.slice(s*a,(s+1)*a));r=n}return r}(n,t)}catch(gA){if(gA instanceof ww)throw new ww(i,r,"!=");throw gA}}function Iw(e,t){var n=Ow(e),r=e.slice(),i=e.indexOf(-1);if(e.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(!(t%n===0))throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);r[i]=-t/n}return r}function Ow(e){return e.reduce((e,t)=>e*t,1)}function _w(e,t){for(var n=t||Ew(e);Array.isArray(e)&&1===e.length;)e=e[0],n.shift();for(var r=n.length;1===n[r-1];)r--;return r<n.length&&(e=Dw(e,r,0),n.length=r),e}function Dw(e,t,n){var r,i;if(n<t){var a=n+1;for(r=0,i=e.length;r<i;r++)e[r]=Dw(e[r],t,a)}else for(;Array.isArray(e);)e=e[0];return e}function Rw(e,t,n,r){var i=r||Ew(e);if(n)for(var a=0;a<n;a++)e=[e],i.unshift(1);for(e=Pw(e,t,0);i.length<t;)i.push(1);return e}function Pw(e,t,n){var r,i;if(Array.isArray(e)){var a=n+1;for(r=0,i=e.length;r<i;r++)e[r]=Pw(e[r],t,a)}else for(var o=n;o<t;o++)e=[e];return e}function Fw(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function e(n){Array.isArray(n)?n.forEach(e):t.push(n)}),t}function jw(e,t){return Array.prototype.map.call(e,t)}function Lw(e,t){Array.prototype.forEach.call(e,t)}function Bw(e,t){if(1!==Ew(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function Uw(e,t){if(1!==Ew(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,e=>t.test(e))}function zw(e,t){return Array.prototype.join.call(e,t)}function qw(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],n=0;t[0]={value:e[0],identifier:0};for(var r=1;r<e.length;r++)e[r]===e[r-1]?n++:n=0,t.push({value:e[r],identifier:n});return t}function Vw(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],n=0;n<e.length;n++)t.push(e[n].value);return t}function Hw(e,t){for(var n,r=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(0===i&&o&&(r=a.length),o&&a.length!==r)return;var s=o?Hw(a,t):t(a);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}ww.prototype=new RangeError,ww.prototype.constructor=RangeError,ww.prototype.name="DimensionError",ww.prototype.isDimensionError=!0,Nw.prototype=new RangeError,Nw.prototype.constructor=RangeError,Nw.prototype.name="IndexError",Nw.prototype.isIndexError=!0;var Ww=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function Kw(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var r=n.getIdentifier(),i=0;i<Ww.length;i++)if(r in Ww[i])return i;return null}function Gw(e,t){var n=e;"keep"!==t&&(n=e.getContent());var r=n.getIdentifier(),i=Kw(n,t);if(null===i)return null;var a=Ww[i][r];if(nw(a,"associativity")){if("left"===a.associativity)return"left";if("right"===a.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+a.associativity+"'.")}return null}function Yw(e,t,n){var r="keep"!==n?e.getContent():e,i="keep"!==n?e.getContent():t,a=r.getIdentifier(),o=i.getIdentifier(),s=Kw(r,n);if(null===s)return null;var u=Ww[s][a];if(nw(u,"associativeWith")&&u.associativeWith instanceof Array){for(var l=0;l<u.associativeWith.length;l++)if(u.associativeWith[l]===o)return!0;return!1}return null}var Qw=n(147),Jw={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Xw={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},Zw={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Xw.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Xw.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Xw.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Xw.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Xw.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Xw.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Xw.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Xw.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Xw.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Xw.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Xw.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Xw.bitAnd,"${args[1]}\\right)")},bitNot:{1:Xw.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Xw.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Xw.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Xw.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Xw.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Xw.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Xw.and,"${args[1]}\\right)")},not:{1:Xw.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Xw.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Xw.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Xw.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Xw.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Xw.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Xw.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Xw.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Xw.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Xw.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Xw.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Xw.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Xw.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Xw.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Jw.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},$w={deg:"^\\circ"};function eN(e){return Qw(e,{preserveFormatting:!0})}function tN(e,t){return(t="undefined"!==typeof t&&t)?nw($w,e)?$w[e]:"\\mathrm{"+eN(e)+"}":nw(Jw,e)?Jw[e]:eN(e)}var nN=rw("OperatorNode",["Node"],e=>{var{Node:t}=e;function n(e,t,r,i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('string expected for parameter "op"');if("string"!==typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(px))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.isPercentage=!0===a,this.op=e,this.fn=t,this.args=r||[]}function r(e,t,n,r,i){var a,o=Kw(e,t),s=Gw(e,t);if("all"===t||r.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return r.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(r.length){case 0:a=[];break;case 1:var u=Kw(r[0],t);if(i&&null!==u){var l,c;if("keep"===t?(l=r[0].getIdentifier(),c=e.getIdentifier()):(l=r[0].getContent().getIdentifier(),c=e.getContent().getIdentifier()),!1===Ww[o][c].latexLeftParens){a=[!1];break}if(!1===Ww[u][l].latexParens){a=[!1];break}}if(null===u){a=[!1];break}if(u<=o){a=[!0];break}a=[!1];break;case 2:var h,f,d=Kw(r[0],t),p=Yw(e,r[0],t);h=null!==d&&(d===o&&"right"===s&&!p||d<o);var m,g,y,v=Kw(r[1],t),b=Yw(e,r[1],t);if(f=null!==v&&(v===o&&"left"===s&&!b||v<o),i)"keep"===t?(m=e.getIdentifier(),g=e.args[0].getIdentifier(),y=e.args[1].getIdentifier()):(m=e.getContent().getIdentifier(),g=e.args[0].getContent().getIdentifier(),y=e.args[1].getContent().getIdentifier()),null!==d&&(!1===Ww[o][m].latexLeftParens&&(h=!1),!1===Ww[d][g].latexParens&&(h=!1)),null!==v&&(!1===Ww[o][m].latexRightParens&&(f=!1),!1===Ww[v][y].latexParens&&(f=!1));a=[h,f];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(a=r.map(function(n){var r=Kw(n,t),i=Yw(e,n,t),a=Gw(n,t);return null!==r&&(o===r&&s===a&&!i||r<o)}))}return r.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===n&&(a=r.map(function(e,t){var n="ParenthesisNode"===e.getIdentifier();return!(!a[t]&&!n)})),a}return n.prototype=new t,n.prototype.type="OperatorNode",n.prototype.isOperatorNode=!0,n.prototype._compile=function(e,t){if("string"!==typeof this.fn||!cw(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=sw(e,this.fn),r=jw(this.args,function(n){return n._compile(e,t)});if(1===r.length){var i=r[0];return function(e,t,r){return n(i(e,t,r))}}if(2===r.length){var a=r[0],o=r[1];return function(e,t,r){return n(a(e,t,r),o(e,t,r))}}return function(e,t,i){return n.apply(null,jw(r,function(n){return n(e,t,i)}))}},n.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new n(this.op,this.fn,t,this.implicit,this.isPercentage)},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)},n.prototype.isUnary=function(){return 1===this.args.length},n.prototype.isBinary=function(){return 2===this.args.length},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,a=r(this,t,n,i,!1);if(1===i.length){var o=Gw(this,t),s=i[0].toString(e);a[0]&&(s="("+s+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===o?this.op+(u?" ":"")+s:"left"===o?s+(u?" ":"")+this.op:s+this.op}if(2===i.length){var l=i[0].toString(e),c=i[1].toString(e);return a[0]&&(l="("+l+")"),a[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?l+" "+c:l+" "+this.op+" "+c}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var h=i.map(function(t,n){return t=t.toString(e),a[n]&&(t="("+t+")"),t});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?h.join(" "):h.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},n.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}},n.fromJSON=function(e){return new n(e.op,e.fn,e.args,e.implicit,e.isPercentage)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,a=r(this,t,n,i,!1);if(1===i.length){var o=Gw(this,t),s=i[0].toHTML(e);return a[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Jx(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Jx(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(e),l=i[1].toHTML(e);return a[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a[1]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+l:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Jx(this.op)+"</span>"+l}var c=i.map(function(t,n){return t=t.toHTML(e),a[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t});return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Jx(this.op)+"</span>"):'<span class="math-function">'+Jx(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,a=r(this,t,n,i,!0),o=Xw[this.fn];if(o="undefined"===typeof o?this.op:o,1===i.length){var s=Gw(this,t),u=i[0].toTex(e);return a[0]&&(u="\\left(".concat(u,"\\right)")),"right"===s?o+u:u+o}if(2===i.length){var l=i[0],c=l.toTex(e);a[0]&&(c="\\left(".concat(c,"\\right)"));var h,f=i[1].toTex(e);switch(a[1]&&(f="\\left(".concat(f,"\\right)")),h="keep"===t?l.getIdentifier():l.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+c+"}{"+f+"}";case"OperatorNode:pow":switch(c="{"+c+"}",f="{"+f+"}",h){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return c+"~"+f}return c+o+f}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var d=i.map(function(t,n){return t=t.toTex(e),a[n]&&(t="\\left(".concat(t,"\\right)")),t});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?d.join("~"):d.join(o)}return"\\mathrm{"+this.fn+"}\\left("+i.map(function(t){return t.toTex(e)}).join(",")+"\\right)"},n.prototype.getIdentifier=function(){return this.type+":"+this.fn},n},{isClass:!0,isNode:!0}),rN=rw("ParenthesisNode",["Node"],e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!px(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return n.prototype=new t,n.prototype.type="ParenthesisNode",n.prototype.isParenthesisNode=!0,n.prototype._compile=function(e,t){return this.content._compile(e,t)},n.prototype.getContent=function(){return this.content.getContent()},n.prototype.forEach=function(e){e(this.content,"content",this)},n.prototype.map=function(e){return new n(e(this.content,"content",this))},n.prototype.clone=function(){return new n(this.content)},n.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},n.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},n.fromJSON=function(e){return new n(e.content)},n.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},n.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},n},{isClass:!0,isNode:!0}),iN=rw("RelationalNode",["Node"],e=>{var{Node:t}=e;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return n.prototype=new t,n.prototype.type="RelationalNode",n.prototype.isRelationalNode=!0,n.prototype._compile=function(e,t){var n=this,r=this.params.map(n=>n._compile(e,t));return function(t,i,a){for(var o,s=r[0](t,i,a),u=0;u<n.conditionals.length;u++){if(o=s,s=r[u+1](t,i,a),!sw(e,n.conditionals[u])(o,s))return!1}return!0}},n.prototype.forEach=function(e){this.params.forEach((t,n)=>e(t,"params["+n+"]",this),this)},n.prototype.map=function(e){return new n(this.conditionals.slice(),this.params.map((t,n)=>this._ifNode(e(t,"params["+n+"]",this)),this))},n.prototype.clone=function(){return new n(this.conditionals,this.params)},n.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Kw(this,t),r=this.params.map(function(r,i){var a=Kw(r,t);return"all"===t||null!==a&&a<=n?"("+r.toString(e)+")":r.toString(e)}),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=r[0],o=0;o<this.conditionals.length;o++)a+=" "+i[this.conditionals[o]]+" "+r[o+1];return a},n.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},n.fromJSON=function(e){return new n(e.conditionals,e.params)},n.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Kw(this,t),r=this.params.map(function(r,i){var a=Kw(r,t);return"all"===t||null!==a&&a<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(e)}),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=r[0],o=0;o<this.conditionals.length;o++)a+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Jx(i[this.conditionals[o]])+"</span>"+r[o+1];return a},n.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Kw(this,t),r=this.params.map(function(r,i){var a=Kw(r,t);return"all"===t||null!==a&&a<=n?"\\left("+r.toTex(e)+"\right)":r.toTex(e)}),i=r[0],a=0;a<this.conditionals.length;a++)i+=Xw[this.conditionals[a]]+r[a+1];return i},n},{isClass:!0,isNode:!0}),aN=rw("ArrayNode",["Node"],e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(px))throw new TypeError("Array containing Nodes expected")}return n.prototype=new t,n.prototype.type="ArrayNode",n.prototype.isArrayNode=!0,n.prototype._compile=function(e,t){var n=jw(this.items,function(n){return n._compile(e,t)});if("Array"!==e.config.matrix){var r=e.matrix;return function(e,t,i){return r(jw(n,function(n){return n(e,t,i)}))}}return function(e,t,r){return jw(n,function(n){return n(e,t,r)})}},n.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){e(this.items[t],"items["+t+"]",this)}},n.prototype.map=function(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new n(t)},n.prototype.clone=function(){return new n(this.items.slice(0))},n.prototype._toString=function(e){return"["+this.items.map(function(t){return t.toString(e)}).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},n.fromJSON=function(e){return new n(e.items)},n.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(t){return t.toHTML(e)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},n.prototype._toTex=function(e){return function t(n,r){var i=n.some(ox)&&!n.every(ox),a=r||i,o=a?"&":"\\\\",s=n.map(function(n){return n.items?t(n.items,!r):n.toTex(e)}).join(o);return i||!a||a&&!r?"\\begin{bmatrix}"+s+"\\end{bmatrix}":s}(this.items,!1)},n},{isClass:!0,isNode:!0}),oN=rw("BlockNode",["ResultSet","Node"],e=>{var{ResultSet:t,Node:n}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!px(t))throw new TypeError('Property "node" must be a Node');if("boolean"!==typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}})}return r.prototype=new n,r.prototype.type="BlockNode",r.prototype.isBlockNode=!0,r.prototype._compile=function(e,n){var r=jw(this.blocks,function(t){return{evaluate:t.node._compile(e,n),visible:t.visible}});return function(e,n,i){var a=[];return Lw(r,function(t){var r=t.evaluate(e,n,i);t.visible&&a.push(r)}),new t(a)}},r.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.blocks.length;n++){var i=this.blocks[n],a=this._ifNode(e(i.node,"blocks["+n+"].node",this));t[n]={node:a,visible:i.visible}}return new r(t)},r.prototype.clone=function(){return new r(this.blocks.map(function(e){return{node:e.node,visible:e.visible}}))},r.prototype._toString=function(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";")}).join("\n")},r.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},r.fromJSON=function(e){return new r(e.blocks)},r.prototype.toHTML=function(e){return this.blocks.map(function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},r.prototype._toTex=function(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\\;\\;\n")},r},{isClass:!0,isNode:!0}),sN=rw("ConditionalNode",["Node"],e=>{var{Node:t}=e;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!px(e))throw new TypeError("Parameter condition must be a Node");if(!px(t))throw new TypeError("Parameter trueExpr must be a Node");if(!px(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=r}return n.prototype=new t,n.prototype.type="ConditionalNode",n.prototype.isConditionalNode=!0,n.prototype._compile=function(e,t){var n=this.condition._compile(e,t),r=this.trueExpr._compile(e,t),i=this.falseExpr._compile(e,t);return function(e,t,a){return function(e){if("number"===typeof e||"boolean"===typeof e||"string"===typeof e)return!!e;if(e){if(Lb(e))return!e.isZero();if(Bb(e))return!(!e.re&&!e.im);if(zb(e))return!!e.value}if(null===e||void 0===e)return!1;throw new TypeError('Unsupported type of condition "'+wx(e)+'"')}(n(e,t,a))?r(e,t,a):i(e,t,a)}},n.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr)},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=Kw(this,t),r=this.condition.toString(e),i=Kw(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r="("+r+")");var a=this.trueExpr.toString(e),o=Kw(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(a="("+a+")");var s=this.falseExpr.toString(e),u=Kw(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(s="("+s+")"),r+" ? "+a+" : "+s},n.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},n.fromJSON=function(e){return new n(e.condition,e.trueExpr,e.falseExpr)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=Kw(this,t),r=this.condition.toHTML(e),i=Kw(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(e),o=Kw(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),u=Kw(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+s},n.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},n},{isClass:!0,isNode:!0}),uN=rw("ConstantNode",["Node"],e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.value=e}return n.prototype=new t,n.prototype.type="ConstantNode",n.prototype.isConstantNode=!0,n.prototype._compile=function(e,t){var n=this.value;return function(){return n}},n.prototype.forEach=function(e){},n.prototype.map=function(e){return this.clone()},n.prototype.clone=function(){return new n(this.value)},n.prototype._toString=function(e){return Yx(this.value,e)},n.prototype.toHTML=function(e){var t=this._toString(e);switch(wx(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},n.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},n.fromJSON=function(e){return new n(e.value)},n.prototype._toTex=function(e){var t=this._toString(e);switch(wx(this.value)){case"string":return"\\mathtt{"+eN(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},n},{isClass:!0,isNode:!0}),lN=rw("RangeNode",["Node"],e=>{var{Node:t}=e;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!px(e))throw new TypeError("Node expected");if(!px(t))throw new TypeError("Node expected");if(r&&!px(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=r||null}function r(e,t){var n=Kw(e,t),r={},i=Kw(e.start,t);if(r.start=null!==i&&i<=n||"all"===t,e.step){var a=Kw(e.step,t);r.step=null!==a&&a<=n||"all"===t}var o=Kw(e.end,t);return r.end=null!==o&&o<=n||"all"===t,r}return n.prototype=new t,n.prototype.type="RangeNode",n.prototype.isRangeNode=!0,n.prototype.needsEnd=function(){return this.filter(function(e){return bx(e)&&"end"===e.name}).length>0},n.prototype._compile=function(e,t){var n=e.range,r=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var a=this.step._compile(e,t);return function(e,t,o){return n(r(e,t,o),i(e,t,o),a(e,t,o))}}return function(e,t,a){return n(r(e,t,a),i(e,t,a))}},n.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step)},n.prototype._toString=function(e){var t,n=r(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toString(e);if(n.start&&(i="("+i+")"),t=i,this.step){var a=this.step.toString(e);n.step&&(a="("+a+")"),t+=":"+a}var o=this.end.toString(e);return n.end&&(o="("+o+")"),t+=":"+o},n.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n.prototype.toHTML=function(e){var t,n=r(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toHTML(e);if(n.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var a=this.step.toHTML(e);n.step&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+a}var o=this.end.toHTML(e);return n.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o},n.prototype._toTex=function(e){var t=r(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toTex(e);if(t.start&&(n="\\left(".concat(n,"\\right)")),this.step){var i=this.step.toTex(e);t.step&&(i="\\left(".concat(i,"\\right)")),n+=":"+i}var a=this.end.toTex(e);return t.end&&(a="\\left(".concat(a,"\\right)")),n+=":"+a},n},{isClass:!0,isNode:!0}),cN=rw("reviver",["classes"],e=>{var{classes:t}=e;return function(e,n){var r=t[n&&n.mathjs];return r&&"function"===typeof r.fromJSON?r.fromJSON(n):n}}),hN="chain",fN=rw(hN,["typed","Chain"],e=>{var{typed:t,Chain:n}=e;return t(hN,{"":function(){return new n},any:function(e){return new n(e)}})}),dN=rw("FunctionAssignmentNode",["typed","Node"],e=>{var{typed:t,Node:n}=e;function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!px(n))throw new TypeError('Node expected for parameter "expr"');if(ow.has(e))throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map(function(e){return e&&e.name||e}),this.types=t.map(function(e){return e&&e.type||"any"}),this.expr=n}function i(e,t){var n=Kw(e,t),r=Kw(e.expr,t);return"all"===t||null!==r&&r<=n}return r.prototype=new n,r.prototype.type="FunctionAssignmentNode",r.prototype.isFunctionAssignmentNode=!0,r.prototype._compile=function(e,n){var r=Object.create(n);Lw(this.params,function(e){r[e]=!0});var i=this.expr._compile(e,r),a=this.name,o=this.params,s=zw(this.types,","),u=a+"("+zw(this.params,", ")+")";return function(e,n,r){var l={};l[s]=function(){for(var t=Object.create(n),a=0;a<o.length;a++)t[o[a]]=arguments[a];return i(e,t,r)};var c=t(a,l);return c.syntax=u,e.set(a,c),c}},r.prototype.forEach=function(e){e(this.expr,"expr",this)},r.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new r(this.name,this.params.slice(0),t)},r.prototype.clone=function(){return new r(this.name,this.params.slice(0),this.expr)},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return i(this,t)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},r.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(t,n){return{name:t,type:e[n]}}),expr:this.expr}},r.fromJSON=function(e){return new r(e.name,e.params,e.expr)},r.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+Jx(this.params[r])+"</span>");var a=this.expr.toHTML(e);return i(this,t)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Jx(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+a},r.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return i(this,t)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(tN).join(",")+"\\right):="+n},r},{isClass:!0,isNode:!0});function pN(e){return e&&e.isIndexError?new Nw(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function mN(e){var{subset:t}=e;return function(e,n){try{if(Array.isArray(e))return t(e,n);if(e&&"function"===typeof e.subset)return e.subset(n);if("string"===typeof e)return t(e,n);if("object"===typeof e){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return sw(e,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw pN(r)}}}var gN=rw("AccessorNode",["subset","Node"],e=>{var{subset:t,Node:n}=e,r=mN({subset:t});function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!px(e))throw new TypeError('Node expected for parameter "object"');if(!dx(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function a(e){return!(ax(e)||ox(e)||cx(e)||fx(e)||mx(e)||yx(e)||bx(e))}return i.prototype=new n,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(e,t){var n=this.object._compile(e,t),i=this.index._compile(e,t);if(this.index.isObjectProperty()){var a=this.index.getObjectProperty();return function(e,t,r){return sw(n(e,t,r),a)}}return function(e,t,a){var o=n(e,t,a),s=i(e,t,o);return r(o,s)}},i.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},i.prototype.map=function(e){return new i(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(e){var t=this.object.toString(e);return a(this.object)&&(t="("+t+")"),t+this.index.toString(e)},i.prototype.toHTML=function(e){var t=this.object.toHTML(e);return a(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},i.prototype._toTex=function(e){var t=this.object.toTex(e);return a(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},i.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(e){return new i(e.object,e.index)},i},{isClass:!0,isNode:!0});var yN=rw("AssignmentNode",["subset","?matrix","Node"],e=>{var{subset:t,matrix:n,Node:r}=e,i=mN({subset:t}),a=function(e){var{subset:t,matrix:n}=e;return function(e,r,i){try{if(Array.isArray(e))return n(e).subset(r,i).valueOf();if(e&&"function"===typeof e.subset)return e.subset(r,i);if("string"===typeof e)return t(e,r,i);if("object"===typeof e){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return uw(e,r.getObjectProperty(),i),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw pN(a)}}}({subset:t,matrix:n});function o(e,t,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=n?t:null,this.value=n||t,!bx(e)&&!ax(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(bx(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!dx(this.index))throw new TypeError('IndexNode expected as "index"');if(!px(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(e,t){t||(t="keep");var n=Kw(e,t),r=Kw(e.value,t);return"all"===t||null!==r&&r<=n}return o.prototype=new r,o.prototype.type="AssignmentNode",o.prototype.isAssignmentNode=!0,o.prototype._compile=function(e,t){var n=this.object._compile(e,t),r=this.index?this.index._compile(e,t):null,o=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(e,t,r){var i=n(e,t,r),a=o(e,t,r);return uw(i,u,a),a}}if(bx(this.object))return function(e,t,i){var u=n(e,t,i),l=o(e,t,i),c=r(e,t,u);return e.set(s,a(u,c,l)),l};var l=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(e,t,n){var i=l(e,t,n),s=sw(i,c),u=r(e,t,s),h=o(e,t,n);return uw(i,c,a(s,u,h)),h}}var h=this.object.index._compile(e,t);return function(e,t,n){var s=l(e,t,n),u=h(e,t,s),c=i(s,u),f=r(e,t,c),d=o(e,t,n);return a(s,u,a(c,f,d)),d}}if(!bx(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){var r=o(e,t,n);return e.set(s,r),r}},o.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},o.prototype.clone=function(){return new o(this.object,this.index,this.value)},o.prototype._toString=function(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return s(this,e&&e.parenthesis)&&(r="("+r+")"),t+n+" = "+r},o.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},o.fromJSON=function(e){return new o(e.object,e.index,e.value)},o.prototype.toHTML=function(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return s(this,e&&e.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},o.prototype._toTex=function(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return s(this,e&&e.parenthesis)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r},o},{isClass:!0,isNode:!0}),vN=rw("IndexNode",["Node","size"],e=>{var{Node:t,size:n}=e;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(px))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}return r.prototype=new t,r.prototype.type="IndexNode",r.prototype.isIndexNode=!0,r.prototype._compile=function(e,t){var r=jw(this.dimensions,function(r,i){if(r.filter(e=>e.isSymbolNode&&"end"===e.name).length>0){var a=Object.create(t);a.end=!0;var o=r._compile(e,a);return function(e,t,r){if(!Hb(r)&&!Vb(r)&&!qb(r))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+wx(r));var a=n(r).valueOf(),s=Object.create(t);return s.end=a[i],o(e,s,r)}}return r._compile(e,t)}),i=sw(e,"index");return function(e,t,n){var a=jw(r,function(r){return r(e,t,n)});return i(...a)}},r.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new r(t,this.dotNotation)},r.prototype.clone=function(){return new r(this.dimensions.slice(0),this.dotNotation)},r.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&cx(this.dimensions[0])&&"string"===typeof this.dimensions[0].value},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},r.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},r.fromJSON=function(e){return new r(e.dimensions,e.dotNotation)},r.prototype.toHTML=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Jx(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(e){var t=this.dimensions.map(function(t){return t.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},r},{isClass:!0,isNode:!0}),bN=rw("SymbolNode",["math","?Unit","Node"],e=>{var{math:t,Unit:n,Node:r}=e;function i(e){return!!n&&n.isValuelessUnit(e)}function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return a.prototype=new r,a.prototype.type="SymbolNode",a.prototype.isSymbolNode=!0,a.prototype._compile=function(e,t){var r=this.name;if(!0===t[r])return function(e,t,n){return t[r]};if(r in e)return function(t,n,i){return t.has(r)?t.get(r):sw(e,r)};var o=i(r);return function(e,t,i){return e.has(r)?e.get(r):o?new n(null,r):a.onUndefinedSymbol(r)}},a.prototype.forEach=function(e){},a.prototype.map=function(e){return this.clone()},a.onUndefinedSymbol=function(e){throw new Error("Undefined symbol "+e)},a.prototype.clone=function(){return new a(this.name)},a.prototype._toString=function(e){return this.name},a.prototype.toHTML=function(e){var t=Jx(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},a.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},a.fromJSON=function(e){return new a(e.name)},a.prototype._toTex=function(e){var n=!1;"undefined"===typeof t[this.name]&&i(this.name)&&(n=!0);var r=tN(this.name,n);return"\\"===r[0]?r:" "+r},a},{isClass:!0,isNode:!0});function xN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e.createSubScope?vw(e.createSubScope(),...n):vw(mw(),e,...n)}var wN=rw("FunctionNode",["math","Node","SymbolNode"],e=>{var{math:t,Node:n,SymbolNode:r}=e;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"===typeof e&&(e=new r(e)),!px(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(px))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}i.prototype=new n,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0;var a=e=>Yx(e,{truncate:78});i.prototype._compile=function(e,t){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var n=this.args.map(n=>n._compile(e,t));if(!bx(this.fn)){if(ax(this.fn)&&dx(this.fn.index)&&this.fn.index.isObjectProperty()){var r=this.fn.object._compile(e,t),o=this.fn.index.getObjectProperty(),s=this.args;return function(t,i,a){var u=r(t,i,a);if(function(e,t){if(!cw(e,t))throw new Error('No access to method "'+t+'"')}(u,o),u[o]&&u[o].rawArgs)return u[o](s,e,xN(t,i),t);var l=n.map(e=>e(t,i,a));return u[o].apply(u,l)}}var u=this.fn.toString(),l=this.fn._compile(e,t),c=this.args;return function(t,r,i){var o=l(t,r,i);if("function"!==typeof o)throw new TypeError("Expression '".concat(u,"' did not evaluate to a function; value is:")+"\n  ".concat(a(o)));if(o.rawArgs)return o(c,e,xN(t,r),t);var s=n.map(e=>e(t,r,i));return o.apply(o,s)}}var h=this.fn.name;if(t[h]){var f=this.args;return function(t,r,i){var o=r[h];if("function"!==typeof o)throw new TypeError("Argument '".concat(h,"' was not a function; received: ").concat(a(o)));if(o.rawArgs)return o(f,e,xN(t,r),t);var s=n.map(e=>e(t,r,i));return o.apply(o,s)}}var d=h in e?sw(e,h):void 0,p="function"===typeof d&&!0===d.rawArgs,m=t=>{var n;if(t.has(h))n=t.get(h);else{if(!(h in e))return i.onUndefinedFunction(h);n=sw(e,h)}if("function"===typeof n)return n;throw new TypeError("'".concat(h,"' is not a function; its value is:\n  ").concat(a(n)))};if(p){var g=this.args;return function(t,n,r){return m(t)(g,e,xN(t,n),t)}}switch(n.length){case 0:return function(e,t,n){return m(e)()};case 1:return function(e,t,r){return m(e)((0,n[0])(e,t,r))};case 2:return function(e,t,r){var i=m(e),a=n[0],o=n[1];return i(a(e,t,r),o(e,t,r))};default:return function(e,t,r){return m(e)(...n.map(n=>n(e,t,r)))}}},i.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},i.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new i(t,n)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))},i.onUndefinedFunction=function(e){throw new Error("Undefined function "+e)};var o=i.prototype.toString;function s(e,t,n){for(var r,i="",a=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,o=0;null!==(r=a.exec(e));)if(i+=e.substring(o,r.index),o=r.index,"$$"===r[0])i+="$",o++;else{o+=r[0].length;var s=t[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof s){case"string":i+=s;break;case"object":if(px(s))i+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=s.map(function(e,t){if(px(e))return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!px(s[r[2]]&&s[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=s[r[2]].toTex(n)}}return i+=e.slice(o)}i.prototype.toString=function(e){var t,n=this.fn.toString(e);return e&&"object"===typeof e.handler&&nw(e.handler,n)&&(t=e.handler[n](this,e)),"undefined"!==typeof t?t:o.call(this,e)},i.prototype._toString=function(e){var t=this.args.map(function(t){return t.toString(e)});return(hx(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"},i.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(e){return new i(e.fn,e.args)},i.prototype.toHTML=function(e){var t=this.args.map(function(t){return t.toHTML(e)});return'<span class="math-function">'+Jx(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var u=i.prototype.toTex;return i.prototype.toTex=function(e){var t;return e&&"object"===typeof e.handler&&nw(e.handler,this.name)&&(t=e.handler[this.name](this,e)),"undefined"!==typeof t?t:u.call(this,e)},i.prototype._toTex=function(e){var n,r,i=this.args.map(function(t){return t.toTex(e)});switch(Zw[this.name]&&(n=Zw[this.name]),!t[this.name]||"function"!==typeof t[this.name].toTex&&"object"!==typeof t[this.name].toTex&&"string"!==typeof t[this.name].toTex||(n=t[this.name].toTex),typeof n){case"function":r=n(this,e);break;case"string":r=s(n,this,e);break;case"object":switch(typeof n[i.length]){case"function":r=n[i.length](this,e);break;case"string":r=s(n[i.length],this,e)}}return"undefined"!==typeof r?r:s("\\mathrm{${name}}\\left(${args}\\right)",this,e)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i},{isClass:!0,isNode:!0});function NN(e){var t,n,r=e.length,i=e[0].length,a=[];for(n=0;n<i;n++){var o=[];for(t=0;t<r;t++)o.push(e[t][n]);a.push(o)}return a}function EN(e){for(var t=0;t<e.length;t++)if(Wb(e[t]))return!0;return!1}function SN(e,t){Hb(e)&&(e=e.valueOf());for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?SN(i,t):t(i)}}function MN(e,t,n){return e&&"function"===typeof e.map?e.map(function(e){return MN(e,t,n)}):t(e)}function AN(e,t,n){var r=Array.isArray(e)?Ew(e):e.size();if(t<0||t>=r.length)throw new Nw(t,r.length);return Hb(e)?e.create(CN(e.valueOf(),t,n)):CN(e,t,n)}function CN(e,t,n){var r,i,a,o;if(t<=0){if(Array.isArray(e[0])){for(o=NN(e),i=[],r=0;r<o.length;r++)i[r]=CN(o[r],t-1,n);return i}for(a=e[0],r=1;r<e.length;r++)a=n(a,e[r]);return a}for(i=[],r=0;r<e.length;r++)i[r]=CN(e[r],t-1,n);return i}function TN(e,t,n,r,i,a,o,s,u,l,c){var h,f,d,p,m=e._values,g=e._index,y=e._ptr;if(r)for(f=y[t],d=y[t+1],h=f;h<d;h++)n[p=g[h]]!==a?(n[p]=a,o.push(p),l?(r[p]=u?s(m[h],c):s(c,m[h]),i[p]=a):r[p]=m[h]):(r[p]=u?s(m[h],r[p]):s(r[p],m[h]),i[p]=a);else for(f=y[t],d=y[t+1],h=f;h<d;h++)n[p=g[h]]!==a?(n[p]=a,o.push(p)):i[p]=a}var kN="parse",IN=rw(kN,["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],e=>{var{typed:t,numeric:n,config:r,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:s,ConditionalNode:u,ConstantNode:l,FunctionAssignmentNode:c,FunctionNode:h,IndexNode:f,ObjectNode:d,OperatorNode:p,ParenthesisNode:m,RangeNode:g,RelationalNode:y,SymbolNode:v}=e,b=t(kN,{string:function(e){return P(e,{})},"Array | Matrix":function(e){return x(e,{})},"string, Object":function(e,t){return P(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":x});function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.nodes?t.nodes:{};return MN(e,function(e){if("string"!==typeof e)throw new TypeError("String expected");return P(e,n)})}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},N={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},E={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},S={true:!0,false:!1,null:null,undefined:void 0},M=["NaN","Infinity"];function A(e,t){return e.expression.substr(e.index,t)}function C(e){return A(e,1)}function T(e){e.index++}function k(e){return e.expression.charAt(e.index-1)}function I(e){return e.expression.charAt(e.index+1)}function O(e){for(e.tokenType=w.NULL,e.token="",e.comment="";;){if("#"===C(e))for(;"\n"!==C(e)&&""!==C(e);)e.comment+=C(e),T(e);if(!b.isWhitespace(C(e),e.nestingLevel))break;T(e)}if(""!==C(e)){if("\n"===C(e)&&!e.nestingLevel)return e.tokenType=w.DELIMITER,e.token=C(e),void T(e);var t=C(e),n=A(e,2),r=A(e,3);if(3===r.length&&N[r])return e.tokenType=w.DELIMITER,e.token=r,T(e),T(e),void T(e);if(2===n.length&&N[n])return e.tokenType=w.DELIMITER,e.token=n,T(e),void T(e);if(N[t])return e.tokenType=w.DELIMITER,e.token=t,void T(e);if(b.isDigitDot(t)){e.tokenType=w.NUMBER;var i=A(e,2);if("0b"===i||"0o"===i||"0x"===i){for(e.token+=C(e),T(e),e.token+=C(e),T(e);b.isHexDigit(C(e));)e.token+=C(e),T(e);if("."===C(e))for(e.token+=".",T(e);b.isHexDigit(C(e));)e.token+=C(e),T(e);else if("i"===C(e))for(e.token+="i",T(e);b.isDigit(C(e));)e.token+=C(e),T(e);return}if("."===C(e)){if(e.token+=C(e),T(e),!b.isDigit(C(e)))return void(e.tokenType=w.DELIMITER)}else{for(;b.isDigit(C(e));)e.token+=C(e),T(e);b.isDecimalMark(C(e),I(e))&&(e.token+=C(e),T(e))}for(;b.isDigit(C(e));)e.token+=C(e),T(e);if("E"===C(e)||"e"===C(e))if(b.isDigit(I(e))||"-"===I(e)||"+"===I(e)){if(e.token+=C(e),T(e),"+"!==C(e)&&"-"!==C(e)||(e.token+=C(e),T(e)),!b.isDigit(C(e)))throw re(e,'Digit expected, got "'+C(e)+'"');for(;b.isDigit(C(e));)e.token+=C(e),T(e);if(b.isDecimalMark(C(e),I(e)))throw re(e,'Digit expected, got "'+C(e)+'"')}else if("."===I(e))throw T(e),re(e,'Digit expected, got "'+C(e)+'"')}else{if(!b.isAlpha(C(e),k(e),I(e))){for(e.tokenType=w.UNKNOWN;""!==C(e);)e.token+=C(e),T(e);throw re(e,'Syntax error in part "'+e.token+'"')}for(;b.isAlpha(C(e),k(e),I(e))||b.isDigit(C(e));)e.token+=C(e),T(e);nw(E,e.token)?e.tokenType=w.DELIMITER:e.tokenType=w.SYMBOL}}else e.tokenType=w.DELIMITER}function _(e){do{O(e)}while("\n"===e.token)}function D(e){e.nestingLevel++}function R(e){e.nestingLevel--}function P(e,t){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null};_b(n,{expression:e,extraNodes:t}),O(n);var r=function(e){var t,n,r=[];""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=F(e)).comment=e.comment);for(;"\n"===e.token||";"===e.token;)0===r.length&&t&&(n=";"!==e.token,r.push({node:t,visible:n})),O(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=F(e)).comment=e.comment,n=";"!==e.token,r.push({node:t,visible:n}));return r.length>0?new s(r):(t||((t=new l(void 0)).comment=e.comment),t)}(n);if(""!==n.token)throw n.tokenType===w.DELIMITER?ie(n,"Unexpected operator "+n.token):re(n,'Unexpected part "'+n.token+'"');return r}function F(e){var t,n,r,i,a=function(e){var t=function(e){var t=j(e);for(;"or"===e.token;)_(e),t=new p("or","or",[t,j(e)]);return t}(e);for(;"?"===e.token;){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,_(e);var r=t,i=F(e);if(":"!==e.token)throw re(e,"False part of conditional expression expected");e.conditionalLevel=null,_(e);var a=F(e);t=new u(r,i,a),e.conditionalLevel=n}return t}(e);if("="===e.token){if(bx(a))return t=a.name,_(e),r=F(e),new o(new v(t),r);if(ax(a))return _(e),r=F(e),new o(a.object,a.index,r);if(fx(a)&&bx(a.fn)&&(i=!0,n=[],t=a.name,a.args.forEach(function(e,t){bx(e)?n[t]=e.name:i=!1}),i))return _(e),r=F(e),new c(t,n,r);throw re(e,"Invalid left hand side of assignment operator =")}return a}function j(e){for(var t=L(e);"xor"===e.token;)_(e),t=new p("xor","xor",[t,L(e)]);return t}function L(e){for(var t=B(e);"and"===e.token;)_(e),t=new p("and","and",[t,B(e)]);return t}function B(e){for(var t=U(e);"|"===e.token;)_(e),t=new p("|","bitOr",[t,U(e)]);return t}function U(e){for(var t=z(e);"^|"===e.token;)_(e),t=new p("^|","bitXor",[t,z(e)]);return t}function z(e){for(var t=q(e);"&"===e.token;)_(e),t=new p("&","bitAnd",[t,q(e)]);return t}function q(e){for(var t=[V(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};nw(r,e.token);){var i={name:e.token,fn:r[e.token]};n.push(i),_(e),t.push(V(e))}return 1===t.length?t[0]:2===t.length?new p(n[0].name,n[0].fn,t):new y(n.map(e=>e.fn),t)}function V(e){var t,n,r,i;t=H(e);for(var a={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};nw(a,e.token);)r=a[n=e.token],_(e),i=[t,H(e)],t=new p(n,r,i);return t}function H(e){var t,n,r,i;t=W(e);for(var a={to:"to",in:"to"};nw(a,e.token);)r=a[n=e.token],_(e),"in"===n&&""===e.token?t=new p("*","multiply",[t,new v("in")],!0):(i=[t,W(e)],t=new p(n,r,i));return t}function W(e){var t,n=[];if(t=":"===e.token?new l(1):K(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(n.push(t);":"===e.token&&n.length<3;)_(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?n.push(new v("end")):n.push(K(e));t=3===n.length?new g(n[0],n[2],n[1]):new g(n[0],n[1])}return t}function K(e){var t,n,r,i;t=G(e);for(var a={"+":"add","-":"subtract"};nw(a,e.token);){r=a[n=e.token],_(e);var o=G(e);i=o.isPercentage?[t,new p("*","multiply",[t,o])]:[t,o],t=new p(n,r,i)}return t}function G(e){var t,n,r,i;n=t=Y(e);for(var a={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};nw(a,e.token);)i=a[r=e.token],_(e),n=Y(e),t=new p(r,i,[t,n]);return t}function Y(e){var t,n;for(n=t=Q(e);e.tokenType===w.SYMBOL||"in"===e.token&&cx(t)||!(e.tokenType!==w.NUMBER||cx(n)||gx(n)&&"!"!==n.op)||"("===e.token;)n=Q(e),t=new p("*","multiply",[t,n],!0);return t}function Q(e){for(var t=J(e),n=t,r=[];"/"===e.token&&cx(n);){if(r.push(_b({},e)),_(e),e.tokenType!==w.NUMBER){_b(e,r.pop());break}if(r.push(_b({},e)),_(e),e.tokenType!==w.SYMBOL&&"("!==e.token){r.pop(),_b(e,r.pop());break}_b(e,r.pop()),r.pop(),n=J(e),t=new p("/","divide",[t,n])}return t}function J(e){var t,n,r,i;t=X(e);for(var a={"%":"mod",mod:"mod"};nw(a,e.token);)r=a[n=e.token],_(e),"%"===n&&e.tokenType===w.DELIMITER&&"("!==e.token?t=new p("/","divide",[t,new l(100)],!1,!0):(i=[t,X(e)],t=new p(n,r,i));return t}function X(e){var t,i,o,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return nw(s,e.token)?(o=s[e.token],t=e.token,_(e),i=[X(e)],new p(t,o,i)):function(e){var t,i,o,s;t=function(e){var t,i,o;t=function(e){var t=[];if(e.tokenType===w.SYMBOL&&nw(e.extraNodes,e.token)){var i=e.extraNodes[e.token];if(O(e),"("===e.token){if(t=[],D(e),O(e),")"!==e.token)for(t.push(F(e));","===e.token;)O(e),t.push(F(e));if(")"!==e.token)throw re(e,"Parenthesis ) expected");R(e),O(e)}return new i(t)}return function(e){var t;if(e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in E)return t=e.token,O(e),Z(e,nw(S,t)?new l(S[t]):-1!==M.indexOf(t)?new l(n(t,"number")):new v(t));return function(e){var t;if('"'===e.token)return t=$(e),Z(e,new l(t));return function(e){var t;if("'"===e.token)return t=ee(e),Z(e,new l(t));return function(e){var t,i,o,s;if("["===e.token){if(D(e),O(e),"]"!==e.token){var u=te(e);if(";"===e.token){for(o=1,i=[u];";"===e.token;)O(e),i[o]=te(e),o++;if("]"!==e.token)throw re(e,"End of matrix ] expected");R(e),O(e),s=i[0].items.length;for(var c=1;c<o;c++)if(i[c].items.length!==s)throw ie(e,"Column dimensions mismatch ("+i[c].items.length+" !== "+s+")");t=new a(i)}else{if("]"!==e.token)throw re(e,"End of matrix ] expected");R(e),O(e),t=u}}else R(e),O(e),t=new a([]);return Z(e,t)}return function(e){if("{"===e.token){var t;D(e);var i={};do{if(O(e),"}"!==e.token){if('"'===e.token)t=$(e);else if("'"===e.token)t=ee(e);else{if(!(e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in E))throw re(e,"Symbol or string expected as object key");t=e.token,O(e)}if(":"!==e.token)throw re(e,"Colon : expected after object key");O(e),i[t]=F(e)}}while(","===e.token);if("}"!==e.token)throw re(e,"Comma , or bracket } expected after object value");R(e),O(e);var a=new d(i);return a=Z(e,a)}return function(e){var t;if(e.tokenType===w.NUMBER)return t=e.token,O(e),new l(n(t,r.number));return function(e){var t;if("("===e.token){if(D(e),O(e),t=F(e),")"!==e.token)throw re(e,"Parenthesis ) expected");return R(e),O(e),t=Z(e,t=new m(t))}return function(e){throw""===e.token?re(e,"Unexpected end of expression"):re(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);var s={"!":"factorial","'":"ctranspose"};for(;nw(s,e.token);)o=s[i=e.token],O(e),t=Z(e,t=new p(i,o,[t]));return t}(e),("^"===e.token||".^"===e.token)&&(o="^"===(i=e.token)?"pow":"dotPow",_(e),s=[t,X(e)],t=new p(i,o,s));return t}(e)}function Z(e,t,n){for(var r;("("===e.token||"["===e.token||"."===e.token)&&(!n||-1!==n.indexOf(e.token));)if(r=[],"("===e.token){if(!bx(t)&&!ax(t))return t;if(D(e),O(e),")"!==e.token)for(r.push(F(e));","===e.token;)O(e),r.push(F(e));if(")"!==e.token)throw re(e,"Parenthesis ) expected");R(e),O(e),t=new h(t,r)}else if("["===e.token){if(D(e),O(e),"]"!==e.token)for(r.push(F(e));","===e.token;)O(e),r.push(F(e));if("]"!==e.token)throw re(e,"Parenthesis ] expected");R(e),O(e),t=new i(t,new f(r))}else{if(O(e),e.tokenType!==w.SYMBOL)throw re(e,"Property name expected after dot");r.push(new l(e.token)),O(e);t=new i(t,new f(r,!0))}return t}function $(e){for(var t="";""!==C(e)&&'"'!==C(e);)"\\"===C(e)&&(t+=C(e),T(e)),t+=C(e),T(e);if(O(e),'"'!==e.token)throw re(e,'End of string " expected');return O(e),JSON.parse('"'+t+'"')}function ee(e){for(var t="";""!==C(e)&&"'"!==C(e);)"\\"===C(e)&&(t+=C(e),T(e)),t+=C(e),T(e);if(O(e),"'"!==e.token)throw re(e,"End of string ' expected");return O(e),JSON.parse('"'+t+'"')}function te(e){for(var t=[F(e)],n=1;","===e.token;)O(e),t[n]=F(e),n++;return new a(t)}function ne(e){return e.index-e.token.length+1}function re(e,t){var n=ne(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function ie(e,t){var n=ne(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return b.isAlpha=function(e,t,n){return b.isValidLatinOrGreek(e)||b.isValidMathSymbol(e,n)||b.isValidMathSymbol(t,e)},b.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},b.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},b.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},b.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},b.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},b.isDigit=function(e){return e>="0"&&e<="9"},b.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"},b}),ON=rw("resolve",["parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],e=>{var{parse:t,ConstantNode:n,FunctionNode:r,OperatorNode:i,ParenthesisNode:a}=e;return function e(o,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!s)return o;if(yw(s)||(s=gw(s)),bx(o)){if(u.has(o.name)){var l=Array.from(u).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(l,"}"))}var c=s.get(o.name);if(px(c)){var h=new Set(u);return h.add(o.name),e(c,s,h)}return"number"===typeof c?t(String(c)):void 0!==c?new n(c):o}if(gx(o)){var f=o.args.map(function(t){return e(t,s,u)});return new i(o.op,o.fn,f,o.implicit)}if(yx(o))return new a(e(o.content,s,u));if(fx(o)){var d=o.args.map(function(t){return e(t,s,u)});return new r(o.name,d)}return o.map(t=>e(t,s,u))}});function _N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_N(Object(n),!0).forEach(function(t){Fn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var RN=rw("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],e=>{var{FunctionNode:t,OperatorNode:n,SymbolNode:r}=e,i=!0,a=!1,o="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}};function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,r=o;if("string"===typeof e?r=e:gx(e)?r=e.fn.toString():fx(e)?r=e.name:yx(e)&&(r="paren"),nw(n,r)){var i=n[r];if(nw(i,t))return i[t];if(nw(s,r))return s[r][t]}if(nw(n,o)){var a=n[o];return nw(a,t)?a[t]:s[o][t]}if(nw(s,r)){var u=s[r];if(nw(u,t))return u[t]}return s[o][t]}function l(e){return u(e,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)}function c(e,t){var n,r=[];return l(e,t)?(n=e.op,function e(t){for(var i=0;i<t.args.length;i++){var a=t.args[i];gx(a)&&n===a.op?e(a):r.push(a)}}(e),r):e.args}function h(e){return gx(e)?function(t){try{return new n(e.op,e.fn,t,e.implicit)}catch(r){return console.error(r),[]}}:function(n){return new t(new r(e.name),n)}}return{createMakeNodeFunction:h,hasProperty:u,isCommutative:function(e){return u(e,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)},isAssociative:l,mergeContext:function(e,t){var n=DN({},e);for(var r in t)nw(e,r)?n[r]=DN(DN({},t[r]),e[r]):n[r]=t[r];return n},flatten:function e(t,n){if(!t.args||0===t.args.length)return t;t.args=c(t,n);for(var r=0;r<t.args.length;r++)e(t.args[r],n)},allChildren:c,unflattenr:function e(t,n){if(t.args&&0!==t.args.length){for(var r=h(t),i=t.args.length,a=0;a<i;a++)e(t.args[a],n);if(i>2&&l(t,n)){for(var o=t.args.pop();t.args.length>0;)o=r([t.args.pop(),o]);t.args=o.args}}},unflattenl:function e(t,n){if(t.args&&0!==t.args.length){for(var r=h(t),i=t.args.length,a=0;a<i;a++)e(t.args[a],n);if(i>2&&l(t,n)){for(var o=t.args.shift();t.args.length>0;)o=r([o,t.args.shift()]);t.args=o.args}}},defaultContext:s,realContext:{divide:{total:a},log:{total:a}},positiveContext:{subtract:{total:a},abs:{trivial:i},log:{total:i}}}}),PN=rw("simplifyCore",["equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{equal:t,isZero:n,add:r,subtract:i,multiply:a,divide:o,pow:s,AccessorNode:u,ArrayNode:l,ConstantNode:c,FunctionNode:h,IndexNode:f,ObjectNode:d,OperatorNode:p,ParenthesisNode:m,SymbolNode:g}=e,y=new c(0),v=new c(1),{hasProperty:b,isCommutative:x}=RN({FunctionNode:h,OperatorNode:p,SymbolNode:g});return function e(m,g){var w=g?g.context:void 0;if(b(m,"trivial",w)){if(fx(m)&&1===m.args.length)return e(m.args[0],g);var N=!1,E=0;if(m.forEach(t=>{1===++E&&(N=e(t,g))}),1===E)return N}if(gx(m)&&m.isUnary()){var S=e(m.args[0],g);if("-"===m.op){if(gx(S)){if(S.isUnary()&&"-"===S.op)return S.args[0];if(S.isBinary()&&"subtract"===S.fn)return new p("-","subtract",[S.args[1],S.args[0]])}return new p(m.op,m.fn,[S])}}else{if(gx(m)&&m.isBinary()){var M=e(m.args[0],g),A=e(m.args[1],g);if("+"===m.op){if(cx(M)){if(n(M.value))return A;if(cx(A))return new c(r(M.value,A.value))}return cx(A)&&n(A.value)?M:gx(A)&&A.isUnary()&&"-"===A.op?new p("-","subtract",[M,A.args[0]]):new p(m.op,m.fn,A?[M,A]:[M])}if("-"===m.op){if(cx(M)&&A){if(cx(A))return new c(i(M.value,A.value));if(n(M.value))return new p("-","unaryMinus",[A])}if("subtract"===m.fn)return cx(A)&&n(A.value)?M:gx(A)&&A.isUnary()&&"-"===A.op?e(new p("+","add",[M,A.args[0]]),g):new p(m.op,m.fn,[M,A])}else{if("*"===m.op){if(cx(M)){if(n(M.value))return y;if(t(M.value,1))return A;if(cx(A))return new c(a(M.value,A.value))}if(cx(A)){if(n(A.value))return y;if(t(A.value,1))return M;if(gx(M)&&M.isBinary()&&M.op===m.op&&x(m,w)){var C=M.args[0];if(cx(C)){var T=new c(a(C.value,A.value));return new p(m.op,m.fn,[T,M.args[1]],m.implicit)}}return x(m,w)?new p(m.op,m.fn,[A,M],m.implicit):new p(m.op,m.fn,[M,A],m.implicit)}return new p(m.op,m.fn,[M,A],m.implicit)}if("/"===m.op){if(cx(M)){if(n(M.value))return y;if(cx(A)&&(t(A.value,1)||t(A.value,2)||t(A.value,4)))return new c(o(M.value,A.value))}return new p(m.op,m.fn,[M,A])}if("^"===m.op&&cx(A)){if(n(A.value))return v;if(t(A.value,1))return M;if(cx(M))return new c(s(M.value,A.value));if(gx(M)&&M.isBinary()&&"^"===M.op){var k=M.args[1];if(cx(k))return new p(m.op,m.fn,[M.args[0],new c(a(k.value,A.value))])}}}return new p(m.op,m.fn,[M,A])}if(fx(m))return new h(e(m.fn),m.args.map(t=>e(t,g)));if(ox(m))return new l(m.items.map(t=>e(t,g)));if(ax(m))return new u(e(m.object,g),e(m.index,g));if(dx(m))return new f(m.dimensions.map(t=>e(t,g)));if(mx(m)){var I={};for(var O in m.properties)I[O]=e(m.properties[O],g);return new d(I)}}return m}}),FN="compile",jN=rw(FN,["typed","parse"],e=>{var{typed:t,parse:n}=e;return t(FN,{string:function(e){return n(e).compile()},"Array | Matrix":function(e){return MN(e,function(e){return n(e).compile()})}})}),LN=rw("Help",["parse"],e=>{var{parse:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var e=this.doc||{},n="\n";if(e.name&&(n+="Name: "+e.name+"\n\n"),e.category&&(n+="Category: "+e.category+"\n\n"),e.description&&(n+="Description:\n    "+e.description+"\n\n"),e.syntax&&(n+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){n+="Examples:\n";for(var r={},i=0;i<e.examples.length;i++){var a=e.examples[i];n+="    "+a+"\n";var o=void 0;try{o=t(a).compile().evaluate(r)}catch(gA){o=gA}void 0===o||Zb(o)||(n+="        "+Yx(o,{precision:14})+"\n")}n+="\n"}return e.mayThrow&&e.mayThrow.length&&(n+="Throws: "+e.mayThrow.join(", ")+"\n\n"),e.seealso&&e.seealso.length&&(n+="See also: "+e.seealso.join(", ")+"\n"),n},n.prototype.toJSON=function(){var e=$x(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t={};return Object.keys(e).filter(e=>"mathjs"!==e).forEach(n=>{t[n]=e[n]}),new n(t)},n.prototype.valueOf=n.prototype.toString,n},{isClass:!0}),BN="leafCount",UN=rw(BN,["parse","typed"],e=>{var{parse:t,typed:n}=e;function r(e){var t=0;return e.forEach(e=>{t+=r(e)}),t||1}return n(BN,{string:function(e){return this(t(e))},Node:function(e){return r(e)}})});function zN(){throw new Error('No "bignumber" implementation available')}function qN(){throw new Error('No "fraction" implementation available')}function VN(){throw new Error('No "matrix" implementation available')}var HN=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],WN=rw("simplifyConstant",HN,e=>{var{typed:t,config:n,mathWithTransform:r,matrix:i,fraction:a,bignumber:o,AccessorNode:s,ArrayNode:u,ConstantNode:l,FunctionNode:c,IndexNode:h,ObjectNode:f,OperatorNode:d,SymbolNode:p}=e,{isCommutative:m,isAssociative:g,allChildren:y,createMakeNodeFunction:v}=RN({FunctionNode:c,OperatorNode:d,SymbolNode:p});function b(e,t){return E(T(e,t))}function x(e){return Ub(e)?e.valueOf():e instanceof Array?e.map(x):Hb(e)?i(x(e.valueOf())):e}function w(e,t,n){try{return r[e].apply(null,t)}catch(i){return t=t.map(x),M(r[e].apply(null,t),n)}}var N=t({Fraction:function(e){var t,n=e.s*e.n;t=n<0?new d("-","unaryMinus",[new l(-n)]):new l(n);if(1===e.d)return t;return new d("/","divide",[t,new l(e.d)])},number:function(e){return e<0?A(new l(-e)):new l(e)},BigNumber:function(e){return e<0?A(new l(-e)):new l(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")},string:function(e){return new l(e)},Matrix:function(e){return new u(e.valueOf().map(e=>N(e)))}});function E(e){return px(e)?e:N(e)}function S(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&a){var n=a(e),r=t&&"number"===typeof t.fractionsLimit?t.fractionsLimit:1/0;if(n.valueOf()===e&&n.n<r&&n.d<r)return n}return e}var M=t({"string, Object":function(e,t){return"BigNumber"===n.number?(void 0===o&&zN(),o(e)):"Fraction"===n.number?(void 0===a&&qN(),a(e)):S(parseFloat(e),t)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return S(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:S(e.re,t)},"Matrix, Object":function(e,t){return i(S(e.valueOf()))},"Array, Object":function(e,t){return e.map(S)}});function A(e){return new d("-","unaryMinus",[e])}function C(e,t,n,r){return t.reduce(function(t,i){if(px(t)||px(i))px(t)?px(i)||(i=N(i)):t=N(t);else{try{return w(e,[t,i],r)}catch(a){}t=N(t),i=N(i)}return n([t,i])})}function T(e,t){switch(e.type){case"SymbolNode":return e;case"ConstantNode":switch(typeof e.value){case"number":return M(e.value,t);case"string":return e.value;default:if(!isNaN(e.value))return M(e.value,t)}return e;case"FunctionNode":if(r[e.name]&&r[e.name].rawArgs)return e;if(-1===["add","multiply"].indexOf(e.name)){var n=e.args.map(e=>T(e,t));if(!n.some(px))try{return w(e.name,n,t)}catch(D){}if("size"===e.name&&1===n.length&&ox(n[0])){for(var a=[],o=n[0];ox(o);)a.push(o.items.length),o=o.items[0];return i(a)}return new c(e.name,n.map(E))}case"OperatorNode":var d,p,x=e.fn.toString(),N=v(e);if(gx(e)&&e.isUnary())p=px((d=[T(e.args[0],t)])[0])?N(d):w(x,d,t);else if(g(e,t.context))if(d=(d=y(e,t.context)).map(e=>T(e,t)),m(x,t.context)){for(var S=[],A=[],k=0;k<d.length;k++)px(d[k])?A.push(d[k]):S.push(d[k]);S.length>1?(p=C(x,S,N,t),A.unshift(p),p=C(x,A,N,t)):p=C(x,d,N,t)}else p=C(x,d,N,t);else d=e.args.map(e=>T(e,t)),p=C(x,d,N,t);return p;case"ParenthesisNode":return T(e.content,t);case"AccessorNode":return function(e,t,n){if(!dx(t))return new s(E(e),E(t));if(ox(e)||Hb(e)){for(var r=Array.from(t.dimensions);r.length>0;)if(cx(r[0])&&"string"!==typeof r[0].value){var a=M(r.shift().value,n);ox(e)?e=e.items[a-1]:(e=e.valueOf()[a-1])instanceof Array&&(e=i(e))}else{if(!(r.length>1&&cx(r[1])&&"string"!==typeof r[1].value))break;var o=M(r[1].value,n),c=[],f=ox(e)?e.items:e.valueOf();for(var d of f)if(ox(d))c.push(d.items[o-1]);else{if(!Hb(e))break;c.push(d[o-1])}if(c.length!==f.length)break;e=ox(e)?new u(c):i(c),r.splice(1,1)}return r.length===t.dimensions.length?new s(E(e),t):r.length>0?(t=new h(r),new s(E(e),t)):e}if(mx(e)&&1===t.dimensions.length&&cx(t.dimensions[0])){var p=t.dimensions[0].value;return p in e.properties?e.properties[p]:new l}return new s(E(e),t)}(T(e.object,t),T(e.index,t),t);case"ArrayNode":var I=e.items.map(e=>T(e,t));return I.some(px)?new u(I.map(E)):i(I);case"IndexNode":return new h(e.dimensions.map(e=>b(e,t)));case"ObjectNode":var O={};for(var _ in e.properties)O[_]=b(e.properties[_],t);return new f(O);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(e.type))}}return b}),KN=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],GN=rw("simplify",KN,e=>{var{config:t,typed:n,parse:r,add:i,subtract:a,multiply:o,divide:s,pow:u,isZero:l,equal:c,resolve:h,simplifyCore:f,fraction:d,bignumber:p,mathWithTransform:m,matrix:g,AccessorNode:y,ArrayNode:v,ConstantNode:b,FunctionNode:x,IndexNode:w,ObjectNode:N,OperatorNode:E,ParenthesisNode:S,SymbolNode:M}=e,A=WN({typed:n,config:t,mathWithTransform:m,matrix:g,fraction:d,bignumber:p,AccessorNode:y,ArrayNode:v,ConstantNode:b,FunctionNode:x,IndexNode:w,ObjectNode:N,OperatorNode:E,SymbolNode:M}),{hasProperty:C,isCommutative:T,isAssociative:k,mergeContext:I,flatten:O,unflattenr:_,unflattenl:D,createMakeNodeFunction:R,defaultContext:P,realContext:F,positiveContext:j}=RN({FunctionNode:x,OperatorNode:E,SymbolNode:M}),L=n("simplify",{string:function(e){return this(r(e),this.rules,mw(),{})},"string, Map | Object":function(e,t){return this(r(e),this.rules,t,{})},"string, Map | Object, Object":function(e,t,n){return this(r(e),this.rules,t,n)},"string, Array":function(e,t){return this(r(e),t,mw(),{})},"string, Array, Map | Object":function(e,t,n){return this(r(e),t,n,{})},"string, Array, Map | Object, Object":function(e,t,n,i){return this(r(e),t,n,i)},"Node, Map | Object":function(e,t){return this(e,this.rules,t,{})},"Node, Map | Object, Object":function(e,t,n){return this(e,this.rules,t,n)},Node:function(e){return this(e,this.rules,mw(),{})},"Node, Array":function(e,t){return this(e,t,mw(),{})},"Node, Array, Map | Object":function(e,t,n){return this(e,t,n,{})},"Node, Array, Object, Object":function(e,t,n,r){return this(e,t,gw(n),r)},"Node, Array, Map, Object":function(e,t,n,r){var i=r.consoleDebug;t=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=void 0,o=typeof i;switch(o){case"string":i={s:i};case"object":a=z(i,t);break;case"function":a=i;break;default:throw TypeError("Unsupported type of rule: "+o)}n.push(a)}return n}(t,r.context);for(var a=h(e,n),o={},s=(a=B(a)).toString({parenthesis:"all"});!o[s];){o[s]=!0,q=0;var u=s;i&&console.log("Working on: ",s);for(var l=0;l<t.length;l++){var c="";if("function"===typeof t[l]?(a=t[l](a,r),i&&(c=t[l].name)):(O(a,r.context),a=H(a,t[l],r.context),i&&(c="".concat(t[l].l.toString()," -> ").concat(t[l].r.toString()))),i){var f=a.toString({parenthesis:"all"});f!==u&&(console.log("Applying",c,"produced",f),u=f)}D(a,r.context)}s=a.toString({parenthesis:"all"})}return a}});function B(e){return e.transform(function(e,t,n){return yx(e)?B(e.content):e})}L.defaultContext=P,L.realContext=F,L.positiveContext=j;var U={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function z(e,t){var n={};if(e.s){var i=e.s.split("->");if(2!==i.length)throw SyntaxError("Could not parse rule: "+e.s);n.l=i[0],n.r=i[1]}else n.l=e.l,n.r=e.r;for(var a of(n.l=B(r(n.l)),n.r=B(r(n.r)),["imposeContext","repeat","assuming"]))a in e&&(n[a]=e[a]);if(e.evaluate&&(n.evaluate=r(e.evaluate)),k(n.l,t)){var o=R(n.l),s=new M("_p"+q++);n.expanded={},n.expanded.l=o([n.l.clone(),s]),O(n.expanded.l,t),_(n.expanded.l,t),n.expanded.r=o([n.r,s])}return n}L.rules=[f,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(c*v) -> v * (-c)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(c*v) -> (-c) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*c) -> v * (-c)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" v   * ( v   * n1 + n2)",r:"v^2       * n1 +  v   * n2"},{s:" v   * (v^n4 * n1 + n2)   ->  v^(1+n4)  * n1 +  v   * n2",assuming:{divide:{total:!0}}},{s:"v^n3 * ( v   * n1 + n2)   ->  v^(n3+1)  * n1 + v^n3 * n2",assuming:{divide:{total:!0}}},{s:"v^n3 * (v^n4 * n1 + n2)   ->  v^(n3+n4) * n1 + v^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},A,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"v*n + v",r:"v*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*v + v -> (n+1)*v",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*c + c",r:"(n+1)*c"},{s:"c*n + c -> c*(n+1)",assuming:{multiply:{commutative:!1}}},A,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"c+v -> v+c",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"v*c -> c*v",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var q=0;function V(e,t,n){var r=e;if(e)for(var i=0;i<e.length;++i){var a=H(e[i],t,n);a!==e[i]&&(r===e&&(r=e.slice()),r[i]=a)}return r}function H(e,t,n){if(t.assuming)for(var r in t.assuming)for(var i in t.assuming[r])if(C(r,i,n)!==t.assuming[r][i])return e;var a=I(t.imposeContext,n),o=e;if(o instanceof E||o instanceof x){var s=V(o.args,t,n);s!==o.args&&((o=o.clone()).args=s)}else if(o instanceof S){if(o.content){var u=H(o.content,t,n);u!==o.content&&(o=new S(u))}}else if(o instanceof v){var l=V(o.items,t,n);l!==o.items&&(o=new v(l))}else if(o instanceof y){var c=o.object;o.object&&(c=H(o.object,t,n));var h=o.index;o.index&&(h=H(o.index,t,n)),c===o.object&&h===o.index||(o=new y(c,h))}else if(o instanceof w){var f=V(o.dimensions,t,n);f!==o.dimensions&&(o=new w(f))}else if(o instanceof N){var d=!1,p={};for(var m in o.properties)p[m]=H(o.properties[m],t,n),p[m]!==o.properties[m]&&(d=!0);d&&(o=new N(p))}var g=t.r,b=G(t.l,o,a)[0];if(!b&&t.expanded&&(g=t.expanded.r,b=G(t.expanded.l,o,a)[0]),b){var M=o.implicit;o=g.clone(),M&&"implicit"in g&&(o.implicit=!0),o=o.transform(function(e){return e.isSymbolNode&&nw(b.placeholders,e.name)?b.placeholders[e.name].clone():e})}return t.repeat&&o!==e&&(o=H(o,t,n)),o}function W(e,t){var n={placeholders:{}};if(!e.placeholders&&!t.placeholders)return n;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var r in e.placeholders)if(nw(e.placeholders,r)&&(n.placeholders[r]=e.placeholders[r],nw(t.placeholders,r)&&!Y(e.placeholders[r],t.placeholders[r])))return null;for(var i in t.placeholders)nw(t.placeholders,i)&&(n.placeholders[i]=t.placeholders[i]);return n}function K(e,t){var n,r=[];if(0===e.length||0===t.length)return r;for(var i=0;i<e.length;i++)for(var a=0;a<t.length;a++)(n=W(e[i],t[a]))&&r.push(n);return r}function G(e,t,n,r){var i=[{placeholders:{}}];if(e instanceof E&&t instanceof E||e instanceof x&&t instanceof x){if(e instanceof E){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof x&&e.name!==t.name)return[];if(!(1===t.args.length&&1===e.args.length||!k(t,n)&&t.args.length===e.args.length||r)){if(t.args.length>=2&&2===e.args.length){for(var a=function(e,t){var n,r,i=[],a=R(e);if(T(e,t))for(var o=0;o<e.args.length;o++)(r=e.args.slice(0)).splice(o,1),n=1===r.length?r[0]:a(r),i.push(a([e.args[o],n]));else for(var s=1;s<e.args.length;s++){var u=e.args[0];s>1&&(u=a(e.args.slice(0,s))),n=1===(r=e.args.slice(s)).length?r[0]:a(r),i.push(a([u,n]))}return i}(t,n),o=[],s=0;s<a.length;s++){var u=G(e,a[s],n,!0);o=o.concat(u)}return o}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var l=[],h=0;h<e.args.length;h++){var f=G(e.args[h],t.args[h],n);if(0===f.length)break;l.push(f)}if(l.length!==e.args.length){if(!T(t,n)||1===e.args.length)return[];if(e.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var d=G(e.args[0],t.args[1],n);if(0===d.length)return[];var p=G(e.args[1],t.args[0],n);if(0===p.length)return[];l=[d,p]}i=function(e){if(0===e.length)return e;for(var t=e.reduce(K),n=[],r={},i=0;i<t.length;i++){var a=JSON.stringify(t[i]);r[a]||(r[a]=!0,n.push(t[i]))}return n}(l)}else if(e instanceof M){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(U[e.name]){if(e.name!==t.name)return[]}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))i[0].placeholders[e.name]=t;else if("v"===e.name[0]){if(cx(t))return[];i[0].placeholders[e.name]=t}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof b))return[];i[0].placeholders[e.name]=t}}else{if(!(e instanceof b))return[];if(!c(e.value,t.value))return[]}return i}function Y(e,t){if(e instanceof b&&t instanceof b){if(!c(e.value,t.value))return!1}else if(e instanceof M&&t instanceof M){if(e.name!==t.name)return!1}else{if(!(e instanceof E&&t instanceof E||e instanceof x&&t instanceof x))return!1;if(e instanceof E){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof x&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var n=0;n<e.args.length;n++)if(!Y(e.args[n],t.args[n]))return!1}return!0}return L}),YN="symbolicEqual",QN=["parse","simplify","typed","OperatorNode"],JN=rw(YN,QN,e=>{var{parse:t,simplify:n,typed:r,OperatorNode:i}=e;return r(YN,{"string, string":function(e,n){return this(t(e),t(n),{})},"string, string, Object":function(e,n,r){return this(t(e),t(n),r)},"Node, string":function(e,n){return this(e,t(n),{})},"Node, string, Object":function(e,n,r){return this(e,t(n),r)},"string, Node":function(e,n){return this(t(e),n,{})},"string, Node, Object":function(e,n,r){return this(t(e),n,r)},"Node, Node":function(e,t){return this(e,t,{})},"Node, Node, Object":function(e,t,r){var a=new i("-","subtract",[e,t]),o=n(a,{},r);return cx(o)&&!o.value}})}),XN="evaluate",ZN=["typed","parse"],$N=rw(XN,ZN,e=>{var{typed:t,parse:n}=e;return t(XN,{string:function(e){var t=mw();return n(e).compile().evaluate(t)},"string, Map | Object":function(e,t){return n(e).compile().evaluate(t)},"Array | Matrix":function(e){var t=mw();return MN(e,function(e){return n(e).compile().evaluate(t)})},"Array | Matrix, Map | Object":function(e,t){return MN(e,function(e){return n(e).compile().evaluate(t)})}})}),eE={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},tE={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},nE={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:eE,E:eE,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:tE,PI:tE,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","math.pow([[1, 2], [4, 3]], 2)","math.pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)=NaN","invmod(7, 13)=2","math.invmod(15151, 15122)=10429"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["math.matrixFromFunction(size, fn)","math.matrixFromFunction(size, fn, format)","math.matrixFromFunction(size, fn, format, datatype)","math.matrixFromFunction(size, format, fn)","math.matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["math.matrixFromRows(...arr)","math.matrixFromRows(row1, row2)","math.matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["math.matrixFromColumns(...arr)","math.matrixFromColumns(row1, row2)","math.matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], math.pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(math.i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $0, $1, $2", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},rE="help",iE=rw(rE,["typed","mathWithTransform","Help"],e=>{var{typed:t,mathWithTransform:n,Help:r}=e;return t(rE,{any:function(e){var t,i=e;if("string"!==typeof e)for(t in n)if(nw(n,t)&&e===n[t]){i=t;break}var a=sw(nE,i);if(!a){var o="function"===typeof i?i.name:i;throw new Error('No documentation found on "'+o+'"')}return new r(a)}})}),aE=rw("Parser",["evaluate"],e=>{var{evaluate:t}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:mw(),writable:!1})}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(e){return t(e,this.scope)},n.prototype.get=function(e){if(this.scope.has(e))return this.scope.get(e)},n.prototype.getAll=function(){return function(e){if(e instanceof pw)return e.wrappedObject;var t={};for(var n of e.keys())uw(t,n,e.get(n));return t}(this.scope)},n.prototype.getAllAsMap=function(){return this.scope},n.prototype.set=function(e,t){return this.scope.set(e,t),t},n.prototype.remove=function(e){this.scope.delete(e)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0}),oE="rationalize",sE=rw(oE,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],e=>{var{config:t,typed:n,equal:r,isZero:i,add:a,subtract:o,multiply:s,divide:u,pow:l,parse:c,simplifyCore:h,simplify:f,fraction:d,bignumber:p,mathWithTransform:m,matrix:g,AccessorNode:y,ArrayNode:v,ConstantNode:b,FunctionNode:x,IndexNode:w,ObjectNode:N,OperatorNode:E,SymbolNode:S,ParenthesisNode:M}=e,A=WN({typed:n,config:t,mathWithTransform:m,matrix:g,fraction:d,bignumber:p,AccessorNode:y,ArrayNode:v,ConstantNode:b,FunctionNode:x,IndexNode:w,ObjectNode:N,OperatorNode:E,SymbolNode:S});return n(oE,{string:function(e){return this(c(e),{},!1)},"string, boolean":function(e,t){return this(c(e),{},t)},"string, Object":function(e,t){return this(c(e),t,!1)},"string, Object, boolean":function(e,t,n){return this(c(e),t,n)},Node:function(e){return this(e,{},!1)},"Node, boolean":function(e,t){return this(e,{},t)},"Node, Object":function(e,t){return this(e,t,!1)},"Node, Object, boolean":function(e,t,n){var r=function(){var e=[h,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},A,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],n=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],r=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],i={};return i.firstRules=e.concat(t,r),i.distrDivRules=n,i.sucDivRules=r,i.firstRulesAgain=e.concat(t),i.finalRules=[h,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},A,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],i}(),i=function(e,t,n,r){var i=[],a=f(e,r,t,{exactFractions:!1}),o="+-*"+((n=!!n)?"/":"");u(a);var s={};return s.expression=a,s.variables=i,s;function u(e){var t=e.type;if("FunctionNode"===t)throw new Error("There is an unsolved function call");if("OperatorNode"===t)if("^"===e.op){if("ConstantNode"!==e.args[1].type||!Nx(parseFloat(e.args[1].value)))throw new Error("There is a non-integer exponent");u(e.args[0])}else{if(-1===o.indexOf(e.op))throw new Error("Operator "+e.op+" invalid in polynomial expression");for(var n=0;n<e.args.length;n++)u(e.args[n])}else if("SymbolNode"===t){var r=e.name;-1===i.indexOf(r)&&i.push(r)}else if("ParenthesisNode"===t)u(e.content);else if("ConstantNode"!==t)throw new Error("type "+t+" is not allowed in polynomial expression")}}(e,t,!0,r.firstRules),a=i.variables.length,o={exactFractions:!1},s={exactFractions:!0};if(e=i.expression,a>=1){var u,l;e=C(e);var c,d=!0,p=!1;for(e=f(e,r.firstRules,{},o);l=d?r.distrDivRules:r.sucDivRules,d=!d,(c=(e=f(e,l,{},s)).toString())!==u;)p=!0,u=c;p&&(e=f(e,r.firstRulesAgain,{},o)),e=f(e,r.finalRules,{},o)}var m=[],g={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===a&&(e.args[0]=T(e.args[0],m),e.args[1]=T(e.args[1])),n&&(g.numerator=e.args[0],g.denominator=e.args[1])):(1===a&&(e=T(e,m)),n&&(g.numerator=e,g.denominator=null)),n?(g.coefficients=m,g.variables=i.variables,g.expression=e,g):e}});function C(e,t,n){var r=e.type,i=arguments.length>1;if("OperatorNode"===r&&e.isBinary()){var a,o=!1;if("^"===e.op&&("ParenthesisNode"!==e.args[0].type&&"OperatorNode"!==e.args[0].type||"ConstantNode"!==e.args[1].type||(o=(a=parseFloat(e.args[1].value))>=2&&Nx(a))),o){if(a>2){var s=e.args[0],u=new E("^","pow",[e.args[0].cloneDeep(),new b(a-1)]);e=new E("*","multiply",[s,u])}else e=new E("*","multiply",[e.args[0],e.args[0].cloneDeep()]);i&&("content"===n?t.content=e:t.args[n]=e)}}if("ParenthesisNode"===r)C(e.content,e,"content");else if("ConstantNode"!==r&&"SymbolNode"!==r)for(var l=0;l<e.args.length;l++)C(e.args[l],e,l);if(!i)return e}function T(e,t){void 0===t&&(t=[]),t[0]=0;var n={cte:1,oper:"+",fire:""},r=0,i="";!function e(n,a,o){var s=n.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(n.op))throw new Error("Operator "+n.op+" invalid");if(null!==a){if(("unaryMinus"===n.fn||"pow"===n.fn)&&"add"!==a.fn&&"subtract"!==a.fn&&"multiply"!==a.fn)throw new Error("Invalid "+n.op+" placing");if(("subtract"===n.fn||"add"===n.fn||"multiply"===n.fn)&&"add"!==a.fn&&"subtract"!==a.fn)throw new Error("Invalid "+n.op+" placing");if(("subtract"===n.fn||"add"===n.fn||"unaryMinus"===n.fn)&&0!==o.noFil)throw new Error("Invalid "+n.op+" placing")}"^"!==n.op&&"*"!==n.op||(o.fire=n.op);for(var u=0;u<n.args.length;u++)"unaryMinus"===n.fn&&(o.oper="-"),"+"!==n.op&&"subtract"!==n.fn||(o.fire="",o.cte=1,o.oper=0===u?"+":n.op),o.noFil=u,e(n.args[u],n,o)}else if("SymbolNode"===s){if(n.name!==i&&""!==i)throw new Error("There is more than one variable");if(i=n.name,null===a)return void(t[1]=1);if("^"===a.op&&0!==o.noFil)throw new Error("In power the variable should be the first parameter");if("*"===a.op&&1!==o.noFil)throw new Error("In multiply the variable should be the second parameter");""!==o.fire&&"*"!==o.fire||(r<1&&(t[1]=0),t[1]+=o.cte*("+"===o.oper?1:-1),r=Math.max(1,r))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var l=parseFloat(n.value);if(null===a)return void(t[0]=l);if("^"===a.op){if(1!==o.noFil)throw new Error("Constant cannot be powered");if(!Nx(l)||l<=0)throw new Error("Non-integer exponent is not allowed");for(var c=r+1;c<l;c++)t[c]=0;return l>r&&(t[l]=0),t[l]+=o.cte*("+"===o.oper?1:-1),void(r=Math.max(l,r))}o.cte=l,""===o.fire&&(t[0]+=o.cte*("+"===o.oper?1:-1))}}(e,null,n);for(var a,o=!0,s=r=t.length-1;s>=0;s--)if(0!==t[s]){var u=new b(o?t[s]:Math.abs(t[s])),l=t[s]<0?"-":"+";if(s>0){var c=new S(i);if(s>1){var h=new b(s);c=new E("^","pow",[c,h])}u=-1===t[s]&&o?new E("-","unaryMinus",[c]):1===Math.abs(t[s])?c:new E("*","multiply",[u,c])}a=o?u:"+"===l?new E("+","add",[a,u]):new E("-","subtract",[a,u]),o=!1}return o?new b(0):a}}),uE=rw("derivative",["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:t,config:n,parse:r,simplify:i,equal:a,isZero:o,numeric:s,ConstantNode:u,FunctionNode:l,OperatorNode:c,ParenthesisNode:h,SymbolNode:f}=e,d=t("derivative",{"Node, SymbolNode, Object":function(e,t,n){var r={};m(r,e,t.name);var a=g(e,r);return n.simplify?i(a):a},"Node, SymbolNode":function(e,t){return this(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return this(r(e),t)},"string, SymbolNode, Object":function(e,t,n){return this(r(e),t,n)},"string, string":function(e,t){return this(r(e),r(t))},"string, string, Object":function(e,t,n){return this(r(e),r(t),n)},"Node, string":function(e,t){return this(e,r(t))},"Node, string, Object":function(e,t,n){return this(e,r(t),n)}});d._simplify=!0,d.toTex=function(e){return p.apply(null,e.args)};var p=t("_derivTex",{"Node, SymbolNode":function(e,t){return cx(e)&&"string"===wx(e.value)?p(r(e.value).toString(),t.toString(),1):p(e.toTex(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===wx(t.value))return p(e,r(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,n){return p(e.toString(),t.name,n.value)},"string, string, number":function(e,t,n){return(1===n?"{d\\over d"+t+"}":"{d^{"+n+"}\\over d"+t+"^{"+n+"}}")+"\\left[".concat(e,"\\right]")}}),m=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,n){return t.name!==n&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,n){return m(e,t.content,n)},"Object, FunctionAssignmentNode, string":function(e,t,n){return-1===t.params.indexOf(n)?(e[t]=!0,!0):m(e,t.expr,n)},"Object, FunctionNode | OperatorNode, string":function(e,t,n){if(t.args.length>0){for(var r=m(e,t.args[0],n),i=1;i<t.args.length;++i)r=m(e,t.args[i],n)&&r;if(r)return e[t]=!0,!0}return!1}}),g=t("_derivative",{"ConstantNode, Object":function(e){return y(0)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?y(0):y(1)},"ParenthesisNode, Object":function(e,t){return new h(g(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?y(0):g(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if(("log"===e.name||"nthRoot"===e.name||"pow"===e.name)&&2===e.args.length)return;for(var t=0;t<e.args.length;++t)e.args[t]=y(0);throw e.compile().evaluate(),new Error("Expected TypeError, but none found")}(e),void 0!==t[e])return y(0);var n,r,i,a,o=e.args[0],s=!1,u=!1;switch(e.name){case"cbrt":s=!0,r=new c("*","multiply",[y(3),new c("^","pow",[o,new c("/","divide",[y(2),y(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,r=new c("*","multiply",[y(2),new l("sqrt",[o])]);else if(2===e.args.length)return t[n=new c("/","divide",[y(1),e.args[1]])]=t[e.args[1]],g(new c("^","pow",[o,n]),t);break;case"log10":n=y(10);case"log":if(n||1!==e.args.length){if(1===e.args.length&&n||2===e.args.length&&void 0!==t[e.args[1]])r=new c("*","multiply",[o.clone(),new l("log",[n||e.args[1]])]),s=!0;else if(2===e.args.length)return g(new c("/","divide",[new l("log",[o]),new l("log",[e.args[1]])]),t)}else r=o.clone(),s=!0;break;case"pow":return t[n]=t[e.args[1]],g(new c("^","pow",[o,e.args[1]]),t);case"exp":r=new l("exp",[o.clone()]);break;case"sin":r=new l("cos",[o.clone()]);break;case"cos":r=new c("-","unaryMinus",[new l("sin",[o.clone()])]);break;case"tan":r=new c("^","pow",[new l("sec",[o.clone()]),y(2)]);break;case"sec":r=new c("*","multiply",[e,new l("tan",[o.clone()])]);break;case"csc":u=!0,r=new c("*","multiply",[e,new l("cot",[o.clone()])]);break;case"cot":u=!0,r=new c("^","pow",[new l("csc",[o.clone()]),y(2)]);break;case"asin":s=!0,r=new l("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[o.clone(),y(2)])])]);break;case"acos":s=!0,u=!0,r=new l("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[o.clone(),y(2)])])]);break;case"atan":s=!0,r=new c("+","add",[new c("^","pow",[o.clone(),y(2)]),y(1)]);break;case"asec":s=!0,r=new c("*","multiply",[new l("abs",[o.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[o.clone(),y(2)]),y(1)])])]);break;case"acsc":s=!0,u=!0,r=new c("*","multiply",[new l("abs",[o.clone()]),new l("sqrt",[new c("-","subtract",[new c("^","pow",[o.clone(),y(2)]),y(1)])])]);break;case"acot":s=!0,u=!0,r=new c("+","add",[new c("^","pow",[o.clone(),y(2)]),y(1)]);break;case"sinh":r=new l("cosh",[o.clone()]);break;case"cosh":r=new l("sinh",[o.clone()]);break;case"tanh":r=new c("^","pow",[new l("sech",[o.clone()]),y(2)]);break;case"sech":u=!0,r=new c("*","multiply",[e,new l("tanh",[o.clone()])]);break;case"csch":u=!0,r=new c("*","multiply",[e,new l("coth",[o.clone()])]);break;case"coth":u=!0,r=new c("^","pow",[new l("csch",[o.clone()]),y(2)]);break;case"asinh":s=!0,r=new l("sqrt",[new c("+","add",[new c("^","pow",[o.clone(),y(2)]),y(1)])]);break;case"acosh":s=!0,r=new l("sqrt",[new c("-","subtract",[new c("^","pow",[o.clone(),y(2)]),y(1)])]);break;case"atanh":s=!0,r=new c("-","subtract",[y(1),new c("^","pow",[o.clone(),y(2)])]);break;case"asech":s=!0,u=!0,r=new c("*","multiply",[o.clone(),new l("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[o.clone(),y(2)])])])]);break;case"acsch":s=!0,u=!0,r=new c("*","multiply",[new l("abs",[o.clone()]),new l("sqrt",[new c("+","add",[new c("^","pow",[o.clone(),y(2)]),y(1)])])]);break;case"acoth":s=!0,u=!0,r=new c("-","subtract",[y(1),new c("^","pow",[o.clone(),y(2)])]);break;case"abs":r=new c("/","divide",[new l(new f("abs"),[o.clone()]),o.clone()]);break;default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(i="/",a="divide"):(i="*",a="multiply");var h=g(o,t);return u&&(h=new c("-","unaryMinus",[h])),new c(i,a,[h,r])},"OperatorNode, Object":function(e,t){if(void 0!==t[e])return y(0);if("+"===e.op)return new c(e.op,e.fn,e.args.map(function(e){return g(e,t)}));if("-"===e.op){if(e.isUnary())return new c(e.op,e.fn,[g(e.args[0],t)]);if(e.isBinary())return new c(e.op,e.fn,[g(e.args[0],t),g(e.args[1],t)])}if("*"===e.op){var n=e.args.filter(function(e){return void 0!==t[e]});if(n.length>0){var r=e.args.filter(function(e){return void 0===t[e]}),i=1===r.length?r[0]:new c("*","multiply",r),s=n.concat(g(i,t));return new c("*","multiply",s)}return new c("+","add",e.args.map(function(n){return new c("*","multiply",e.args.map(function(e){return e===n?g(e,t):e.clone()}))}))}if("/"===e.op&&e.isBinary()){var u=e.args[0],h=e.args[1];return void 0!==t[h]?new c("/","divide",[g(u,t),h]):void 0!==t[u]?new c("*","multiply",[new c("-","unaryMinus",[u]),new c("/","divide",[g(h,t),new c("^","pow",[h.clone(),y(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[g(u,t),h.clone()]),new c("*","multiply",[u.clone(),g(h,t)])]),new c("^","pow",[h.clone(),y(2)])])}if("^"===e.op&&e.isBinary()){var f=e.args[0],d=e.args[1];if(void 0!==t[f])return cx(f)&&(o(f.value)||a(f.value,1))?y(0):new c("*","multiply",[e,new c("*","multiply",[new l("log",[f.clone()]),g(d.clone(),t)])]);if(void 0!==t[d]){if(cx(d)){if(o(d.value))return y(0);if(a(d.value,1))return g(f,t)}var p=new c("^","pow",[f.clone(),new c("-","subtract",[d,y(1)])]);return new c("*","multiply",[d.clone(),new c("*","multiply",[g(f,t),p])])}return new c("*","multiply",[new c("^","pow",[f.clone(),d.clone()]),new c("+","add",[new c("*","multiply",[g(f,t),new c("/","divide",[d.clone(),f.clone()])]),new c("*","multiply",[g(d,t),new l("log",[f.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function y(e,t){return new u(s(e,t||n.number))}return d}),lE="parser",cE=rw(lE,["typed","Parser"],e=>{var{typed:t,Parser:n}=e;return t(lE,{"":function(){return new n}})});function hE(e){var t=0,n=1,r=Object.create(null),i=Object.create(null),a=0,o=function(e){var o=i[e];if(o&&(delete r[o],delete i[e],--t,n===o)){if(!t)return a=0,void(n=1);for(;!hasOwnProperty.call(r,++n););}};return e=Math.abs(e),{hit:function(s){var u=i[s],l=++a;if(r[l]=s,i[s]=l,!u){if(++t<=e)return;return s=r[n],o(s),s}if(delete r[u],n===u)for(;!hasOwnProperty.call(r,++n););},delete:o,clear:function(){t=a=0,n=1,r=Object.create(null),i=Object.create(null)}}}function fE(e){var{hasher:t,limit:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=null==n?Number.POSITIVE_INFINITY:n,t=null==t?JSON.stringify:t,function r(){"object"!==typeof r.cache&&(r.cache={values:new Map,lru:hE(n||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=t(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var s=e.apply(e,i);return r.cache.values.set(o,s),r.cache.values.delete(r.cache.lru.hit(o)),s}}function dE(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}function pE(e,t,n){var r=e.filter(function(e){return bx(e)&&!(e.name in t)&&!n.has(e.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=r.name,a=xN(n),o=e.compile();return function(e){return a.set(i,e),o.evaluate(a)}}var mE=rw("filter",["typed"],e=>{var{typed:t}=e;function n(e,t,n){var i,a;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(a=bx(e[1])||hx(e[1])?e[1].compile().evaluate(n):pE(e[1],t,n)),r(i,a)}n.rawArgs=!0;var r=t("filter",{"Array, function":gE,"Matrix, function":function(e,t){return e.create(gE(e.toArray(),t))},"Array, RegExp":Uw,"Matrix, RegExp":function(e,t){return e.create(Uw(e.toArray(),t))}});return n},{isTransformFunction:!0});function gE(e,t){var n=dE(t);return Bw(e,function(e,r,i){return 1===n?t(e):2===n?t(e,[r+1]):t(e,[r+1],i)})}var yE=rw("forEach",["typed"],e=>{var{typed:t}=e;function n(e,t,n){var i,a;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(a=bx(e[1])||hx(e[1])?e[1].compile().evaluate(n):pE(e[1],t,n)),r(i,a)}n.rawArgs=!0;var r=t("forEach",{"Array | Matrix, function":function(e,t){var n=dE(t);!function r(i,a){Array.isArray(i)?Lw(i,function(e,t){r(e,a.concat(t+1))}):1===n?t(i):2===n?t(i,a):t(i,a,e)}(e.valueOf(),[])}});return n},{isTransformFunction:!0}),vE=rw("map",["typed"],e=>{var{typed:t}=e;function n(e,t,n){var i,a;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(a=bx(e[1])||hx(e[1])?e[1].compile().evaluate(n):pE(e[1],t,n)),r(i,a)}n.rawArgs=!0;var r=t("map",{"Array, function":function(e,t){return bE(e,t,e)},"Matrix, function":function(e,t){return e.create(bE(e.valueOf(),t,e))}});return n},{isTransformFunction:!0});function bE(e,t,n){var r=dE(t);return function e(i,a){return Array.isArray(i)?jw(i,function(t,n){return e(t,a.concat(n+1))}):1===r?t(i):2===r?t(i,a):t(i,a,n)}(e,[])}var xE="apply",wE=rw(xE,["typed","isInteger"],e=>{var{typed:t,isInteger:n}=e;return t(xE,{"Array | Matrix, number | BigNumber, function":function(e,t,r){if(!n(t))throw new TypeError("Integer number expected for dimension");var i=Array.isArray(e)?Ew(e):e.size();if(t<0||t>=i.length)throw new Nw(t,i.length);return Hb(e)?e.create(NE(e.valueOf(),t,r)):NE(e,t,r)}})});function NE(e,t,n){var r,i,a;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t,n,r=e.length,i=e[0].length,a=[];for(n=0;n<i;n++){var o=[];for(t=0;t<r;t++)o.push(e[t][n]);a.push(o)}return a}(e),i=[],r=0;r<a.length;r++)i[r]=NE(a[r],t-1,n);return i}return n(e)}for(i=[],r=0;r<e.length;r++)i[r]=NE(e[r],t-1,n);return i}var EE=rw("apply",["typed","isInteger"],e=>{var{typed:t,isInteger:n}=e,r=wE({typed:t,isInteger:n});return t("apply",{"...any":function(e){var t=e[1];jb(t)?e[1]=t-1:Lb(t)&&(e[1]=t.minus(1));try{return r.apply(null,e)}catch(n){throw pN(n)}}})},{isTransformFunction:!0}),SE="diff",ME=rw(SE,["typed","matrix","subtract","number"],e=>{var{typed:t,matrix:n,subtract:r,number:i}=e;return t(SE,{"Array | Matrix":function(e){return Hb(e)?n(o(e.toArray())):o(e)},"Array | Matrix, number":function(e,t){if(!Nx(t))throw new RangeError("Dimension must be a whole number");return Hb(e)?n(a(e.toArray(),t)):a(e,t)},"Array | Matrix, BigNumber":function(e,t){return this(e,i(t))}});function a(e,t){if(Hb(e)&&(e=e.toArray()),!Array.isArray(e))throw RangeError("Array/Matrix does not have that many dimensions");if(t>0){var n=[];return e.forEach(e=>{n.push(a(e,t-1))}),n}if(0===t)return o(e);throw RangeError("Cannot have negative dimension")}function o(e){var t=[],n=e.length;if(n<2)return e;for(var r=1;r<n;r++)t.push(s(e[r-1],e[r]));return t}function s(e,t){Hb(e)&&(e=e.toArray()),Hb(t)&&(t=t.toArray());var n=Array.isArray(e),i=Array.isArray(t);if(n&&i)return function(e,t){if(e.length!==t.length)throw RangeError("Not all sub-arrays have the same length");for(var n=[],r=e.length,i=0;i<r;i++)n.push(s(e[i],t[i]));return n}(e,t);if(!n&&!i)return r(t,e);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}});function AE(e){if(2===e.length&&Wb(e[0])){var t=(e=e.slice())[1];jb(t)?e[1]=t-1:Lb(t)&&(e[1]=t.minus(1))}return e}var CE="diff",TE=rw(CE,["typed","matrix","subtract","number","bignumber"],e=>{var{typed:t,matrix:n,subtract:r,number:i,bignumber:a}=e,o=ME({typed:t,matrix:n,subtract:r,number:i,bignumber:a});return t(CE,{"...any":function(e){e=AE(e);try{return o.apply(null,e)}catch(t){throw pN(t)}}})},{isTransformFunction:!0}),kE="subset",IE=rw(kE,["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t(kE,{"Array, Index":function(e,t){var r=n(e).subset(t);return t.isScalar()?r:r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":DE,"string, Index":OE,"Array, Index, any":function(e,t,r){return n($x(e)).subset(t,r,void 0).valueOf()},"Array, Index, any, any":function(e,t,r,i){return n($x(e)).subset(t,r,i).valueOf()},"Matrix, Index, any":function(e,t,n){return e.clone().subset(t,n)},"Matrix, Index, any, any":function(e,t,n,r){return e.clone().subset(t,n,r)},"string, Index, string":_E,"string, Index, string, string":_E,"Object, Index, any":RE})});function OE(e,t){if(!Qb(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new ww(t.size().length,1);var n=e.length;Aw(t.min()[0],n),Aw(t.max()[0],n);var r=t.dimension(0),i="";return r.forEach(function(t){i+=e.charAt(t)}),i}function _E(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new ww(t.size().length,1);if(void 0!==r){if("string"!==typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0);if(i.size()[0]!==n.length)throw new ww(i.size()[0],n.length);var a=e.length;Aw(t.min()[0]),Aw(t.max()[0]);for(var o=[],s=0;s<a;s++)o[s]=e.charAt(s);if(i.forEach(function(e,t){o[e]=n.charAt(t[0])}),o.length>a)for(var u=a-1,l=o.length;u<l;u++)o[u]||(o[u]=r);return o.join("")}function DE(e,t){if(1!==t.size().length)throw new ww(t.size(),1);var n=t.dimension(0);if("string"!==typeof n)throw new TypeError("String expected as index to retrieve an object property");return sw(e,n)}function RE(e,t,n){if(1!==t.size().length)throw new ww(t.size(),1);var r=t.dimension(0);if("string"!==typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=$x(e);return uw(i,r,n),i}var PE=rw("subset",["typed","matrix"],e=>{var{typed:t,matrix:n}=e,r=IE({typed:t,matrix:n});return t("subset",{"...any":function(e){try{return r.apply(null,e)}catch(t){throw pN(t)}}})},{isTransformFunction:!0}),FE="concat",jE=rw(FE,["typed","matrix","isInteger"],e=>{var{typed:t,matrix:n,isInteger:r}=e;return t(FE,{"...Array | Matrix | number | BigNumber":function(e){var t,i,a=e.length,o=-1,s=!1,u=[];for(t=0;t<a;t++){var l=e[t];if(Hb(l)&&(s=!0),jb(l)||Lb(l)){if(t!==a-1)throw new Error("Dimension must be specified as last argument");if(i=o,o=l.valueOf(),!r(o))throw new TypeError("Integer number expected for dimension");if(o<0||t>0&&o>i)throw new Nw(o,i+1)}else{var c=$x(l).valueOf(),h=Ew(c);if(u[t]=c,i=o,o=h.length-1,t>0&&o!==i)throw new ww(i+1,o+1)}}if(0===u.length)throw new SyntaxError("At least one matrix expected");for(var f=u.shift();u.length;)f=LE(f,u.shift(),o,0);return s?n(f):f},"...string":function(e){return e.join("")}})});function LE(e,t,n,r){if(r<n){if(e.length!==t.length)throw new ww(e.length,t.length);for(var i=[],a=0;a<e.length;a++)i[a]=LE(e[a],t[a],n,r+1);return i}return e.concat(t)}var BE=rw("concat",["typed","matrix","isInteger"],e=>{var{typed:t,matrix:n,isInteger:r}=e,i=jE({typed:t,matrix:n,isInteger:r});return t("concat",{"...any":function(e){var t=e.length-1,n=e[t];jb(n)?e[t]=n-1:Lb(n)&&(e[t]=n.minus(1));try{return i.apply(null,e)}catch(r){throw pN(r)}}})},{isTransformFunction:!0});function UE(e,t,n){var r;return-1!==String(e).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+wx(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):-1!==String(e).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+wx(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}var zE,qE,VE=rw("max",["typed","config","numeric","larger"],e=>{var{typed:t,config:n,numeric:r,larger:i}=e;return t("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return AN(e,t.valueOf(),a)},"...":function(e){if(EN(e))throw new TypeError("Scalar values expected in function max");return o(e)}});function a(e,t){try{return i(e,t)?e:t}catch(n){throw UE(n,"max",t)}}function o(e){var t;if(SN(e,function(e){try{isNaN(e)&&"number"===typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e)}catch(n){throw UE(n,"max",e)}}),void 0===t)throw new Error("Cannot calculate max of an empty array");return"string"===typeof t&&(t=r(t,n.number)),t}}),HE=rw("max",["typed","config","numeric","larger"],e=>{var{typed:t,config:n,numeric:r,larger:i}=e,a=VE({typed:t,config:n,numeric:r,larger:i});return t("max",{"...any":function(e){e=AE(e);try{return a.apply(null,e)}catch(t){throw pN(t)}}})},{isTransformFunction:!0}),WE=rw("min",["typed","config","numeric","smaller"],e=>{var{typed:t,config:n,numeric:r,smaller:i}=e;return t("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return AN(e,t.valueOf(),a)},"...":function(e){if(EN(e))throw new TypeError("Scalar values expected in function min");return o(e)}});function a(e,t){try{return i(e,t)?e:t}catch(n){throw UE(n,"min",t)}}function o(e){var t;if(SN(e,function(e){try{isNaN(e)&&"number"===typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e)}catch(n){throw UE(n,"min",e)}}),void 0===t)throw new Error("Cannot calculate min of an empty array");return"string"===typeof t&&(t=r(t,n.number)),t}}),KE=rw("min",["typed","config","numeric","smaller"],e=>{var{typed:t,config:n,numeric:r,smaller:i}=e,a=WE({typed:t,config:n,numeric:r,smaller:i});return t("min",{"...any":function(e){e=AE(e);try{return a.apply(null,e)}catch(t){throw pN(t)}}})},{isTransformFunction:!0}),GE="range",YE=rw(GE,["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],e=>{var{typed:t,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:u}=e;return t(GE,{string:c,"string, boolean":c,"number, number":function(e,t){return l(h(e,t,1))},"number, number, number":function(e,t,n){return l(h(e,t,n))},"number, number, boolean":function(e,t,n){return l(n?f(e,t,1):h(e,t,1))},"number, number, number, boolean":function(e,t,n,r){return l(r?f(e,t,n):h(e,t,n))},"BigNumber, BigNumber":function(e,t){return l(d(e,t,new(0,e.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(e,t,n){return l(d(e,t,n))},"BigNumber, BigNumber, boolean":function(e,t,n){var r=e.constructor;return l(n?p(e,t,new r(1)):d(e,t,new r(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,n,r){return l(r?p(e,t,n):d(e,t,n))}});function l(e){return"Matrix"===n.matrix?r?r(e):VN():e}function c(e,t){var r=function(e){var t=e.split(":"),n=t.map(function(e){return Number(e)});if(n.some(function(e){return isNaN(e)}))return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}(e);if(!r)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===n.number?(void 0===i&&zN(),l((t?p:d)(i(r.start),i(r.end),i(r.step)))):l((t?f:h)(r.start,r.end,r.step))}function h(e,t,n){var r=[],i=e;if(n>0)for(;a(i,t);)r.push(i),i+=n;else if(n<0)for(;s(i,t);)r.push(i),i+=n;return r}function f(e,t,n){var r=[],i=e;if(n>0)for(;o(i,t);)r.push(i),i+=n;else if(n<0)for(;u(i,t);)r.push(i),i+=n;return r}function d(e,t,n){var r=i(0),o=[],u=e;if(n.gt(r))for(;a(u,t);)o.push(u),u=u.plus(n);else if(n.lt(r))for(;s(u,t);)o.push(u),u=u.plus(n);return o}function p(e,t,n){var r=i(0),a=[],s=e;if(n.gt(r))for(;o(s,t);)a.push(s),s=s.plus(n);else if(n.lt(r))for(;u(s,t);)a.push(s),s=s.plus(n);return a}}),QE=rw("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],e=>{var{typed:t,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:u}=e,l=YE({typed:t,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:u});return t("range",{"...any":function(e){return"boolean"!==typeof e[e.length-1]&&e.push(!0),l.apply(null,e)}})},{isTransformFunction:!0}),JE=rw("sum",["typed","config","add","numeric"],e=>{var{typed:t,config:n,add:r,numeric:i}=e;return t("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){try{return AN(e,t,r)}catch(n){throw UE(n,"sum")}},"...":function(e){if(EN(e))throw new TypeError("Scalar values expected in function sum");return a(e)}});function a(e){var t;return SN(e,function(e){try{t=void 0===t?e:r(t,e)}catch(n){throw UE(n,"sum",e)}}),void 0===t&&(t=i(0,n.number)),"string"===typeof t&&(t=i(t,n.number)),t}}),XE=rw("sum",["typed","config","add","numeric"],e=>{var{typed:t,config:n,add:r,numeric:i}=e,a=JE({typed:t,config:n,add:r,numeric:i});return t("sum",{"...any":function(e){e=AE(e);try{return a.apply(null,e)}catch(t){throw pN(t)}}})},{isTransformFunction:!0}),ZE="cumsum",$E=rw(ZE,["typed","add","unaryPlus"],e=>{var{typed:t,add:n,unaryPlus:r}=e;return t(ZE,{Array:i,Matrix:function(e){return e.create(i(e.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(e,t){return e.create(o(e.valueOf(),t))},"...":function(e){if(EN(e))throw new TypeError("All values expected to be scalar in function cumsum");return i(e)}});function i(e){try{return a(e)}catch(t){throw UE(t,ZE)}}function a(e){if(0===e.length)return[];for(var t=[r(e[0])],i=1;i<e.length;++i)t.push(n(t[i-1],e[i]));return t}function o(e,t){var n=Ew(e);if(t<0||t>=n.length)throw new Nw(t,n.length);try{return s(e,t)}catch(r){throw UE(r,ZE)}}function s(e,t){var n,r,i;if(t<=0){var o=e[0][0];if(Array.isArray(o)){for(i=NN(e),r=[],n=0;n<i.length;n++)r[n]=s(i[n],t-1);return r}return a(e)}for(r=[],n=0;n<e.length;n++)r[n]=s(e[n],t-1);return r}}),eS="cumsum",tS=rw(eS,["typed","add","unaryPlus"],e=>{var{typed:t,add:n,unaryPlus:r}=e,i=$E({typed:t,add:n,unaryPlus:r});return t(eS,{"...any":function(e){if(2===e.length&&Wb(e[0])){var t=e[1];jb(t)?e[1]=t-1:Lb(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(n){throw pN(n)}}})},{isTransformFunction:!0}),nS=rw("row",["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:i}=e;return t("row",{"Matrix, number":a,"Array, number":function(e,t){return a(r($x(e)),t).valueOf()}});function a(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Aw(t,e.size()[0]);var r=i(0,e.size()[1]),a=new n(t,r);return e.subset(a)}}),rS=rw("row",["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:i}=e,a=nS({typed:t,Index:n,matrix:r,range:i});return t("row",{"...any":function(e){var t=e.length-1,n=e[t];jb(n)&&(e[t]=n-1);try{return a.apply(null,e)}catch(r){throw pN(r)}}})},{isTransformFunction:!0}),iS="column",aS=rw(iS,["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:i}=e;return t(iS,{"Matrix, number":a,"Array, number":function(e,t){return a(r($x(e)),t).valueOf()}});function a(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Aw(t,e.size()[1]);var r=i(0,e.size()[0]),a=new n(r,t);return e.subset(a)}}),oS=rw("column",["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:i}=e,a=aS({typed:t,Index:n,matrix:r,range:i});return t("column",{"...any":function(e){var t=e.length-1,n=e[t];jb(n)&&(e[t]=n-1);try{return a.apply(null,e)}catch(r){throw pN(r)}}})},{isTransformFunction:!0}),sS=rw("index",["Index"],e=>{var{Index:t}=e;return function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];if(Yb(i))i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map(function(e){return e-1});else if(Vb(i)||Hb(i))i=i.map(function(e){return e-1});else if(jb(i))i--;else if(Lb(i))i=i.toNumber()-1;else if("string"!==typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[n]=i}var a=new t;return t.apply(a,e),a}},{isTransformFunction:!0}),uS="mean",lS=rw(uS,["typed","add","divide"],e=>{var{typed:t,add:n,divide:r}=e;return t(uS,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){try{var i=AN(e,t,n),a=Array.isArray(e)?Ew(e):e.size();return r(i,a[t])}catch(o){throw UE(o,"mean")}},"...":function(e){if(EN(e))throw new TypeError("Scalar values expected in function mean");return i(e)}});function i(e){var t,i=0;if(SN(e,function(e){try{t=void 0===t?e:n(t,e),i++}catch(r){throw UE(r,"mean",e)}}),0===i)throw new Error("Cannot calculate the mean of an empty array");return r(t,i)}}),cS=rw("mean",["typed","add","divide"],e=>{var{typed:t,add:n,divide:r}=e,i=lS({typed:t,add:n,divide:r});return t("mean",{"...any":function(e){e=AE(e);try{return i.apply(null,e)}catch(t){throw pN(t)}}})},{isTransformFunction:!0}),hS="unbiased",fS="variance",dS=rw(fS,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:t,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s}=e;return t(fS,{"Array | Matrix":function(e){return u(e,hS)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(e,t){return l(e,t,hS)},"Array | Matrix, number | BigNumber, string":l,"...":function(e){return u(e,hS)}});function u(e,t){var o,u=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(SN(e,function(e){try{o=void 0===o?e:n(o,e),u++}catch(t){throw UE(t,"variance",e)}}),0===u)throw new Error("Cannot calculate variance of an empty array");var l=a(o,u);if(o=void 0,SN(e,function(e){var t=r(e,l);o=void 0===o?i(t,t):n(o,i(t,t))}),s(o))return o;switch(t){case"uncorrected":return a(o,u);case"biased":return a(o,u+1);case"unbiased":var c=Lb(o)?o.mul(0):0;return 1===u?c:a(o,u-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(e,t,n){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(e,t,e=>u(e,n))}catch(r){throw UE(r,"variance")}}}),pS="variance",mS=rw(pS,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:t,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s}=e,u=dS({typed:t,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s});return t(pS,{"...any":function(e){e=AE(e);try{return u.apply(null,e)}catch(t){throw pN(t)}}})},{isTransformFunction:!0}),gS=rw("std",["typed","sqrt","variance"],e=>{var{typed:t,sqrt:n,variance:r}=e;return t("std",{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(e){return i(e)}});function i(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return n(r.apply(null,arguments))}catch(i){throw i instanceof TypeError&&-1!==i.message.indexOf(" variance")?new TypeError(i.message.replace(" variance"," std")):i}}}),yS=rw("std",["typed","sqrt","variance"],e=>{var{typed:t,sqrt:n,variance:r}=e,i=gS({typed:t,sqrt:n,variance:r});return t("std",{"...any":function(e){e=AE(e);try{return i.apply(null,e)}catch(t){throw pN(t)}}})},{isTransformFunction:!0}),vS=9e15,bS=1e9,xS="0123456789abcdef",wS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",NS="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ES={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-vS,maxE:vS,crypto:!1},SS=!0,MS="[DecimalError] ",AS=MS+"Invalid argument: ",CS=MS+"Precision limit exceeded",TS=MS+"crypto unavailable",kS="[object Decimal]",IS=Math.floor,OS=Math.pow,_S=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,DS=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,RS=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,PS=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,FS=1e7,jS=wS.length-1,LS=NS.length-1,BS={toStringTag:kS};function US(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=XS(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=XS(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}function zS(e,t,n){if(e!==~~e||e<t||e>n)throw Error(AS+e)}function qS(e,t,n,r){var i,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=OS(10,7-t),s=e[i]%a|0,null==r?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):o=(n<4&&s+1==a||n>3&&s+1==a/2)&&(e[i+1]/a/100|0)==OS(10,t-2)-1||(s==a/2||0==s)&&0==(e[i+1]/a/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(r||n<4)&&9999==s||!r&&n>3&&4999==s):o=((r||n<4)&&s+1==a||!r&&n>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==OS(10,t-3)-1,o}function VS(e,t,n){for(var r,i,a=[0],o=0,s=e.length;o<s;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=xS.indexOf(e.charAt(o++)),r=0;r<a.length;r++)a[r]>n-1&&(void 0===a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/n|0,a[r]%=n)}return a.reverse()}BS.absoluteValue=BS.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),WS(e)},BS.ceil=function(){return WS(new this.constructor(this),this.e+1,2)},BS.clampedTo=BS.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(AS+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},BS.comparedTo=BS.cmp=function(e){var t,n,r,i,a=this,o=a.d,s=(e=new a.constructor(e)).d,u=a.s,l=e.s;if(!o||!s)return u&&l?u!==l?u:o===s?0:!o^u<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?u:s[0]?-l:0;if(u!==l)return u;if(a.e!==e.e)return a.e>e.e^u<0?1:-1;for(t=0,n=(r=o.length)<(i=s.length)?r:i;t<n;++t)if(o[t]!==s[t])return o[t]>s[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},BS.cosine=BS.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?i=(1/sM(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");e.precision+=n,t=oM(e,1,t.times(i),new e(1));for(var a=n;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}(r,uM(r,n)),r.precision=e,r.rounding=t,WS(2==qE||3==qE?n.neg():n,e,t,!0)):new r(1):new r(NaN)},BS.cubeRoot=BS.cbrt=function(){var e,t,n,r,i,a,o,s,u,l,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(SS=!1,(a=c.s*OS(c.s*c,1/3))&&Math.abs(a)!=1/0?r=new h(a.toString()):(n=US(c.d),(a=((e=c.e)-n.length+1)%3)&&(n+=1==a||-2==a?"0":"00"),a=OS(n,1/3),e=IS((e+1)/3)-(e%3==(e<0?-1:2)),(r=new h(n=a==1/0?"5e"+e:(n=a.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),o=(e=h.precision)+3;;)if(l=(u=(s=r).times(s).times(s)).plus(c),r=HS(l.plus(c).times(s),l.plus(u),o+2,1),US(s.d).slice(0,o)===(n=US(r.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(WS(r,e+1,1),t=!r.times(r).times(r).eq(c));break}if(!i&&(WS(s,e+1,0),s.times(s).times(s).eq(c))){r=s;break}o+=4,i=1}return SS=!0,WS(r,e,h.rounding,t)},BS.decimalPlaces=BS.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-IS(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},BS.dividedBy=BS.div=function(e){return HS(this,new this.constructor(e))},BS.dividedToIntegerBy=BS.divToInt=function(e){var t=this.constructor;return WS(HS(this,new t(e),0,1,1),t.precision,t.rounding)},BS.equals=BS.eq=function(e){return 0===this.cmp(e)},BS.floor=function(){return WS(new this.constructor(this),this.e+1,3)},BS.greaterThan=BS.gt=function(e){return this.cmp(e)>0},BS.greaterThanOrEqualTo=BS.gte=function(e){var t=this.cmp(e);return 1==t||0===t},BS.hyperbolicCosine=BS.cosh=function(){var e,t,n,r,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;n=o.precision,r=o.rounding,o.precision=n+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?t=(1/sM(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=oM(o,1,a.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=a.times(a),a=s.minus(u.times(c.minus(u.times(c))));return WS(a,o.precision=n,o.rounding=r,!0)},BS.hyperbolicSine=BS.sinh=function(){var e,t,n,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(r=i.d.length)<3)i=oM(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=oM(a,2,i=i.times(1/sM(5,e)),i,!0);for(var o,s=new a(5),u=new a(16),l=new a(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(u.times(o).plus(l))))}return a.precision=t,a.rounding=n,WS(i,t,n,!0)},BS.hyperbolicTangent=BS.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,HS(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},BS.inverseCosine=BS.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,i=t.rounding;return-1!==n?0===n?e.isNeg()?QS(t,r,i):new t(0):new t(NaN):e.isZero()?QS(t,r+4,i).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=i,e.times(2))},BS.inverseHyperbolicCosine=BS.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,SS=!1,n=n.times(n).minus(1).sqrt().plus(n),SS=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},BS.inverseHyperbolicSine=BS.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,SS=!1,n=n.times(n).plus(1).sqrt().plus(n),SS=!0,r.precision=e,r.rounding=t,n.ln())},BS.inverseHyperbolicTangent=BS.atanh=function(){var e,t,n,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?WS(new a(i),e,t,!0):(a.precision=n=r-i.e,i=HS(i.plus(1),new a(1).minus(i),n+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},BS.inverseSine=BS.asin=function(){var e,t,n,r,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),n=a.precision,r=a.rounding,-1!==t?0===t?((e=QS(a,n+4,r).times(.5)).s=i.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=r,i.times(2)))},BS.inverseTangent=BS.atan=function(){var e,t,n,r,i,a,o,s,u,l=this,c=l.constructor,h=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&h+4<=LS)return(o=QS(c,h+4,f).times(.25)).s=l.s,o}else{if(!l.s)return new c(NaN);if(h+4<=LS)return(o=QS(c,h+4,f).times(.5)).s=l.s,o}for(c.precision=s=h+10,c.rounding=1,e=n=Math.min(28,s/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(SS=!1,t=Math.ceil(s/7),r=1,u=l.times(l),o=new c(l),i=l;-1!==e;)if(i=i.times(u),a=o.minus(i.div(r+=2)),i=i.times(u),void 0!==(o=a.plus(i.div(r+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),SS=!0,WS(o,c.precision=h,c.rounding=f,!0)},BS.isFinite=function(){return!!this.d},BS.isInteger=BS.isInt=function(){return!!this.d&&IS(this.e/7)>this.d.length-2},BS.isNaN=function(){return!this.s},BS.isNegative=BS.isNeg=function(){return this.s<0},BS.isPositive=BS.isPos=function(){return this.s>0},BS.isZero=function(){return!!this.d&&0===this.d[0]},BS.lessThan=BS.lt=function(e){return this.cmp(e)<0},BS.lessThanOrEqualTo=BS.lte=function(e){return this.cmp(e)<1},BS.logarithm=BS.log=function(e){var t,n,r,i,a,o,s,u,l=this,c=l.constructor,h=c.precision,f=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new c(n&&!n[0]?-1/0:1!=l.s?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(i=n[0];i%10===0;)i/=10;a=1!==i}if(SS=!1,o=nM(l,s=h+5),r=t?YS(c,s+10):nM(e,s),qS((u=HS(o,r,s,1)).d,i=h,f))do{if(o=nM(l,s+=10),r=t?YS(c,s+10):nM(e,s),u=HS(o,r,s,1),!a){+US(u.d).slice(i+1,i+15)+1==1e14&&(u=WS(u,h+1,0));break}}while(qS(u.d,i+=10,f));return SS=!0,WS(u,h,f)},BS.minus=BS.sub=function(e){var t,n,r,i,a,o,s,u,l,c,h,f,d=this,p=d.constructor;if(e=new p(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new p(e.d||d.s!==e.s?d:NaN):e=new p(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(l=d.d,f=e.d,s=p.precision,u=p.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(d)}return SS?WS(e,s,u):e}if(n=IS(e.e/7),c=IS(d.e/7),l=l.slice(),a=c-n){for((h=a<0)?(t=l,a=-a,o=f.length):(t=f,n=c,o=l.length),a>(r=Math.max(Math.ceil(s/7),o)+2)&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for((h=(r=l.length)<(o=f.length))&&(o=r),r=0;r<o;r++)if(l[r]!=f[r]){h=l[r]<f[r];break}a=0}for(h&&(t=l,l=f,f=t,e.s=-e.s),o=l.length,r=f.length-o;r>0;--r)l[o++]=0;for(r=f.length;r>a;){if(l[--r]<f[r]){for(i=r;i&&0===l[--i];)l[i]=FS-1;--l[i],l[r]+=FS}l[r]-=f[r]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(e.d=l,e.e=GS(l,n),SS?WS(e,s,u):e):new p(3===u?-0:0)},BS.modulo=BS.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?WS(new r(n),r.precision,r.rounding):(SS=!1,9==r.modulo?(t=HS(n,e.abs(),0,3,1)).s*=e.s:t=HS(n,e,0,r.modulo,1),t=t.times(e),SS=!0,n.minus(t))},BS.naturalExponential=BS.exp=function(){return tM(this)},BS.naturalLogarithm=BS.ln=function(){return nM(this)},BS.negated=BS.neg=function(){var e=new this.constructor(this);return e.s=-e.s,WS(e)},BS.plus=BS.add=function(e){var t,n,r,i,a,o,s,u,l,c,h=this,f=h.constructor;if(e=new f(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new f(e.d||h.s===e.s?h:NaN)):e=new f(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,c=e.d,s=f.precision,u=f.rounding,!l[0]||!c[0])return c[0]||(e=new f(h)),SS?WS(e,s,u):e;if(a=IS(h.e/7),r=IS(e.e/7),l=l.slice(),i=a-r){for(i<0?(n=l,i=-i,o=c.length):(n=c,r=a,o=l.length),i>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((o=l.length)-(i=c.length)<0&&(i=o,n=c,c=l,l=n),t=0;i;)t=(l[--i]=l[i]+c[i]+t)/FS|0,l[i]%=FS;for(t&&(l.unshift(t),++r),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=GS(l,r),SS?WS(e,s,u):e},BS.precision=BS.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(AS+e);return n.d?(t=JS(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},BS.round=function(){var e=this,t=e.constructor;return WS(new t(e),e.e+1,t.rounding)},BS.sine=BS.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:oM(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:0|n,t=t.times(1/sM(5,n)),t=oM(e,2,t,t);for(var i,a=new e(5),o=new e(16),s=new e(20);n--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}(r,uM(r,n)),r.precision=e,r.rounding=t,WS(qE>2?n.neg():n,e,t,!0)):new r(NaN)},BS.squareRoot=BS.sqrt=function(){var e,t,n,r,i,a,o=this,s=o.d,u=o.e,l=o.s,c=o.constructor;if(1!==l||!s||!s[0])return new c(!l||l<0&&(!s||s[0])?NaN:s?o:1/0);for(SS=!1,0==(l=Math.sqrt(+o))||l==1/0?(((t=US(s)).length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=IS((u+1)/2)-(u<0||u%2),r=new c(t=l==1/0?"5e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new c(l.toString()),n=(u=c.precision)+3;;)if(r=(a=r).plus(HS(o,a,n+2,1)).times(.5),US(a.d).slice(0,n)===(t=US(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(WS(r,u+1,1),e=!r.times(r).eq(o));break}if(!i&&(WS(a,u+1,0),a.times(a).eq(o))){r=a;break}n+=4,i=1}return SS=!0,WS(r,u,c.rounding,e)},BS.tangent=BS.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=HS(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,WS(2==qE||4==qE?n.neg():n,e,t,!0)):new r(NaN)},BS.times=BS.mul=function(e){var t,n,r,i,a,o,s,u,l,c=this,h=c.constructor,f=c.d,d=(e=new h(e)).d;if(e.s*=c.s,!f||!f[0]||!d||!d[0])return new h(!e.s||f&&!f[0]&&!d||d&&!d[0]&&!f?NaN:f&&d?0*e.s:e.s/0);for(n=IS(c.e/7)+IS(e.e/7),(u=f.length)<(l=d.length)&&(a=f,f=d,d=a,o=u,u=l,l=o),a=[],r=o=u+l;r--;)a.push(0);for(r=l;--r>=0;){for(t=0,i=u+r;i>r;)s=a[i]+d[r]*f[i-r-1]+t,a[i--]=s%FS|0,t=s/FS|0;a[i]=(a[i]+t)%FS|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=GS(a,n),SS?WS(e,h.precision,h.rounding):e},BS.toBinary=function(e,t){return lM(this,2,e,t)},BS.toDecimalPlaces=BS.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(zS(e,0,bS),void 0===t?t=r.rounding:zS(t,0,8),WS(n,e+n.e+1,t))},BS.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=KS(r,!0):(zS(e,0,bS),void 0===t?t=i.rounding:zS(t,0,8),n=KS(r=WS(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},BS.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?n=KS(i):(zS(e,0,bS),void 0===t?t=a.rounding:zS(t,0,8),n=KS(r=WS(new a(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},BS.toFraction=function(e){var t,n,r,i,a,o,s,u,l,c,h,f,d=this,p=d.d,m=d.constructor;if(!p)return new m(d);if(l=n=new m(1),r=u=new m(0),o=(a=(t=new m(r)).e=JS(p)-d.e-1)%7,t.d[0]=OS(10,o<0?7+o:o),null==e)e=a>0?t:l;else{if(!(s=new m(e)).isInt()||s.lt(l))throw Error(AS+s);e=s.gt(t)?a>0?t:l:s}for(SS=!1,s=new m(US(p)),c=m.precision,m.precision=a=7*p.length*2;h=HS(s,t,0,1,1),1!=(i=n.plus(h.times(r))).cmp(e);)n=r,r=i,i=l,l=u.plus(h.times(i)),u=i,i=t,t=s.minus(h.times(i)),s=i;return i=HS(e.minus(n),r,0,1,1),u=u.plus(i.times(l)),n=n.plus(i.times(r)),u.s=l.s=d.s,f=HS(l,r,a,1).minus(d).abs().cmp(HS(u,n,a,1).minus(d).abs())<1?[l,r]:[u,n],m.precision=c,SS=!0,f},BS.toHexadecimal=BS.toHex=function(e,t){return lM(this,16,e,t)},BS.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:zS(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(SS=!1,n=HS(n,e,0,t,1).times(e),SS=!0,WS(n)):(e.s=n.s,n=e),n},BS.toNumber=function(){return+this},BS.toOctal=function(e,t){return lM(this,8,e,t)},BS.toPower=BS.pow=function(e){var t,n,r,i,a,o,s=this,u=s.constructor,l=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(OS(+s,l));if((s=new u(s)).eq(1))return s;if(r=u.precision,a=u.rounding,e.eq(1))return WS(s,r,a);if((t=IS(e.e/7))>=e.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return i=ZS(u,s,n,r),e.s<0?new u(1).div(i):WS(i,r,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(n=OS(+s,l))&&isFinite(n)?new u(n+"").e:IS(l*(Math.log("0."+US(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(SS=!1,u.rounding=s.s=1,n=Math.min(12,(t+"").length),(i=tM(e.times(nM(s,r+n)),r)).d&&qS((i=WS(i,r+5,1)).d,r,a)&&(t=r+10,+US((i=WS(tM(e.times(nM(s,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=WS(i,r+1,0))),i.s=o,SS=!0,u.rounding=a,WS(i,r,a))},BS.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=KS(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(zS(e,1,bS),void 0===t?t=i.rounding:zS(t,0,8),n=KS(r=WS(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},BS.toSignificantDigits=BS.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(zS(e,1,bS),void 0===t?t=n.rounding:zS(t,0,8)),WS(new n(this),e,t)},BS.toString=function(){var e=this,t=e.constructor,n=KS(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},BS.truncated=BS.trunc=function(){return WS(new this.constructor(this),this.e+1,1)},BS.valueOf=BS.toJSON=function(){var e=this,t=e.constructor,n=KS(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var HS=function(){function e(e,t,n){var r,i=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+i,e[a]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o,s,u){var l,c,h,f,d,p,m,g,y,v,b,x,w,N,E,S,M,A,C,T,k=r.constructor,I=r.s==i.s?1:-1,O=r.d,_=i.d;if(!O||!O[0]||!_||!_[0])return new k(r.s&&i.s&&(O?!_||O[0]!=_[0]:_)?O&&0==O[0]||!_?0*I:I/0:NaN);for(u?(d=1,c=r.e-i.e):(u=FS,d=7,c=IS(r.e/d)-IS(i.e/d)),C=_.length,M=O.length,v=(y=new k(I)).d=[],h=0;_[h]==(O[h]||0);h++);if(_[h]>(O[h]||0)&&c--,null==a?(N=a=k.precision,o=k.rounding):N=s?a+(r.e-i.e)+1:a,N<0)v.push(1),p=!0;else{if(N=N/d+2|0,h=0,1==C){for(f=0,_=_[0],N++;(h<M||f)&&N--;h++)E=f*u+(O[h]||0),v[h]=E/_|0,f=E%_|0;p=f||h<M}else{for((f=u/(_[0]+1)|0)>1&&(_=e(_,f,u),O=e(O,f,u),C=_.length,M=O.length),S=C,x=(b=O.slice(0,C)).length;x<C;)b[x++]=0;(T=_.slice()).unshift(0),A=_[0],_[1]>=u/2&&++A;do{f=0,(l=t(_,b,C,x))<0?(w=b[0],C!=x&&(w=w*u+(b[1]||0)),(f=w/A|0)>1?(f>=u&&(f=u-1),1==(l=t(m=e(_,f,u),b,g=m.length,x=b.length))&&(f--,n(m,C<g?T:_,g,u))):(0==f&&(l=f=1),m=_.slice()),(g=m.length)<x&&m.unshift(0),n(b,m,x,u),-1==l&&(l=t(_,b,C,x=b.length))<1&&(f++,n(b,C<x?T:_,x,u)),x=b.length):0===l&&(f++,b=[0]),v[h++]=f,l&&b[0]?b[x++]=O[S]||0:(b=[O[S]],x=1)}while((S++<M||void 0!==b[0])&&N--);p=void 0!==b[0]}v[0]||v.shift()}if(1==d)y.e=c,zE=p;else{for(h=1,f=v[0];f>=10;f/=10)h++;y.e=h+c*d-1,WS(y,s?a+y.e+1:a,o,p)}return y}}();function WS(e,t,n,r){var i,a,o,s,u,l,c,h,f,d=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,s=h[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=7,o=t,u=(c=h[f=0])/OS(10,i-o-1)%10|0;else if((f=Math.ceil((a+1)/7))>=(s=h.length)){if(!r)break e;for(;s++<=f;)h.push(0);c=u=0,i=1,o=(a%=7)-7+1}else{for(c=s=h[f],i=1;s>=10;s/=10)i++;u=(o=(a%=7)-7+i)<0?0:c/OS(10,i-o-1)%10|0}if(r=r||t<0||void 0!==h[f+1]||(o<0?c:c%OS(10,i-o-1)),l=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(a>0?o>0?c/OS(10,i-o):0:h[f-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=OS(10,(7-t%7)%7),e.e=-t||0):h[0]=e.e=0,e;if(0==a?(h.length=f,s=1,f--):(h.length=f+1,s=OS(10,7-a),h[f]=o>0?(c/OS(10,i-o)%OS(10,o)|0)*s:0),l)for(;;){if(0==f){for(a=1,o=h[0];o>=10;o/=10)a++;for(o=h[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,h[0]==FS&&(h[0]=1));break}if(h[f]+=s,h[f]!=FS)break;h[f--]=0,s=1}for(a=h.length;0===h[--a];)h.pop()}return SS&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function KS(e,t,n){if(!e.isFinite())return rM(e);var r,i=e.e,a=US(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+XS(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+XS(-i-1)+a,n&&(r=n-o)>0&&(a+=XS(r))):i>=o?(a+=XS(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+XS(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=XS(r))),a}function GS(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function YS(e,t,n){if(t>jS)throw SS=!0,n&&(e.precision=n),Error(CS);return WS(new e(wS),t,1,!0)}function QS(e,t,n){if(t>LS)throw Error(CS);return WS(new e(NS),t,n,!0)}function JS(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function XS(e){for(var t="";e--;)t+="0";return t}function ZS(e,t,n,r){var i,a=new e(1),o=Math.ceil(r/7+4);for(SS=!1;;){if(n%2&&cM((a=a.times(t)).d,o)&&(i=!0),0===(n=IS(n/2))){n=a.d.length-1,i&&0===a.d[n]&&++a.d[n];break}cM((t=t.times(t)).d,o)}return SS=!0,a}function $S(e){return 1&e.d[e.d.length-1]}function eM(e,t,n){for(var r,i,a=new e(t[0]),o=0;++o<t.length;){if(!(i=new e(t[o])).s){a=i;break}((r=a.cmp(i))===n||0===r&&a.s===n)&&(a=i)}return a}function tM(e,t){var n,r,i,a,o,s,u,l=0,c=0,h=0,f=e.constructor,d=f.rounding,p=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(SS=!1,u=p):u=t,s=new f(.03125);e.e>-2;)e=e.times(s),h+=5;for(u+=r=Math.log(OS(2,h))/Math.LN10*2+5|0,n=a=o=new f(1),f.precision=u;;){if(a=WS(a.times(e),u,1),n=n.times(++c),US((s=o.plus(HS(a,n,u,1))).d).slice(0,u)===US(o.d).slice(0,u)){for(i=h;i--;)o=WS(o.times(o),u,1);if(null!=t)return f.precision=p,o;if(!(l<3&&qS(o.d,u-r,d,l)))return WS(o,f.precision=p,d,SS=!0);f.precision=u+=10,n=a=s=new f(1),c=0,l++}o=s}}function nM(e,t){var n,r,i,a,o,s,u,l,c,h,f,d=1,p=e,m=p.d,g=p.constructor,y=g.rounding,v=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==t?(SS=!1,c=v):c=t,g.precision=c+=10,r=(n=US(m)).charAt(0),!(Math.abs(a=p.e)<15e14))return l=YS(g,c+2,v).times(a+""),p=nM(new g(r+"."+n.slice(1)),c-10).plus(l),g.precision=v,null==t?WS(p,v,y,SS=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=US((p=p.times(e)).d)).charAt(0),d++;for(a=p.e,r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1)),h=p,u=o=p=HS(p.minus(1),p.plus(1),c,1),f=WS(p.times(p),c,1),i=3;;){if(o=WS(o.times(f),c,1),US((l=u.plus(HS(o,new g(i),c,1))).d).slice(0,c)===US(u.d).slice(0,c)){if(u=u.times(2),0!==a&&(u=u.plus(YS(g,c+2,v).times(a+""))),u=HS(u,new g(d),c,1),null!=t)return g.precision=v,u;if(!qS(u.d,c-10,y,s))return WS(u,g.precision=v,y,SS=!0);g.precision=c+=10,l=o=p=HS(h.minus(1),h.plus(1),c,1),f=WS(p.times(p),c,1),i=s=1}u=l,i+=2}}function rM(e){return String(e.s*e.s/0)}function iM(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),SS&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function aM(e,t){var n,r,i,a,o,s,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),PS.test(t))return iM(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(DS.test(t))n=16,t=t.toLowerCase();else if(_S.test(t))n=2;else{if(!RS.test(t))throw Error(AS+t);n=8}for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,r=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,i=ZS(r,new r(n),a,2*a)),a=c=(l=VS(t,n,FS)).length-1;0===l[a];--a)l.pop();return a<0?new r(0*e.s):(e.e=GS(l,c),e.d=l,SS=!1,o&&(e=HS(e,i,4*s)),u&&(e=e.times(Math.abs(u)<54?OS(2,u):XM.pow(2,u))),SS=!0,e)}function oM(e,t,n,r,i){var a,o,s,u,l=e.precision,c=Math.ceil(l/7);for(SS=!1,u=n.times(n),s=new e(r);;){if(o=HS(s.times(u),new e(t++*t++),l,1),s=i?r.plus(o):r.minus(o),r=HS(o.times(u),new e(t++*t++),l,1),void 0!==(o=s.plus(r)).d[c]){for(a=c;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=r,r=o,o=a}return SS=!0,o.d.length=c+1,o}function sM(e,t){for(var n=e;--t;)n*=e;return n}function uM(e,t){var n,r=t.s<0,i=QS(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return qE=r?4:1,t;if((n=t.divToInt(i)).isZero())qE=r?3:2;else{if((t=t.minus(n.times(i))).lte(a))return qE=$S(n)?r?2:3:r?4:1,t;qE=$S(n)?r?1:4:r?3:2}return t.minus(i).abs()}function lM(e,t,n,r){var i,a,o,s,u,l,c,h,f,d=e.constructor,p=void 0!==n;if(p?(zS(n,1,bS),void 0===r?r=d.rounding:zS(r,0,8)):(n=d.precision,r=d.rounding),e.isFinite()){for(p?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(o=(c=KS(e)).indexOf("."))>=0&&(c=c.replace(".",""),(f=new d(1)).e=c.length-o,f.d=VS(KS(f),10,i),f.e=f.d.length),a=u=(h=VS(c,10,i)).length;0==h[--u];)h.pop();if(h[0]){if(o<0?a--:((e=new d(e)).d=h,e.e=a,h=(e=HS(e,f,n,r,0,i)).d,a=e.e,l=zE),o=h[n],s=i/2,l=l||void 0!==h[n+1],l=r<4?(void 0!==o||l)&&(0===r||r===(e.s<0?3:2)):o>s||o===s&&(4===r||l||6===r&&1&h[n-1]||r===(e.s<0?8:7)),h.length=n,l)for(;++h[--n]>i-1;)h[n]=0,n||(++a,h.unshift(1));for(u=h.length;!h[u-1];--u);for(o=0,c="";o<u;o++)c+=xS.charAt(h[o]);if(p){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)c+="0";for(u=(h=VS(c,i,t)).length;!h[u-1];--u);for(o=1,c="1.";o<u;o++)c+=xS.charAt(h[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}else c=p?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=rM(e);return e.s<0?"-"+c:c}function cM(e,t){if(e.length>t)return e.length=t,!0}function hM(e){return new this(e).abs()}function fM(e){return new this(e).acos()}function dM(e){return new this(e).acosh()}function pM(e,t){return new this(e).plus(t)}function mM(e){return new this(e).asin()}function gM(e){return new this(e).asinh()}function yM(e){return new this(e).atan()}function vM(e){return new this(e).atanh()}function bM(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,a=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?QS(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=QS(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,n=this.atan(HS(e,t,a,1)),t=QS(this,a,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(HS(e,t,a,1)):(n=QS(this,a,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function xM(e){return new this(e).cbrt()}function wM(e){return WS(e=new this(e),e.e+1,2)}function NM(e,t,n){return new this(e).clamp(t,n)}function EM(e){if(!e||"object"!==typeof e)throw Error(MS+"Object expected");var t,n,r,i=!0===e.defaults,a=["precision",1,bS,"rounding",0,8,"toExpNeg",-vS,0,"toExpPos",0,vS,"maxE",0,vS,"minE",-vS,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],i&&(this[n]=ES[n]),void 0!==(r=e[n])){if(!(IS(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(AS+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=ES[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(AS+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(TS);this[n]=!0}else this[n]=!1}return this}function SM(e){return new this(e).cos()}function MM(e){return new this(e).cosh()}function AM(e,t){return new this(e).div(t)}function CM(e){return new this(e).exp()}function TM(e){return WS(e=new this(e),e.e+1,3)}function kM(){var e,t,n=new this(0);for(SS=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return SS=!0,new this(1/0);n=t}return SS=!0,n.sqrt()}function IM(e){return e instanceof XM||e&&e.toStringTag===kS||!1}function OM(e){return new this(e).ln()}function _M(e,t){return new this(e).log(t)}function DM(e){return new this(e).log(2)}function RM(e){return new this(e).log(10)}function PM(){return eM(this,arguments,-1)}function FM(){return eM(this,arguments,1)}function jM(e,t){return new this(e).mod(t)}function LM(e,t){return new this(e).mul(t)}function BM(e,t){return new this(e).pow(t)}function UM(e){var t,n,r,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:zS(e,1,bS),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(TS);for(t=crypto.randomBytes(r*=4);a<r;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=r/4}else for(;a<r;)s[a++]=1e7*Math.random()|0;for(e%=7,(r=s[--a])&&e&&(i=OS(10,7-e),s[a]=(r/i|0)*i);0===s[a];a--)s.pop();if(a<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=7)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return o.e=n,o.d=s,o}function zM(e){return WS(e=new this(e),e.e+1,this.rounding)}function qM(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function VM(e){return new this(e).sin()}function HM(e){return new this(e).sinh()}function WM(e){return new this(e).sqrt()}function KM(e,t){return new this(e).sub(t)}function GM(){var e=0,t=arguments,n=new this(t[e]);for(SS=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return SS=!0,WS(n,this.precision,this.rounding)}function YM(e){return new this(e).tan()}function QM(e){return new this(e).tanh()}function JM(e){return WS(e=new this(e),e.e+1,1)}BS[Symbol.for("nodejs.util.inspect.custom")]=BS.toString,BS[Symbol.toStringTag]="Decimal";var XM=BS.constructor=function e(t){var n,r,i;function a(e){var t,n,r,i=this;if(!(i instanceof a))return new a(e);if(i.constructor=a,IM(e))return i.s=e.s,void(SS?!e.d||e.e>a.maxE?(i.e=NaN,i.d=null):e.e<a.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(SS?t>a.maxE?(i.e=NaN,i.d=null):t<a.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!==0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):iM(i,e.toString())}if("string"===r)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),PS.test(e)?iM(i,e):aM(i,e);if("bigint"===r)return e<0?(e=-e,i.s=-1):i.s=1,iM(i,e.toString());throw Error(AS+e)}if(a.prototype=BS,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=EM,a.clone=e,a.isDecimal=IM,a.abs=hM,a.acos=fM,a.acosh=dM,a.add=pM,a.asin=mM,a.asinh=gM,a.atan=yM,a.atanh=vM,a.atan2=bM,a.cbrt=xM,a.ceil=wM,a.clamp=NM,a.cos=SM,a.cosh=MM,a.div=AM,a.exp=CM,a.floor=TM,a.hypot=kM,a.ln=OM,a.log=_M,a.log10=RM,a.log2=DM,a.max=PM,a.min=FM,a.mod=jM,a.mul=LM,a.pow=BM,a.random=UM,a.round=zM,a.sign=qM,a.sin=VM,a.sinh=HM,a.sqrt=WM,a.sub=KM,a.sum=GM,a.tan=YM,a.tanh=QM,a.trunc=JM,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(ES);wS=new XM(wS),NS=new XM(NS);const ZM=XM;var $M=rw("BigNumber",["?on","config"],e=>{var{on:t,config:n}=e,r=ZM.clone({precision:n.precision,modulo:ZM.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})}),r},{isClass:!0});const eA=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:.5*(Math.exp(e)+Math.exp(-e))},tA=Math.sinh||function(e){return Math.abs(e)<1e-9?e:.5*(Math.exp(e)-Math.exp(-e))},nA=function(e,t){return(e=Math.abs(e))<(t=Math.abs(t))&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},rA=function(){throw SyntaxError("Invalid Param")};function iA(e,t){const n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):(e*=.5,t*=.5,.5*Math.log(e*e+t*t)+Math.LN2)}const aA={re:0,im:0},oA=function(e,t){const n=aA;if(void 0===e||null===e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return sA.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return sA.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):rA();break;case"string":n.im=n.re=0;const t=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let r=1,i=0;null===t&&rA();for(let e=0;e<t.length;e++){const a=t[e];" "===a||"\t"===a||"\n"===a||("+"===a?r++:"-"===a?i++:"i"===a||"I"===a?(r+i===0&&rA()," "===t[e+1]||isNaN(t[e+1])?n.im+=parseFloat((i%2?"-":"")+"1"):(n.im+=parseFloat((i%2?"-":"")+t[e+1]),e++),r=i=0):((r+i===0||isNaN(a))&&rA(),"i"===t[e+1]||"I"===t[e+1]?(n.im+=parseFloat((i%2?"-":"")+a),e++):n.re+=parseFloat((i%2?"-":"")+a),r=i=0))}r+i>0&&rA();break;case"number":n.im=0,n.re=e;break;default:rA()}return isNaN(n.re)||isNaN(n.im),n};function sA(e,t){if(!(this instanceof sA))return new sA(e,t);const n=oA(e,t);this.re=n.re,this.im=n.im}sA.prototype={re:0,im:0,sign:function(){const e=nA(this.re,this.im);return new sA(this.re/e,this.im/e)},add:function(e,t){const n=oA(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?sA.NAN:sA.INFINITY:new sA(this.re+n.re,this.im+n.im)},sub:function(e,t){const n=oA(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?sA.NAN:sA.INFINITY:new sA(this.re-n.re,this.im-n.im)},mul:function(e,t){const n=oA(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),a=0===this.re&&0===this.im,o=0===n.re&&0===n.im;return r&&o||i&&a?sA.NAN:r||i?sA.INFINITY:0===n.im&&0===this.im?new sA(this.re*n.re,0):new sA(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){const n=oA(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),a=0===this.re&&0===this.im,o=0===n.re&&0===n.im;if(a&&o||r&&i)return sA.NAN;if(o||r)return sA.INFINITY;if(a||i)return sA.ZERO;if(0===n.im)return new sA(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const e=n.re/n.im,t=n.re*e+n.im;return new sA((this.re*e+this.im)/t,(this.im*e-this.re)/t)}{const e=n.im/n.re,t=n.im*e+n.re;return new sA((this.re+this.im*e)/t,(this.im-this.re*e)/t)}},pow:function(e,t){const n=oA(e,t),r=0===this.re&&0===this.im;if(0===n.re&&0===n.im)return sA.ONE;if(0===n.im){if(0===this.im&&this.re>0)return new sA(Math.pow(this.re,n.re),0);if(0===this.re)switch((n.re%4+4)%4){case 0:return new sA(Math.pow(this.im,n.re),0);case 1:return new sA(0,Math.pow(this.im,n.re));case 2:return new sA(-Math.pow(this.im,n.re),0);case 3:return new sA(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return sA.ZERO;const i=Math.atan2(this.im,this.re),a=iA(this.re,this.im);let o=Math.exp(n.re*a-n.im*i),s=n.im*a+n.re*i;return new sA(o*Math.cos(s),o*Math.sin(s))},sqrt:function(){const e=this.re,t=this.im;if(0===t)return e>=0?new sA(Math.sqrt(e),0):new sA(0,Math.sqrt(-e));const n=nA(e,t);let r=Math.sqrt(.5*(n+Math.abs(e))),i=Math.abs(t)/(2*r);return e>=0?new sA(r,t<0?-i:i):new sA(i,t<0?-r:r)},exp:function(){const e=Math.exp(this.re);return 0===this.im?new sA(e,0):new sA(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new sA(Math.expm1(e)*Math.cos(t)+function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const n=e*e;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return 0===t&&e>0?new sA(Math.log(e),0):new sA(iA(e,t),Math.atan2(t,e))},abs:function(){return nA(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new sA(Math.sin(e)*eA(t),Math.cos(e)*tA(t))},cos:function(){const e=this.re,t=this.im;return new sA(Math.cos(e)*eA(t),-Math.sin(e)*tA(t))},tan:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)+eA(t);return new sA(Math.sin(e)/n,tA(t)/n)},cot:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)-eA(t);return new sA(-Math.sin(e)/n,tA(t)/n)},sec:function(){const e=this.re,t=this.im,n=.5*eA(2*t)+.5*Math.cos(2*e);return new sA(Math.cos(e)*eA(t)/n,Math.sin(e)*tA(t)/n)},csc:function(){const e=this.re,t=this.im,n=.5*eA(2*t)-.5*Math.cos(2*e);return new sA(Math.sin(e)*eA(t)/n,-Math.cos(e)*tA(t)/n)},asin:function(){const e=this.re,t=this.im,n=new sA(t*t-e*e+1,-2*e*t).sqrt(),r=new sA(n.re-t,n.im+e).log();return new sA(r.im,-r.re)},acos:function(){const e=this.re,t=this.im,n=new sA(t*t-e*e+1,-2*e*t).sqrt(),r=new sA(n.re-t,n.im+e).log();return new sA(Math.PI/2-r.im,r.re)},atan:function(){const e=this.re,t=this.im;if(0===e){if(1===t)return new sA(0,1/0);if(-1===t)return new sA(0,-1/0)}const n=e*e+(1-t)*(1-t),r=new sA((1-t*t-e*e)/n,-2*e/n).log();return new sA(-.5*r.im,.5*r.re)},acot:function(){const e=this.re,t=this.im;if(0===t)return new sA(Math.atan2(1,e),0);const n=e*e+t*t;return 0!==n?new sA(e/n,-t/n).atan():new sA(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new sA(0,1/0);const n=e*e+t*t;return 0!==n?new sA(e/n,-t/n).acos():new sA(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new sA(Math.PI/2,1/0);const n=e*e+t*t;return 0!==n?new sA(e/n,-t/n).asin():new sA(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new sA(tA(e)*Math.cos(t),eA(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new sA(eA(e)*Math.cos(t),tA(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,n=eA(e)+Math.cos(t);return new sA(tA(e)/n,Math.sin(t)/n)},coth:function(){const e=2*this.re,t=2*this.im,n=eA(e)-Math.cos(t);return new sA(tA(e)/n,-Math.sin(t)/n)},csch:function(){const e=this.re,t=this.im,n=Math.cos(2*t)-eA(2*e);return new sA(-2*tA(e)*Math.cos(t)/n,2*eA(e)*Math.sin(t)/n)},sech:function(){const e=this.re,t=this.im,n=Math.cos(2*t)+eA(2*e);return new sA(2*eA(e)*Math.cos(t)/n,-2*tA(e)*Math.sin(t)/n)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,n=e>1&&0===t,r=1-e,i=1+e,a=r*r+t*t,o=0!==a?new sA((i*r-t*t)/a,(t*r+i*t)/a):new sA(-1!==e?e/0:0,0!==t?t/0:0),s=o.re;return o.re=iA(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,n&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new sA(0,Math.PI/2);const n=e*e+t*t;return 0!==n?new sA(e/n,-t/n).atanh():new sA(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(0===t)return new sA(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const n=e*e+t*t;return 0!==n?new sA(e/n,-t/n).asinh():new sA(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return sA.INFINITY;const n=e*e+t*t;return 0!==n?new sA(e/n,-t/n).acosh():new sA(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return sA.INFINITY;if(this.isInfinite())return sA.ZERO;const e=this.re,t=this.im,n=e*e+t*t;return new sA(e/n,-t/n)},conjugate:function(){return new sA(this.re,-this.im)},neg:function(){return new sA(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new sA(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new sA(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new sA(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const n=oA(e,t);return Math.abs(n.re-this.re)<=sA.EPSILON&&Math.abs(n.im-this.im)<=sA.EPSILON},clone:function(){return new sA(this.re,this.im)},toString:function(){let e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<sA.EPSILON&&(e=0),Math.abs(t)<sA.EPSILON&&(t=0),0===t?n+e:(0!==e?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),1!==t&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},sA.ZERO=new sA(0,0),sA.ONE=new sA(1,0),sA.I=new sA(0,1),sA.PI=new sA(Math.PI,0),sA.E=new sA(Math.E,0),sA.INFINITY=new sA(1/0,1/0),sA.NAN=new sA(NaN,NaN),sA.EPSILON=1e-15;var uA=rw("Complex",[],()=>(sA.prototype.type="Complex",sA.prototype.isComplex=!0,sA.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},sA.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},sA.prototype.format=function(e){var t=this.im,n=this.re,r=Ix(this.re,e),i=Ix(this.im,e),a=jb(e)?e:e?e.precision:null;if(null!==a){var o=Math.pow(10,-a);Math.abs(n/t)<o&&(n=0),Math.abs(t/n)<o&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?r+" - i":r+" - "+i.substring(1)+"i":1===t?r+" + i":r+" + "+i+"i"},sA.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===typeof t)return sA(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(jb(n)){if(zb(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),jb(r))return new sA({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},sA.prototype.valueOf=sA.prototype.toString,sA.fromJSON=function(e){return new sA(e)},sA.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},sA),{isClass:!0}),lA=fE(function(e){return new e(1).exp()},{hasher:dA}),cA=fE(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:dA}),hA=fE(function(e){return e.acos(-1)},{hasher:dA}),fA=fE(function(e){return hA(e).times(2)},{hasher:dA});function dA(e){return e[0].precision}var pA=Math.PI,mA=2*Math.PI,gA=Math.E,yA=rw("true",[],()=>!0),vA=rw("false",[],()=>!1),bA=rw("null",[],()=>null),xA=RA("Infinity",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(1/0):1/0}),wA=RA("NaN",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(NaN):NaN}),NA=RA("pi",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?hA(n):pA}),EA=RA("tau",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?fA(n):mA}),SA=RA("e",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?lA(n):gA}),MA=RA("phi",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?cA(n):1.618033988749895}),AA=RA("LN2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(2).ln():Math.LN2}),CA=RA("LN10",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(10).ln():Math.LN10}),TA=RA("LOG2E",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(1).div(new n(2).ln()):Math.LOG2E}),kA=RA("LOG10E",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(1).div(new n(10).ln()):Math.LOG10E}),IA=RA("SQRT1_2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n("0.5").sqrt():Math.SQRT1_2}),OA=RA("SQRT2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(2).sqrt():Math.SQRT2}),_A=RA("i",["Complex"],e=>{var{Complex:t}=e;return t.I}),DA=rw("version",[],()=>"10.6.4");function RA(e,t,n){return rw(e,t,n,{recreateOnConfigChange:!0})}var PA=OC("speedOfLight","299792458","m s^-1"),FA=OC("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),jA=OC("planckConstant","6.62607015e-34","J s"),LA=OC("reducedPlanckConstant","1.0545718176461565e-34","J s"),BA=OC("magneticConstant","1.25663706212e-6","N A^-2"),UA=OC("electricConstant","8.8541878128e-12","F m^-1"),zA=OC("vacuumImpedance","376.730313667","ohm"),qA=OC("coulomb","8.987551792261171e9","N m^2 C^-2"),VA=OC("elementaryCharge","1.602176634e-19","C"),HA=OC("bohrMagneton","9.2740100783e-24","J T^-1"),WA=OC("conductanceQuantum","7.748091729863649e-5","S"),KA=OC("inverseConductanceQuantum","12906.403729652257","ohm"),GA=OC("magneticFluxQuantum","2.0678338484619295e-15","Wb"),YA=OC("nuclearMagneton","5.0507837461e-27","J T^-1"),QA=OC("klitzing","25812.807459304513","ohm"),JA=OC("bohrRadius","5.29177210903e-11","m"),XA=OC("classicalElectronRadius","2.8179403262e-15","m"),ZA=OC("electronMass","9.1093837015e-31","kg"),$A=OC("fermiCoupling","1.1663787e-5","GeV^-2"),eC=_C("fineStructure",.0072973525693),tC=OC("hartreeEnergy","4.3597447222071e-18","J"),nC=OC("protonMass","1.67262192369e-27","kg"),rC=OC("deuteronMass","3.3435830926e-27","kg"),iC=OC("neutronMass","1.6749271613e-27","kg"),aC=OC("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),oC=OC("rydberg","10973731.568160","m^-1"),sC=OC("thomsonCrossSection","6.6524587321e-29","m^2"),uC=_C("weakMixingAngle",.2229),lC=_C("efimovFactor",22.7),cC=OC("atomicMass","1.66053906660e-27","kg"),hC=OC("avogadro","6.02214076e23","mol^-1"),fC=OC("boltzmann","1.380649e-23","J K^-1"),dC=OC("faraday","96485.33212331001","C mol^-1"),pC=OC("firstRadiation","3.7417718521927573e-16","W m^2"),mC=OC("loschmidt","2.686780111798444e25","m^-3"),gC=OC("gasConstant","8.31446261815324","J K^-1 mol^-1"),yC=OC("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),vC=OC("molarVolume","0.022413969545014137","m^3 mol^-1"),bC=_C("sackurTetrode",-1.16487052358),xC=OC("secondRadiation","0.014387768775039337","m K"),wC=OC("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),NC=OC("wienDisplacement","2.897771955e-3","m K"),EC=OC("molarMass","0.99999999965e-3","kg mol^-1"),SC=OC("molarMassC12","11.9999999958e-3","kg mol^-1"),MC=OC("gravity","9.80665","m s^-2"),AC=OC("planckLength","1.616255e-35","m"),CC=OC("planckMass","2.176435e-8","kg"),TC=OC("planckTime","5.391245e-44","s"),kC=OC("planckCharge","1.87554603778e-18","C"),IC=OC("planckTemperature","1.416785e+32","K");function OC(e,t,n){return rw(e,["config","Unit","BigNumber"],e=>{var{config:r,Unit:i,BigNumber:a}=e,o=new i("BigNumber"===r.number?new a(t):parseFloat(t),n);return o.fixPrefix=!0,o})}function _C(e,t){return rw(e,["config","BigNumber"],e=>{var{config:n,BigNumber:r}=e;return"BigNumber"===n.number?new r(t):t})}var DC={s:1,n:0,d:1};function RC(e,t){if(isNaN(e=parseInt(e,10)))throw zC();return e*t}function PC(e,t){if(0===t)throw UC();var n=Object.create(BC.prototype);n.s=e<0?-1:1;var r=LC(e=e<0?-e:e,t);return n.n=e/r,n.d=t/r,n}function FC(e){for(var t={},n=e,r=2,i=4;i<=n;){for(;n%r===0;)n/=r,t[r]=(t[r]||0)+1;i+=1+2*r++}return n!==e?n>1&&(t[n]=(t[n]||0)+1):t[e]=(t[e]||0)+1,t}var jC=function(e,t){var n,r=0,i=1,a=1,o=0,s=0,u=0,l=1,c=1,h=0,f=1,d=1,p=1,m=1e7;if(void 0===e||null===e);else if(void 0!==t){if(a=(r=e)*(i=t),r%1!==0||i%1!==0)throw qC()}else switch(typeof e){case"object":if("d"in e&&"n"in e)r=e.n,i=e.d,"s"in e&&(r*=e.s);else{if(!(0 in e))throw zC();r=e[0],1 in e&&(i=e[1])}a=r*i;break;case"number":if(e<0&&(a=e,e=-e),e%1===0)r=e;else if(e>0){for(e>=1&&(e/=c=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));f<=m&&p<=m;){if(e===(n=(h+d)/(f+p))){f+p<=m?(r=h+d,i=f+p):p>f?(r=d,i=p):(r=h,i=f);break}e>n?(h+=d,f+=p):(d+=h,p+=f),f>m?(r=d,i=p):(r=h,i=f)}r*=c}else(isNaN(e)||isNaN(t))&&(i=r=NaN);break;case"string":if(null===(f=e.match(/\d+|./g)))throw zC();if("-"===f[h]?(a=-1,h++):"+"===f[h]&&h++,f.length===h+1?s=RC(f[h++],a):"."===f[h+1]||"."===f[h]?("."!==f[h]&&(o=RC(f[h++],a)),(++h+1===f.length||"("===f[h+1]&&")"===f[h+3]||"'"===f[h+1]&&"'"===f[h+3])&&(s=RC(f[h],a),l=Math.pow(10,f[h].length),h++),("("===f[h]&&")"===f[h+2]||"'"===f[h]&&"'"===f[h+2])&&(u=RC(f[h+1],a),c=Math.pow(10,f[h+1].length)-1,h+=3)):"/"===f[h+1]||":"===f[h+1]?(s=RC(f[h],a),l=RC(f[h+2],1),h+=3):"/"===f[h+3]&&" "===f[h+1]&&(o=RC(f[h],a),s=RC(f[h+2],a),l=RC(f[h+4],1),h+=5),f.length<=h){a=r=u+(i=l*c)*o+c*s;break}default:throw zC()}if(0===i)throw UC();DC.s=a<0?-1:1,DC.n=Math.abs(r),DC.d=Math.abs(i)};function LC(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function BC(e,t){if(jC(e,t),!(this instanceof BC))return PC(DC.s*DC.n,DC.d);e=LC(DC.d,DC.n),this.s=DC.s,this.n=DC.n/e,this.d=DC.d/e}var UC=function(){return new Error("Division by Zero")},zC=function(){return new Error("Invalid argument")},qC=function(){return new Error("Parameters must be integer")};BC.prototype={s:1,n:0,d:1,abs:function(){return PC(this.n,this.d)},neg:function(){return PC(-this.s*this.n,this.d)},add:function(e,t){return jC(e,t),PC(this.s*this.n*DC.d+DC.s*this.d*DC.n,this.d*DC.d)},sub:function(e,t){return jC(e,t),PC(this.s*this.n*DC.d-DC.s*this.d*DC.n,this.d*DC.d)},mul:function(e,t){return jC(e,t),PC(this.s*DC.s*this.n*DC.n,this.d*DC.d)},div:function(e,t){return jC(e,t),PC(this.s*DC.s*this.n*DC.d,this.d*DC.n)},clone:function(){return PC(this.s*this.n,this.d)},mod:function(e,t){if(isNaN(this.n)||isNaN(this.d))return new BC(NaN);if(void 0===e)return PC(this.s*this.n%this.d,1);if(jC(e,t),0===DC.n&&0===this.d)throw UC();return PC(this.s*(DC.d*this.n)%(DC.n*this.d),DC.d*this.d)},gcd:function(e,t){return jC(e,t),PC(LC(DC.n,this.n)*LC(DC.d,this.d),DC.d*this.d)},lcm:function(e,t){return jC(e,t),0===DC.n&&0===this.n?PC(0,1):PC(DC.n*this.n,LC(DC.n,this.n)*LC(DC.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new BC(NaN):PC(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new BC(NaN):PC(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new BC(NaN):PC(Math.round(e*this.s*this.n/this.d),e)},roundTo:function(e,t){return jC(e,t),PC(this.s*Math.round(this.n*DC.d/(this.d*DC.n))*DC.n,DC.d)},inverse:function(){return PC(this.s*this.d,this.n)},pow:function(e,t){if(jC(e,t),1===DC.d)return DC.s<0?PC(Math.pow(this.s*this.d,DC.n),Math.pow(this.n,DC.n)):PC(Math.pow(this.s*this.n,DC.n),Math.pow(this.d,DC.n));if(this.s<0)return null;var n=FC(this.n),r=FC(this.d),i=1,a=1;for(var o in n)if("1"!==o){if("0"===o){i=0;break}if(n[o]*=DC.n,n[o]%DC.d!==0)return null;n[o]/=DC.d,i*=Math.pow(o,n[o])}for(var o in r)if("1"!==o){if(r[o]*=DC.n,r[o]%DC.d!==0)return null;r[o]/=DC.d,a*=Math.pow(o,r[o])}return DC.s<0?PC(a,i):PC(i,a)},equals:function(e,t){return jC(e,t),this.s*this.n*DC.d===DC.s*DC.n*this.d},compare:function(e,t){jC(e,t);var n=this.s*this.n*DC.d-DC.s*DC.n*this.d;return(0<n)-(n<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var t=this.abs(),n=t.toContinued(),r=1;r<n.length;r++){for(var i=PC(n[r-1],1),a=r-2;a>=0;a--)i=i.inverse().add(n[a]);if(Math.abs(i.sub(t).valueOf())<e)return i.mul(this.s)}return this},divisible:function(e,t){return jC(e,t),!(!(DC.n*this.d)||this.n*DC.d%(DC.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(t)||isNaN(n))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t=this.n,n=this.d;if(isNaN(t)||isNaN(n))return"NaN";e=e||15;var r=function(e,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>2e3)return 0;return r}(0,n),i=function(e,t,n){for(var r=1,i=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),a=0;a<300;a++){if(r===i)return a;r=10*r%t,i=10*i%t}return 0}(0,n,r),a=this.s<0?"-":"";if(a+=t/n|0,t%=n,(t*=10)&&(a+="."),r){for(var o=i;o--;)a+=t/n|0,t%=n,t*=10;a+="(";for(o=r;o--;)a+=t/n|0,t%=n,t*=10;a+=")"}else for(o=e;t&&o--;)a+=t/n|0,t%=n,t*=10;return a}};var VC=rw("Fraction",[],()=>(BC.prototype.type="Fraction",BC.prototype.isFraction=!0,BC.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},BC.fromJSON=function(e){return new BC(e)},BC),{isClass:!0}),HC=rw("Matrix",[],()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0}),WC=rw("Range",[],()=>{function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=null!==t&&void 0!==t,a=null!==n&&void 0!==n,o=null!==r&&void 0!==r;if(i)if(Lb(t))t=t.toNumber();else if("number"!==typeof t)throw new TypeError("Parameter start must be a number");if(a)if(Lb(n))n=n.toNumber();else if("number"!==typeof n)throw new TypeError("Parameter end must be a number");if(o)if(Lb(r))r=r.toNumber();else if("number"!==typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=a?parseFloat(n):0,this.step=o?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!==typeof t)return null;var n=t.split(":").map(function(e){return parseFloat(e)});if(n.some(function(e){return isNaN(e)}))return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,n=this.step,r=this.end-t;return Ex(n)===Ex(r)?e=Math.ceil(r/n):0===r&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;t<r;)e(t,[i],this),t+=n,i++;else if(n<0)for(;t>r;)e(t,[i],this),t+=n,i++},e.prototype.map=function(e){var t=[];return this.forEach(function(n,r,i){t[r[0]]=e(n,r,i)}),t},e.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=Ix(this.start,e);return 1!==this.step&&(t+=":"+Ix(this.step,e)),t+=":"+Ix(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e},{isClass:!0}),KC=rw("ResultSet",[],()=>{function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e},{isClass:!0}),GC=rw("DenseMatrix",["Matrix"],e=>{var{Matrix:t}=e;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!qb(t))throw new Error("Invalid datatype: "+t);if(Hb(e))"DenseMatrix"===e.type?(this._data=$x(e._data),this._size=$x(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&Vb(e.data)&&Vb(e.size))this._data=e.data,this._size=e.size,Mw(this._data,this._size),this._datatype=t||e.datatype;else if(Vb(e))this._data=s(e),this._size=Ew(this._data),Mw(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+wx(e)+")");this._data=[],this._size=[0],this._datatype=t}}function r(e,t,n,i){var a=i===n-1,o=t.dimension(i);return a?o.map(function(t){return Aw(t,e.length),e[t]}).valueOf():o.map(function(a){return Aw(a,e.length),r(e[a],t,n,i+1)}).valueOf()}function i(e,t,n,r,a){var o=a===r-1,s=t.dimension(a);o?s.forEach(function(t,r){Aw(t),e[t]=n[r[0]]}):s.forEach(function(o,s){Aw(o),i(e[o],t,n[s[0]],r,a+1)})}function a(e,t,n){if(0===t.length){for(var r=e._data;Vb(r);)r=r[0];return r}return e._size=t.slice(0),e._data=Cw(e._data,e._size,n),e}function o(e,t,n){for(var r=e._size.slice(0),i=!1;r.length<t.length;)r.push(0),i=!0;for(var o=0,s=t.length;o<s;o++)t[o]>r[o]&&(r[o]=t[o],i=!0);i&&a(e,r,n)}function s(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];Vb(r)?e[t]=s(r):r&&!0===r.isMatrix&&(e[t]=s(r.valueOf()))}return e}return n.prototype=new t,n.prototype.createDenseMatrix=function(e,t){return new n(e,t)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Hw(this._data,wx)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(e,t){return new n(e,t)},n.prototype.subset=function(e,t,a){switch(arguments.length){case 1:return function(e,t){if(!Qb(t))throw new TypeError("Invalid index");var i=t.isScalar();if(i)return e.get(t.min());var a=t.size();if(a.length!==e._size.length)throw new ww(a.length,e._size.length);for(var o=t.min(),s=t.max(),u=0,l=e._size.length;u<l;u++)Aw(o[u],e._size[u]),Aw(s[u],e._size[u]);return new n(r(e._data,t,a.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,s=t.size(),u=t.isScalar();Hb(n)?(a=n.size(),n=n.valueOf()):a=Ew(n);if(u){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(s.length<e._size.length)throw new ww(s.length,e._size.length,"<");if(a.length<s.length){for(var l=0,c=0;1===s[l]&&1===a[l];)l++;for(;1===s[l];)c++,l++;n=Rw(n,s.length,c,a)}if(!tw(s,a))throw new ww(s,a,">");var h=t.max().map(function(e){return e+1});o(e,h,r);var f=s.length,d=0;i(e._data,t,n,f,d)}return e}(this,e,t,a);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(e){if(!Vb(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new ww(e.length,this._size.length);for(var t=0;t<e.length;t++)Aw(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;r<i;r++){var a=e[r];Aw(a,n.length),n=n[a]}return n},n.prototype.set=function(e,t,n){if(!Vb(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new ww(e.length,this._size.length,"<");var r,i,a,s=e.map(function(e){return e+1});o(this,s,n);var u=this._data;for(r=0,i=e.length-1;r<i;r++)Aw(a=e[r],u.length),u=u[a];return Aw(a=e[e.length-1],u.length),u[a]=t,this},n.prototype.resize=function(e,t,n){if(!Wb(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);return a(n?this.clone():this,r,t)},n.prototype.reshape=function(e,t){var n=t?this.clone():this;n._data=kw(n._data,e);var r=n._size.reduce((e,t)=>e*t);return n._size=Iw(e,r),n},n.prototype.clone=function(){return new n({data:$x(this._data),size:$x(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(e){var t=this,r=function n(r,i){return Vb(r)?r.map(function(e,t){return n(e,i.concat(t))}):e(r,i,t)}(this._data,[]);return new n(r,void 0!==this._datatype?Hw(r,wx):void 0)},n.prototype.forEach=function(e){var t=this;!function n(r,i){Vb(r)?r.forEach(function(e,t){n(e,i.concat(t))}):e(r,i,t)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){yield*function*e(t,n){if(Vb(t))for(var r=0;r<t.length;r++)yield*e(t[r],n.concat(r));else yield{value:t,index:n}}(this._data,[])},n.prototype.rows=function(){var e=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var t=this._data;for(var r of t)e.push(new n([r],this._datatype));return e},n.prototype.columns=function(){var e=this,t=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,a=function(r){var a=i.map(e=>[e[r]]);t.push(new n(a,e._datatype))},o=0;o<r[1];o++)a(o);return t},n.prototype.toArray=function(){return $x(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(e){return Yx(this._data,e)},n.prototype.toString=function(){return Yx(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(e){if(e){if(Lb(e)&&(e=e.toNumber()),!jb(e)||!Nx(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=e<0?-e:0,i=this._size[0],a=this._size[1],o=Math.min(i-r,a-t),s=[],u=0;u<o;u++)s[u]=this._data[u+r][u+t];return new n({data:s,size:[o],datatype:this._datatype})},n.diagonal=function(e,t,r,i){if(!Vb(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(Lb(e)&&(e=e.toNumber()),!jb(e)||!Nx(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(Lb(r)&&(r=r.toNumber()),!jb(r)||!Nx(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var a,o=r>0?r:0,s=r<0?-r:0,u=e[0],l=e[1],c=Math.min(u-s,l-o);if(Vb(t)){if(t.length!==c)throw new Error("Invalid value array length");a=function(e){return t[e]}}else if(Hb(t)){var h=t.size();if(1!==h.length||h[0]!==c)throw new Error("Invalid matrix length");a=function(e){return t.get([e])}}else a=function(){return t};i||(i=Lb(a(0))?a(0).mul(0):0);var f=[];if(e.length>0){f=Cw(f,e,i);for(var d=0;d<c;d++)f[d+s][d+o]=a(d)}return new n({data:f,size:[u,l]})},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(e,t){if(!jb(e)||!Nx(e)||!jb(t)||!Nx(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Aw(e,this._size[0]),Aw(t,this._size[0]),n._swapRows(e,t,this._data),this},n._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},n},{isClass:!0}),YC=rw("replacer",[],()=>function(e,t){return"number"!==typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}),QC=n(556),JC=function(){return JC=QC.create,QC},XC=rw("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:n,DenseMatrix:r,Fraction:i}=e,a=JC();return a.types=[{name:"number",test:jb},{name:"Complex",test:Bb},{name:"BigNumber",test:Lb},{name:"Fraction",test:Ub},{name:"Unit",test:zb},{name:"string",test:qb},{name:"Chain",test:xx},{name:"Array",test:Vb},{name:"Matrix",test:Hb},{name:"DenseMatrix",test:Kb},{name:"SparseMatrix",test:Gb},{name:"Range",test:Yb},{name:"Index",test:Qb},{name:"boolean",test:Jb},{name:"ResultSet",test:Xb},{name:"Help",test:Zb},{name:"function",test:$b},{name:"Date",test:ex},{name:"RegExp",test:tx},{name:"null",test:rx},{name:"undefined",test:ix},{name:"AccessorNode",test:ax},{name:"ArrayNode",test:ox},{name:"AssignmentNode",test:sx},{name:"BlockNode",test:ux},{name:"ConditionalNode",test:lx},{name:"ConstantNode",test:cx},{name:"FunctionNode",test:fx},{name:"FunctionAssignmentNode",test:hx},{name:"IndexNode",test:dx},{name:"Node",test:px},{name:"ObjectNode",test:mx},{name:"OperatorNode",test:gx},{name:"ParenthesisNode",test:yx},{name:"RangeNode",test:vx},{name:"SymbolNode",test:bx},{name:"Map",test:yw},{name:"Object",test:nx}],a.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||ZC(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||$C(e),new n(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return n||$C(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||$C(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||eT(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||ZC(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){i||eT(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||$C(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||ZC(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||eT(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],a});function ZC(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function $C(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function eT(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var tT="number",nT="number, number";function rT(e){return Math.abs(e)}function iT(e,t){return e+t}function aT(e,t){return e*t}function oT(e){return-e}function sT(e){return e}function uT(e){return Cx(e)}function lT(e){return e*e*e}function cT(e){return Math.exp(e)}function hT(e){return Tx(e)}function fT(e,t){if(!Nx(e)||!Nx(t))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==t;)n=e%t,e=t,t=n;return e<0?-e:e}function dT(e,t){if(!Nx(e)||!Nx(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function pT(e){return Mx(e)}function mT(e){return Sx(e)}function gT(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function yT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t<0;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!==1)throw new Error("Root must be odd when a is negative.");if(0===e)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=e<0?-r:r,n?1/r:r}function vT(e){return Ex(e)}function bT(e){return e*e}function xT(e,t){var n,r,i,a=0,o=1,s=1,u=0;if(!Nx(e)||!Nx(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)i=e-(r=Math.floor(e/t))*t,n=a,a=o-r*a,o=n,n=s,s=u-r*s,u=n,e=t,t=i;return e<0?[-e,-o,-u]:[e,e?o:0,u]}function wT(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function NT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Nx(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(_x(e,t))}rT.signature=tT,iT.signature=nT,aT.signature=nT,oT.signature=tT,sT.signature=tT,uT.signature=tT,lT.signature=tT,cT.signature=tT,hT.signature=tT,fT.signature=nT,dT.signature=nT,pT.signature=tT,mT.signature=tT,gT.signature=nT,vT.signature=tT,bT.signature=tT,xT.signature=nT,wT.signature=nT;var ET="unaryPlus",ST=rw(ET,["typed","config","BigNumber"],e=>{var{typed:t,config:n,BigNumber:r}=e;return t(ET,{number:sT,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return MN(e,this,!0)},"boolean | string":function(e){return"BigNumber"===n.number?new r(+e):+e}})}),MT=rw("abs",["typed"],e=>{var{typed:t}=e;return t("abs",{number:rT,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return MN(e,this,!0)},Unit:function(e){return e.abs()}})}),AT="acos",CT=rw(AT,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(AT,{number:function(e){return e>=-1&&e<=1||n.predictable?Math.acos(e):new r(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return MN(e,this)}})}),TT="number";function kT(e){return Lx(e)}function IT(e){return Math.atan(1/e)}function OT(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function _T(e){return Math.asin(1/e)}function DT(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function RT(e){return Math.acos(1/e)}function PT(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function FT(e){return Bx(e)}function jT(e){return Ux(e)}function LT(e){return 1/Math.tan(e)}function BT(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function UT(e){return 1/Math.sin(e)}function zT(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*Ex(e)}function qT(e){return 1/Math.cos(e)}function VT(e){return 2/(Math.exp(e)+Math.exp(-e))}function HT(e){return qx(e)}kT.signature=TT,IT.signature=TT,OT.signature=TT,_T.signature=TT,DT.signature=TT,RT.signature=TT,PT.signature=TT,FT.signature=TT,jT.signature=TT,LT.signature=TT,BT.signature=TT,UT.signature=TT,zT.signature=TT,qT.signature=TT,VT.signature=TT,HT.signature=TT;var WT="acot",KT=rw(WT,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(WT,{number:IT,Complex:function(e){return e.acot()},BigNumber:function(e){return new n(1).div(e).atan()},"Array | Matrix":function(e){return MN(e,this)}})}),GT="acsc",YT=rw(GT,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(GT,{number:function(e){return e<=-1||e>=1||n.predictable?_T(e):new r(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new i(1).div(e).asin()},"Array | Matrix":function(e){return MN(e,this)}})}),QT="addScalar",JT=rw(QT,["typed"],e=>{var{typed:t}=e;return t(QT,{"number, number":iT,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=this(n.value,t.value),n.fixPrefix=!1,n}})}),XT=rw("arg",["typed"],e=>{var{typed:t}=e;return t("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return MN(e,this)}})}),ZT="asech",$T=rw(ZT,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(ZT,{number:function(e){if(e<=1&&e>=-1||n.predictable){var t=1/e;if(t>0||n.predictable)return PT(e);var i=Math.sqrt(t*t-1);return new r(Math.log(i-t),Math.PI)}return new r(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new i(1).div(e).acosh()},"Array | Matrix":function(e){return MN(e,this)}})}),ek=rw("asinh",["typed"],e=>{var{typed:t}=e;return t("asinh",{number:FT,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return MN(e,this,!0)}})}),tk=rw("atan",["typed"],e=>{var{typed:t}=e;return t("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return MN(e,this,!0)}})}),nk="atanh",rk=rw(nk,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(nk,{number:function(e){return e<=1&&e>=-1||n.predictable?jT(e):new r(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return MN(e,this,!0)}})}),ik=rw("bignumber",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(e){return new n(e+"")},string:function(e){var t=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(t){var r=t[2],i=n(t[1]),a=new n(2).pow(Number(r));if(i.gt(a.sub(1)))throw new SyntaxError('String "'.concat(e,'" is out of range'));var o=new n(2).pow(Number(r)-1);return i.gte(o)?i.sub(a):i}return new n(e)},BigNumber:function(e){return e},Fraction:function(e){return new n(e.n).div(e.d).times(e.s)},null:function(e){return new n(0)},"Array | Matrix":function(e){return MN(e,this)}})});function ak(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return uk(e,t,function(e,t){return e&t})}function ok(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,n=t.precision;t.config({precision:1e9});var r=e.plus(new t(1));return r.s=-r.s||null,t.config({precision:n}),r}function sk(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);var r=new n(-1);return e.isZero()||t.eq(r)||e.eq(t)?t:t.isZero()||e.eq(r)?e:e.isFinite()&&t.isFinite()?uk(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?r:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function uk(e,t,n){var r,i,a,o,s,u=e.constructor,l=+(e.s<0),c=+(t.s<0);if(l){r=lk(ok(e));for(var h=0;h<r.length;++h)r[h]^=1}else r=lk(e);if(c){i=lk(ok(t));for(var f=0;f<i.length;++f)i[f]^=1}else i=lk(t);r.length<=i.length?(a=r,o=i,s=l):(a=i,o=r,s=c);var d=a.length,p=o.length,m=1^n(l,c),g=new u(1^m),y=new u(1),v=new u(2),b=u.precision;for(u.config({precision:1e9});d>0;)n(a[--d],o[--p])===m&&(g=g.plus(y)),y=y.times(v);for(;p>0;)n(s,o[--p])===m&&(g=g.plus(y)),y=y.times(v);return u.config({precision:b}),0===m&&(g.s=-g.s),g}function lk(e){for(var t=e.d,n=t[0]+"",r=1;r<t.length;++r){for(var i=t[r]+"",a=7-i.length;a--;)i="0"+i;n+=i}for(var o=n.length;"0"===n.charAt(o);)o--;var s=e.e,u=n.slice(0,o+1||1),l=u.length;if(s>0)if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s));for(var c=[0],h=0;h<u.length;){for(var f=c.length;f--;)c[f]*=10;c[0]+=parseInt(u.charAt(h++));for(var d=0;d<c.length;++d)c[d]>1&&(null!==c[d+1]&&void 0!==c[d+1]||(c[d+1]=0),c[d+1]+=c[d]>>1,c[d]&=1)}return c.reverse()}function ck(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var r=new n(-1);return e.eq(r)?ok(t):t.eq(r)?ok(e):e.isFinite()&&t.isFinite()?uk(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new n(e.isNegative()===t.isNegative()?1/0:-1/0):r}function hk(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new n(2).pow(t)):new n(NaN)}function fk(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new n(2).pow(t)).floor():e.isNegative()?new n(-1):e.isFinite()?new n(0):new n(NaN)}var dk="number, number";function pk(e,t){if(!Nx(e)||!Nx(t))throw new Error("Integers expected in function bitAnd");return e&t}function mk(e){if(!Nx(e))throw new Error("Integer expected in function bitNot");return~e}function gk(e,t){if(!Nx(e)||!Nx(t))throw new Error("Integers expected in function bitOr");return e|t}function yk(e,t){if(!Nx(e)||!Nx(t))throw new Error("Integers expected in function bitXor");return e^t}function vk(e,t){if(!Nx(e)||!Nx(t))throw new Error("Integers expected in function leftShift");return e<<t}function bk(e,t){if(!Nx(e)||!Nx(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function xk(e,t){if(!Nx(e)||!Nx(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}pk.signature=dk,mk.signature="number",gk.signature=dk,yk.signature=dk,vk.signature=dk,bk.signature=dk,xk.signature=dk;var wk="bitNot",Nk=rw(wk,["typed"],e=>{var{typed:t}=e;return t(wk,{number:mk,BigNumber:ok,"Array | Matrix":function(e){return MN(e,this)}})}),Ek="boolean",Sk=rw(Ek,["typed"],e=>{var{typed:t}=e;return t(Ek,{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Number(e);if(""!==e&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return MN(e,this)}})}),Mk="clone",Ak=rw(Mk,["typed"],e=>{var{typed:t}=e;return t(Mk,{any:$x})});function Ck(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return Ck(e,n)*Ck(n+1,t)}function Tk(e,t){if(!Nx(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!Nx(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var n=e-t,r=1,i=2,a=t<n?t:n,o=t<n?n+1:t+1;o<=e;++o)for(r*=o;i<=a&&r%i===0;)r/=i,++i;return i<=a&&(r/=Ck(i,a)),r}Tk.signature="number, number";var kk="combinations",Ik=rw(kk,["typed"],e=>{var{typed:t}=e;return t(kk,{"number, number":Tk,"BigNumber, BigNumber":function(e,t){var n,r,i=e.constructor,a=e.minus(t),o=new i(1);if(!Ok(e)||!Ok(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(n=o,t.lt(a))for(r=o;r.lte(a);r=r.plus(o))n=n.times(t.plus(r)).dividedBy(r);else for(r=o;r.lte(t);r=r.plus(o))n=n.times(a.plus(r)).dividedBy(r);return n}})});function Ok(e){return e.isInteger()&&e.gte(0)}var _k=rw("complex",["typed","Complex"],e=>{var{typed:t,Complex:n}=e;return t("complex",{"":function(){return n.ZERO},number:function(e){return new n(e,0)},"number, number":function(e,t){return new n(e,t)},"BigNumber, BigNumber":function(e,t){return new n(e.toNumber(),t.toNumber())},Fraction:function(e){return new n(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return n(e)},null:function(e){return n(0)},Object:function(e){if("re"in e&&"im"in e)return new n(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new n(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return MN(e,this)}})}),Dk="conj",Rk=rw(Dk,["typed"],e=>{var{typed:t}=e;return t(Dk,{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return MN(e,this)}})}),Pk="cosh",Fk=rw(Pk,["typed"],e=>{var{typed:t}=e;return t(Pk,{number:zx,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),jk="coth",Lk=rw(jk,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(jk,{number:BT,Complex:function(e){return e.coth()},BigNumber:function(e){return new n(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),Bk=rw("csc",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("csc",{number:UT,Complex:function(e){return e.csc()},BigNumber:function(e){return new n(1).div(e.sin())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),Uk="cube",zk=rw(Uk,["typed"],e=>{var{typed:t}=e;return t(Uk,{number:lT,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return MN(e,this,!0)},Unit:function(e){return e.pow(3)}})});function qk(e,t,n){if(null===n||void 0===n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}var Vk="equalScalar",Hk=rw(Vk,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Vk,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return jx(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||qk(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return function(e,t,n){return jx(e.re,t.re,n)&&jx(e.im,t.im,n)}(e,t,n.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)}})}),Wk=(rw(Vk,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Vk,{"number, number":function(e,t){return jx(e,t,n.epsilon)}})}),rw("erf",["typed"],e=>{var{typed:t}=e;return t("name",{number:function(e){var t=Math.abs(e);return t>=Jk?Ex(e):t<=Kk?Ex(e)*function(e){var t,n=e*e,r=Yk[0][4]*n,i=n;for(t=0;t<3;t+=1)r=(r+Yk[0][t])*n,i=(i+Qk[0][t])*n;return e*(r+Yk[0][3])/(i+Qk[0][3])}(t):t<=4?Ex(e)*(1-function(e){var t,n=Yk[1][8]*e,r=e;for(t=0;t<7;t+=1)n=(n+Yk[1][t])*e,r=(r+Qk[1][t])*e;var i=(n+Yk[1][7])/(r+Qk[1][7]),a=parseInt(16*e)/16,o=(e-a)*(e+a);return Math.exp(-a*a)*Math.exp(-o)*i}(t)):Ex(e)*(1-function(e){var t,n=1/(e*e),r=Yk[2][5]*n,i=n;for(t=0;t<4;t+=1)r=(r+Yk[2][t])*n,i=(i+Qk[2][t])*n;var a=n*(r+Yk[2][4])/(i+Qk[2][4]);a=(Gk-a)/e,n=parseInt(16*e)/16;var o=(e-n)*(e+n);return Math.exp(-n*n)*Math.exp(-o)*a}(t))},"Array | Matrix":function(e){return MN(e,this)}})})),Kk=.46875,Gk=.5641895835477563,Yk=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Qk=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Jk=Math.pow(2,53),Xk=rw("exp",["typed"],e=>{var{typed:t}=e;return t("exp",{number:cT,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return MN(e,this)}})}),Zk="expm1",$k=rw(Zk,["typed","Complex"],e=>{var{typed:t,Complex:n}=e;return t(Zk,{number:hT,Complex:function(e){var t=Math.exp(e.re);return new n(t*Math.cos(e.im)-1,t*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return MN(e,this)}})}),eI=rw("filter",["typed"],e=>{var{typed:t}=e;return t("filter",{"Array, function":tI,"Matrix, function":function(e,t){return e.create(tI(e.toArray(),t))},"Array, RegExp":Uw,"Matrix, RegExp":function(e,t){return e.create(Uw(e.toArray(),t))}})});function tI(e,t){var n=dE(t);return Bw(e,function(e,r,i){return 1===n?t(e):2===n?t(e,[r]):t(e,[r],i)})}var nI="forEach",rI=rw(nI,["typed"],e=>{var{typed:t}=e;return t(nI,{"Array, function":iI,"Matrix, function":function(e,t){return e.forEach(t)}})});function iI(e,t){var n=dE(t);!function r(i,a){Array.isArray(i)?Lw(i,function(e,t){r(e,a.concat(t))}):1===n?t(i):2===n?t(i,a):t(i,a,e)}(e,[])}var aI="format",oI=rw(aI,["typed"],e=>{var{typed:t}=e;return t(aI,{any:Yx,"any, Object | function | number":Yx})}),sI="getMatrixDataType",uI=rw(sI,["typed"],e=>{var{typed:t}=e;return t(sI,{Array:function(e){return Hw(e,wx)},Matrix:function(e){return e.getDataType()}})}),lI=rw("hex",["typed","format"],e=>{var{typed:t,format:n}=e;return t("hex",{"number | BigNumber":function(e){return n(e,{notation:"hex"})},"number | BigNumber, number":function(e,t){return n(e,{notation:"hex",wordSize:t})}})}),cI=rw("im",["typed"],e=>{var{typed:t}=e;return t("im",{number:function(e){return 0},BigNumber:function(e){return e.mul(0)},Fraction:function(e){return e.mul(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return MN(e,this)}})}),hI="isInteger",fI=rw(hI,["typed"],e=>{var{typed:t}=e;return t(hI,{number:Nx,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return MN(e,this)}})}),dI="number";function pI(e){return e<0}function mI(e){return e>0}function gI(e){return 0===e}function yI(e){return Number.isNaN(e)}pI.signature=dI,mI.signature=dI,gI.signature=dI,yI.signature=dI;var vI="isNegative",bI=rw(vI,["typed"],e=>{var{typed:t}=e;return t(vI,{number:pI,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),xI="isPositive",wI=rw(xI,["typed"],e=>{var{typed:t}=e;return t(xI,{number:mI,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),NI="isZero",EI=rw(NI,["typed"],e=>{var{typed:t}=e;return t(NI,{number:gI,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})});function SI(e){var t;if(Nx(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:Ck(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*SI(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,i=r*e,a=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*e))}--e,t=AI[0];for(var o=1;o<AI.length;++o)t+=AI[o]/(e+o);var s=e+MI+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}SI.signature="number";var MI=4.7421875,AI=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],CI=.9189385332046728,TI=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function kI(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-kI(1-e);for(var t=(e-=1)+5+.5,n=TI[0],r=6;r>=1;r--)n+=TI[r]/(e+r);return CI+(e+.5)*Math.log(t)-t+Math.log(n)}kI.signature="number";var II="lgamma",OI=rw(II,["Complex","typed"],e=>{var{Complex:t,typed:n}=e,r=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return n(II,{number:kI,Complex:function(e){if(e.isNaN())return new t(NaN,NaN);if(0===e.im)return new t(kI(e.re),0);if(e.re>=7||Math.abs(e.im)>=7)return i(e);if(e.re<=.1){var n=function(e,t){return(e>0||!(e<0)&&1/e===1/0)^(t>0||!(t<0)&&1/t===1/0)?-e:e}(6.283185307179586,e.im)*Math.floor(.5*e.re+.25),r=e.mul(Math.PI).sin().log(),o=this(new t(1-e.re,-e.im));return new t(1.1447298858494002,n).sub(r).sub(o)}return e.im>=0?a(e):a(e.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function i(e){for(var n=e.sub(.5).mul(e.log()).sub(e).add(CI),i=new t(1,0).div(e),a=i.div(e),o=r[0],s=r[1],u=2*a.re,l=a.re*a.re+a.im*a.im,c=2;c<8;c++){var h=s;s=-l*o+r[c],o=u*o+h}var f=i.mul(a.mul(o).add(s));return n.add(f)}function a(e){var n=0,r=0,a=e;for(e=e.add(1);e.re<=7;){var o=(a=a.mul(e)).im<0?1:0;0!==o&&0===r&&n++,r=o,e=e.add(1)}return i(e).sub(a.log()).sub(new t(0,2*n*Math.PI*1))}}),_I="log10",DI=rw(_I,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(_I,{number:function(e){return e>=0||n.predictable?pT(e):new r(e,0).log().div(Math.LN10)},Complex:function(e){return new r(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||n.predictable?e.log():new r(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return MN(e,this)}})}),RI="log2",PI=rw(RI,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(RI,{number:function(e){return e>=0||n.predictable?mT(e):i(new r(e,0))},Complex:i,BigNumber:function(e){return!e.isNegative()||n.predictable?e.log(2):i(new r(e.toNumber(),0))},"Array | Matrix":function(e){return MN(e,this)}});function i(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new r(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}}),FI=rw("map",["typed"],e=>{var{typed:t}=e;return t("map",{"Array, function":jI,"Matrix, function":function(e,t){return e.map(t)}})});function jI(e,t){var n=dE(t);return function r(i,a){if(Array.isArray(i))return i.map(function(e,t){return r(e,a.concat(t))});try{return 1===n?t(i):2===n?t(i,a):t(i,a,e)}catch(u){if(u instanceof TypeError&&"data"in u&&"wrongType"===u.data.category){var o="map attempted to call '".concat(u.data.fn,"(").concat(i),s=JSON.stringify(a);throw 2===n?o+=","+s:1!==n&&(o+=",".concat(s,",").concat(e)),o+=")' but argument ".concat(u.data.index+1," of type "),o+="".concat(u.data.actual," does not match expected type "),o+=u.data.expected.join(" or "),new TypeError(o)}throw u}}(e,[])}var LI=rw("multiplyScalar",["typed"],e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":aT,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var n=t.clone();return n.value=null===n.value?n._normalize(e):this(n.value,e),n},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var n=e.clone();return n.value=null===n.value?n._normalize(t):this(n.value,t),n},"Unit, Unit":function(e,t){return e.multiply(t)}})}),BI="number, number";function UI(e){return!e}function zI(e,t){return!(!e&&!t)}function qI(e,t){return!!e!==!!t}function VI(e,t){return!(!e||!t)}UI.signature="number",zI.signature=BI,qI.signature=BI,VI.signature=BI;var HI=rw("not",["typed"],e=>{var{typed:t}=e;return t("not",{number:UI,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})});var WI=rw("number",["typed"],e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=function(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return t?{input:e,radix:{"0b":2,"0o":8,"0x":16}[t[1]],integerPart:t[2],fractionalPart:t[3]}:null}(e);if(t)return function(e){for(var t=parseInt(e.integerPart,e.radix),n=0,r=0;r<e.fractionalPart.length;r++)n+=parseInt(e.fractionalPart[r],e.radix)/Math.pow(e.radix,r+1);var i=t+n;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is no valid number');return i}(t);var n=0,r=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);r&&(n=Number(r[2]),e=r[1]);var i=Number(e);if(isNaN(i))throw new SyntaxError('String "'+e+'" is no valid number');if(r){if(i>2**n-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));i>=2**(n-1)&&(i-=2**n)}return i},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return MN(e,this)}});return n.fromJSON=function(e){return parseFloat(e.value)},n}),KI=rw("oct",["typed","format"],e=>{var{typed:t,format:n}=e;return t("oct",{"number | BigNumber":function(e){return n(e,{notation:"oct"})},"number | BigNumber, number":function(e,t){return n(e,{notation:"oct",wordSize:t})}})}),GI=n(334),YI=GI(Date.now());function QI(e){var t,n;return t=null===(n=e)?YI:GI(String(n)),function(){return t()}}var JI="pickRandom",XI=rw(JI,["typed","config","?on"],e=>{var{typed:t,config:n,on:r}=e,i=QI(n.randomSeed);return r&&r("config",function(e,t){e.randomSeed!==t.randomSeed&&(i=QI(e.randomSeed))}),t(JI,{"Array | Matrix":function(e){return a(e,{})},"Array | Matrix, Object":function(e,t){return a(e,t)},"Array | Matrix, number":function(e,t){return a(e,{number:t})},"Array | Matrix, Array | Matrix":function(e,t){return a(e,{weights:t})},"Array | Matrix, Array | Matrix, number":function(e,t,n){return a(e,{number:n,weights:t})},"Array | Matrix, number, Array | Matrix":function(e,t,n){return a(e,{number:t,weights:n})}});function a(e,t){var{number:n,weights:r,elementWise:a=!0}=t,o="undefined"===typeof n;o&&(n=1);var s=Hb(e)?e.create:Hb(r)?r.create:null;e=e.valueOf(),r&&(r=r.valueOf()),!0===a&&(e=Fw(e),r=Fw(r));var u=0;if("undefined"!==typeof r){if(r.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var l=0,c=r.length;l<c;l++){if(!jb(r[l])||r[l]<0)throw new Error("Weights must be an array of positive numbers");u+=r[l]}}for(var h,f=e.length,d=[];d.length<n;){if("undefined"===typeof r)h=e[Math.floor(i()*f)];else for(var p=i()*u,m=0,g=e.length;m<g;m++)if((p-=r[m])<0){h=e[m];break}d.push(h)}return o?d[0]:s?s(d):d}}),ZI="print",$I=rw(ZI,["typed"],e=>{var{typed:t}=e;return t(ZI,{"string, Object | Array":eO,"string, Object | Array, number | Object":eO})});function eO(e,t,n){return e.replace(/\$([\w.]+)/g,function(e,r){for(var i=r.split("."),a=t[i.shift()];i.length&&void 0!==a;){var o=i.shift();a=o?a[o]:a+"."}return void 0!==a?qb(a)?a:Yx(a,n):e})}function tO(e,t){var n=[];if((e=e.slice(0)).length>1)for(var r=0,i=e.shift();r<i;r++)n.push(tO(e,t));else for(var a=0,o=e.shift();a<o;a++)n.push(t());return n}var nO="random",rO=rw(nO,["typed","config","?on"],e=>{var{typed:t,config:n,on:r}=e,i=QI(n.randomSeed);return r&&r("config",function(e,t){e.randomSeed!==t.randomSeed&&(i=QI(e.randomSeed))}),t(nO,{"":()=>o(0,1),number:e=>o(0,e),"number, number":(e,t)=>o(e,t),"Array | Matrix":e=>a(e,0,1),"Array | Matrix, number":(e,t)=>a(e,0,t),"Array | Matrix, number, number":(e,t,n)=>a(e,t,n)});function a(e,t,n){var r=tO(e.valueOf(),()=>o(t,n));return Hb(e)?e.create(r):r}function o(e,t){return e+i()*(t-e)}}),iO=rw("re",["typed"],e=>{var{typed:t}=e;return t("re",{number:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return MN(e,this)}})}),aO=rw("sec",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("sec",{number:qT,Complex:function(e){return e.sec()},BigNumber:function(e){return new n(1).div(e.cos())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),oO="sign",sO=rw(oO,["typed","BigNumber","Fraction","complex"],e=>{var{typed:t,BigNumber:n,complex:r,Fraction:i}=e;return t(oO,{number:vT,Complex:function(e){return 0===e.im?r(vT(e.re)):e.sign()},BigNumber:function(e){return new n(e.cmp(0))},Fraction:function(e){return new i(e.s,1)},"Array | Matrix":function(e){return MN(e,this,!0)},Unit:function(e){if(!e._isDerived()&&0!==e.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return this(e.value)}})}),uO=rw("sin",["typed"],e=>{var{typed:t}=e;return t("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this,!0)}})}),lO=rw("SparseMatrix",["typed","equalScalar","Matrix"],e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!qb(t))throw new Error("Invalid datatype: "+t);if(Hb(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?$x(t._values):void 0,e._index=$x(t._index),e._ptr=$x(t._ptr),e._size=$x(t._size),e._datatype=n||t._datatype):a(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&Vb(e.index)&&Vb(e.ptr)&&Vb(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(Vb(e))a(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+wx(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function a(e,r,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var a=r.length,o=0,s=n,u=0;if(qb(i)&&(s=t.find(n,[i,i])||n,u=t.convert(0,i)),a>0){var l=0;do{e._ptr.push(e._index.length);for(var c=0;c<a;c++){var h=r[c];if(Vb(h)){if(0===l&&o<h.length&&(o=h.length),l<h.length){var f=h[l];s(f,u)||(e._values.push(f),e._index.push(c))}}else 0===l&&o<1&&(o=1),s(h,u)||(e._values.push(h),e._index.push(c))}l++}while(l<o)}e._ptr.push(e._index.length),e._size=[a,o]}function o(e,t,n,r){if(n-t===0)return n;for(var i=t;i<n;i++)if(r[i]===e)return i;return t}function s(e,t,n,r,i,a,o){i.splice(e,0,r),a.splice(e,0,t);for(var s=n+1;s<o.length;s++)o[s]++}function u(e,r,i,a){var o=a||0,s=n,u=0;qb(e._datatype)&&(s=t.find(n,[e._datatype,e._datatype])||n,u=t.convert(0,e._datatype),o=t.convert(o,e._datatype));var l,c,h,f=!s(o,u),d=e._size[0],p=e._size[1];if(i>p){for(c=p;c<i;c++)if(e._ptr[c]=e._values.length,f)for(l=0;l<d;l++)e._values.push(o),e._index.push(l);e._ptr[i]=e._values.length}else i<p&&(e._ptr.splice(i+1,p-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(p=i,r>d){if(f){var m=0;for(c=0;c<p;c++){e._ptr[c]=e._ptr[c]+m,h=e._ptr[c+1]+m;var g=0;for(l=d;l<r;l++,g++)e._values.splice(h+g,0,o),e._index.splice(h+g,0,l),m++}e._ptr[p]=e._values.length}}else if(r<d){var y=0;for(c=0;c<p;c++){e._ptr[c]=e._ptr[c]-y;var v=e._ptr[c],b=e._ptr[c+1]-y;for(h=v;h<b;h++)(l=e._index[h])>r-1&&(e._values.splice(h,1),e._index.splice(h,1),y++)}e._ptr[c]=e._values.length}return e._size[0]=r,e._size[1]=i,e}function l(e,t,n,r,i){var a,o,s=r[0],u=r[1],l=[];for(a=0;a<s;a++)for(l[a]=[],o=0;o<u;o++)l[a][o]=0;for(o=0;o<u;o++)for(var c=n[o],h=n[o+1],f=c;f<h;f++)l[a=t[f]][o]=e?i?$x(e[f]):e[f]:1;return l}return i.prototype=new r,i.prototype.createSparseMatrix=function(e,t){return new i(e,t)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Hw(this._values,wx)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(e,t){return new i(e,t)},i.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},i.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,t){if(!Qb(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,r,a,o,s=t.size();if(s.length!==e._size.length)throw new ww(s.length,e._size.length);var u=t.min(),l=t.max();for(n=0,r=e._size.length;n<r;n++)Aw(u[n],e._size[n]),Aw(l[n],e._size[n]);var c=e._values,h=e._index,f=e._ptr,d=t.dimension(0),p=t.dimension(1),m=[],g=[];d.forEach(function(e,t){g[e]=t[0],m[e]=!0});var y=c?[]:void 0,v=[],b=[];return p.forEach(function(e){for(b.push(v.length),a=f[e],o=f[e+1];a<o;a++)n=h[a],!0===m[n]&&(v.push(g[n]),y&&y.push(c[a]))}),b.push(v.length),new i({values:y,index:v,ptr:b,size:s,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,a=t.size(),o=t.isScalar();Hb(n)?(i=n.size(),n=n.toArray()):i=Ew(n);if(o){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==a.length&&2!==a.length)throw new ww(a.length,e._size.length,"<");if(i.length<a.length){for(var s=0,u=0;1===a[s]&&1===i[s];)s++;for(;1===a[s];)u++,s++;n=Rw(n,a.length,u,i)}if(!tw(a,i))throw new ww(a,i,">");if(1===a.length){t.dimension(0).forEach(function(t,i){Aw(t),e.set([t,0],n[i[0]],r)})}else{var l=t.dimension(0),c=t.dimension(1);l.forEach(function(t,i){Aw(t),c.forEach(function(a,o){Aw(a),e.set([t,a],n[i[0]][o[0]],r)})})}}return e}(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(e){if(!Vb(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new ww(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];Aw(t,this._size[0]),Aw(n,this._size[1]);var r=o(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},i.prototype.set=function(e,r,i){if(!Vb(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new ww(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var a=e[0],l=e[1],c=this._size[0],h=this._size[1],f=n,d=0;qb(this._datatype)&&(f=t.find(n,[this._datatype,this._datatype])||n,d=t.convert(0,this._datatype)),(a>c-1||l>h-1)&&(u(this,Math.max(a+1,c),Math.max(l+1,h),i),c=this._size[0],h=this._size[1]),Aw(a,c),Aw(l,h);var p=o(a,this._ptr[l],this._ptr[l+1],this._index);return p<this._ptr[l+1]&&this._index[p]===a?f(r,d)?function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var a=t+1;a<i.length;a++)i[a]--}(p,l,this._values,this._index,this._ptr):this._values[p]=r:s(p,a,l,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(e,t,n){if(!Wb(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach(function(e){if(!jb(e)||!Nx(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Yx(r)+")")}),u(n?this.clone():this,r[0],r[1],t)},i.prototype.reshape=function(e,t){if(!Vb(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");e.forEach(function(t){if(!jb(t)||!Nx(t)||t<=-2||0===t)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Yx(e)+")")});var n=this._size[0]*this._size[1];if(n!==(e=Iw(e,n))[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var i=[],a=0;a<r._ptr.length;a++)for(var u=0;u<r._ptr[a+1]-r._ptr[a];u++)i.push(a);for(var l=r._values.slice(),c=r._index.slice(),h=0;h<r._index.length;h++){var f=c[h],d=i[h],p=f*r._size[1]+d;i[h]=p%e[1],c[h]=Math.floor(p/e[1])}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var m=0;m<r._ptr.length;m++)r._ptr[m]=0;for(var g=0;g<l.length;g++){var y=c[g],v=i[g],b=l[g];s(o(y,r._ptr[v],r._ptr[v+1],r._index),y,v,b,r._values,r._index,r._ptr)}return r},i.prototype.clone=function(){return new i({values:this._values?$x(this._values):void 0,index:$x(this._index),ptr:$x(this._ptr),size:$x(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(e,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var a=this;return function(e,r,a,o,s,u,l){var c=[],h=[],f=[],d=n,p=0;qb(e._datatype)&&(d=t.find(n,[e._datatype,e._datatype])||n,p=t.convert(0,e._datatype));for(var m=function(e,t,n){e=u(e,t,n),d(e,p)||(c.push(e),h.push(t))},g=o;g<=s;g++){f.push(c.length);var y=e._ptr[g],v=e._ptr[g+1];if(l)for(var b=y;b<v;b++){var x=e._index[b];x>=r&&x<=a&&m(e._values[b],x-r,g-o)}else{for(var w={},N=y;N<v;N++){w[e._index[N]]=e._values[N]}for(var E=r;E<=a;E++){m(E in w?w[E]:0,E-r,g-o)}}}return f.push(c.length),new i({values:c,index:h,ptr:f,size:[a-r+1,s-o+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(t,n,r){return e(t,[n,r],a)},r)},i.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var a=this._ptr[i],o=this._ptr[i+1];if(t)for(var s=a;s<o;s++){var u=this._index[s];e(this._values[s],[u,i],this)}else{for(var l={},c=a;c<o;c++){l[this._index[c]]=this._values[c]}for(var h=0;h<n;h++){e(h in l?l[h]:0,[h,i],this)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],t=0;t<e;t++)for(var n=this._ptr[t],r=this._ptr[t+1],i=n;i<r;i++){var a=this._index[i];yield{value:this._values[i],index:[a,t]}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+Yx(t,e)+" x "+Yx(n,e)+"] density: "+Yx(r,e)+"\n",a=0;a<n;a++)for(var o=this._ptr[a],s=this._ptr[a+1],u=o;u<s;u++){i+="\n    ("+Yx(this._index[u],e)+", "+Yx(a,e)+") ==> "+(this._values?Yx(this._values[u],e):"X")}return i},i.prototype.toString=function(){return Yx(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(e){if(e){if(Lb(e)&&(e=e.toNumber()),!jb(e)||!Nx(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,r=this._size[0],a=this._size[1],o=Math.min(r-n,a-t),s=[],u=[],l=[];l[0]=0;for(var c=t;c<a&&s.length<o;c++)for(var h=this._ptr[c],f=this._ptr[c+1],d=h;d<f;d++){var p=this._index[d];if(p===c-t+n){s.push(this._values[d]),u[s.length-1]=p-n;break}}return l.push(s.length),new i({values:s,index:u,ptr:l,size:[o,1]})},i.fromJSON=function(e){return new i(e)},i.diagonal=function(e,r,a,o,s){if(!Vb(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(Lb(e)&&(e=e.toNumber()),!jb(e)||!Nx(e)||e<1)throw new Error("Size values must be positive integers");return e}),a){if(Lb(a)&&(a=a.toNumber()),!jb(a)||!Nx(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var u=n,l=0;qb(s)&&(u=t.find(n,[s,s])||n,l=t.convert(0,s));var c,h=a>0?a:0,f=a<0?-a:0,d=e[0],p=e[1],m=Math.min(d-f,p-h);if(Vb(r)){if(r.length!==m)throw new Error("Invalid value array length");c=function(e){return r[e]}}else if(Hb(r)){var g=r.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");c=function(e){return r.get([e])}}else c=function(){return r};for(var y=[],v=[],b=[],x=0;x<p;x++){b.push(y.length);var w=x-h;if(w>=0&&w<m){var N=c(w);u(N,l)||(v.push(w+f),y.push(N))}}return b.push(y.length),new i({values:y,index:v,ptr:b,size:[d,p]})},i.prototype.swapRows=function(e,t){if(!jb(e)||!Nx(e)||!jb(t)||!Nx(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Aw(e,this._size[0]),Aw(t,this._size[0]),i._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(e,t,n,r,i){for(var a=r[e],o=r[e+1],s=a;s<o;s++)i(n[s],t[s])},i._swapRows=function(e,t,n,r,i,a){for(var s=0;s<n;s++){var u=a[s],l=a[s+1],c=o(e,u,l,i),h=o(t,u,l,i);if(c<l&&h<l&&i[c]===e&&i[h]===t){if(r){var f=r[c];r[c]=r[h],r[h]=f}}else if(c<l&&i[c]===e&&(h>=l||i[h]!==t)){var d=r?r[c]:void 0;i.splice(h,0,t),r&&r.splice(h,0,d),i.splice(h<=c?c+1:c,1),r&&r.splice(h<=c?c+1:c,1)}else if(h<l&&i[h]===t&&(c>=l||i[c]!==e)){var p=r?r[h]:void 0;i.splice(c,0,e),r&&r.splice(c,0,p),i.splice(c<=h?h+1:h,1),r&&r.splice(c<=h?h+1:h,1)}}},i},{isClass:!0}),cO="splitUnit",hO=rw(cO,["typed"],e=>{var{typed:t}=e;return t(cO,{"Unit, Array":function(e,t){return e.splitUnit(t)}})}),fO="square",dO=rw(fO,["typed"],e=>{var{typed:t}=e;return t(fO,{number:bT,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return MN(e,this,!0)},Unit:function(e){return e.pow(2)}})}),pO="string",mO=rw(pO,["typed"],e=>{var{typed:t}=e;return t(pO,{"":function(){return""},number:Ix,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return MN(e,this)},any:function(e){return String(e)}})}),gO=rw("tan",["typed"],e=>{var{typed:t}=e;return t("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this,!0)}})}),yO="typeOf",vO=rw(yO,["typed"],e=>{var{typed:t}=e;return t(yO,{any:wx})}),bO="acosh",xO=rw(bO,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(bO,{number:function(e){return e>=1||n.predictable?kT(e):e<=-1?new r(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new r(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return MN(e,this)}})}),wO="acsch",NO=rw(wO,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(wO,{number:DT,Complex:function(e){return e.acsch()},BigNumber:function(e){return new n(1).div(e).asinh()},"Array | Matrix":function(e){return MN(e,this)}})}),EO="asec",SO=rw(EO,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(EO,{number:function(e){return e<=-1||e>=1||n.predictable?RT(e):new r(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new i(1).div(e).acos()},"Array | Matrix":function(e){return MN(e,this)}})}),MO=rw("bin",["typed","format"],e=>{var{typed:t,format:n}=e;return t("bin",{"number | BigNumber":function(e){return n(e,{notation:"bin"})},"number | BigNumber, number":function(e,t){return n(e,{notation:"bin",wordSize:t})}})}),AO="combinationsWithRep",CO=rw(AO,["typed"],e=>{var{typed:t}=e;return t(AO,{"number, number":function(e,t){if(!Nx(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Nx(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?Ck(e,e+t-1)/Ck(1,t):Ck(t+1,e+t-1)/Ck(1,e-1)},"BigNumber, BigNumber":function(e,t){var n,r,i=new(0,e.constructor)(1),a=e.minus(i);if(!TO(e)||!TO(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(n=i,t.lt(a))for(r=i;r.lte(a);r=r.plus(i))n=n.times(t.plus(r)).dividedBy(r);else for(r=i;r.lte(t);r=r.plus(i))n=n.times(a.plus(r)).dividedBy(r);return n}})});function TO(e){return e.isInteger()&&e.gte(0)}var kO=rw("cos",["typed"],e=>{var{typed:t}=e;return t("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),IO="csch",OO=rw(IO,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(IO,{number:zT,Complex:function(e){return e.csch()},BigNumber:function(e){return new n(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),_O="isNaN",DO=rw(_O,["typed"],e=>{var{typed:t}=e;return t(_O,{number:yI,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return MN(e,Number.isNaN)}})}),RO="isPrime",PO=rw(RO,["typed"],e=>{var{typed:t}=e;return t(RO,{number:function(e){if(0*e!==0)return!1;if(e<=3)return e>1;if(e%2===0||e%3===0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t===0||e%(t+2)===0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!==0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;if(e.lt(Math.pow(2,32))){for(var t=e.toNumber(),n=5;n*n<=t;n+=6)if(t%n===0||t%(n+2)===0)return!1;return!0}function r(e,t,n){for(var r=1;!t.eq(0);)t.mod(2).eq(0)?(t=t.div(2),e=e.mul(e).mod(n)):(t=t.sub(1),r=e.mul(r).mod(n));return r}for(var i=e.constructor.clone({precision:2*e.toFixed(0).length}),a=0,o=(e=new i(e)).sub(1);o.mod(2).eq(0);)o=o.div(2),a+=1;var s=null;if(e.lt("3317044064679887385961981"))s=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(t=>t<e);else{var u=Math.min(e.toNumber()-2,Math.floor(2*Math.pow(e.toFixed(0).length*Math.log(10),2)));s=[];for(var l=2;l<=u;l+=1)s.push(u)}for(var c=0;c<s.length;c+=1){var h=s[c],f=r(e.sub(e).add(h),o,e);if(!f.eq(1))for(var d=0,p=f;!p.eq(e.sub(1));d+=1,p=p.mul(p).mod(e))if(d===a-1)return!1}return!0},"Array | Matrix":function(e){return MN(e,this)}})}),FO="randomInt",jO=rw(FO,["typed","config","?on"],e=>{var{typed:t,config:n,on:r}=e,i=QI(n.randomSeed);return r&&r("config",function(e,t){e.randomSeed!==t.randomSeed&&(i=QI(e.randomSeed))}),t(FO,{"":()=>o(0,1),number:e=>o(0,e),"number, number":(e,t)=>o(e,t),"Array | Matrix":e=>a(e,0,1),"Array | Matrix, number":(e,t)=>a(e,0,t),"Array | Matrix, number, number":(e,t,n)=>a(e,t,n)});function a(e,t,n){var r=tO(e.valueOf(),()=>o(t,n));return Hb(e)?e.create(r):r}function o(e,t){return Math.floor(e+i()*(t-e))}}),LO="sech",BO=rw(LO,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(LO,{number:VT,Complex:function(e){return e.sech()},BigNumber:function(e){return new n(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),UO="sinh",zO=rw(UO,["typed"],e=>{var{typed:t}=e;return t(UO,{number:HT,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this,!0)}})}),qO="sparse",VO=rw(qO,["typed","SparseMatrix"],e=>{var{typed:t,SparseMatrix:n}=e;return t(qO,{"":function(){return new n([])},string:function(e){return new n([],e)},"Array | Matrix":function(e){return new n(e)},"Array | Matrix, string":function(e,t){return new n(e,t)}})}),HO=rw("sqrt",["config","typed","Complex"],e=>{var{config:t,typed:n,Complex:r}=e;return n("sqrt",{number:i,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():i(e.toNumber())},"Array | Matrix":function(e){return MN(e,this,!0)},Unit:function(e){return e.pow(.5)}});function i(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new r(e,0).sqrt()}}),WO=rw("tanh",["typed"],e=>{var{typed:t}=e;return t("tanh",{number:Vx,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this,!0)}})}),KO="unaryMinus",GO=rw(KO,["typed"],e=>{var{typed:t}=e;return t(KO,{number:oT,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=this(e.value),t},"Array | Matrix":function(e){return MN(e,this,!0)}})}),YO="acoth",QO=rw(YO,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(YO,{number:function(e){return e>=1||e<=-1||n.predictable?OT(e):new r(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new i(1).div(e).atanh()},"Array | Matrix":function(e){return MN(e,this)}})}),JO=rw("cot",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("cot",{number:LT,Complex:function(e){return e.cot()},BigNumber:function(e){return new n(1).div(e.tan())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(e.value)},"Array | Matrix":function(e){return MN(e,this)}})}),XO=rw("fraction",["typed","Fraction"],e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new n(e)},string:function(e){return new n(e)},"number, number":function(e,t){return new n(e,t)},null:function(e){return new n(0)},BigNumber:function(e){return new n(e.toString())},Fraction:function(e){return e},Object:function(e){return new n(e)},"Array | Matrix":function(e){return MN(e,this)}})}),ZO="isNumeric",$O=rw(ZO,["typed"],e=>{var{typed:t}=e;return t(ZO,{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return MN(e,this)}})}),e_="matrix",t_=rw(e_,["typed","Matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(e_,{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(e,t,n){if("dense"===t||"default"===t||void 0===t)return new r(e,n);if("sparse"===t)return new i(e,n);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}),n_="matrixFromFunction",r_=rw(n_,["typed","matrix","isZero"],e=>{var{typed:t,matrix:n,isZero:r}=e;return t(n_,{"Array | Matrix, function, string, string":function(e,t,n,r){return i(e,t,n,r)},"Array | Matrix, function, string":function(e,t,n){return i(e,t,n)},"Matrix, function":function(e,t){return i(e,t,"dense")},"Array, function":function(e,t){return i(e,t,"dense").toArray()},"Array | Matrix, string, function":function(e,t,n){return i(e,n,t)},"Array | Matrix, string, string, function":function(e,t,n,r){return i(e,r,t,n)}});function i(e,t,i,a){var o;return(o=void 0!==a?n(i,a):n(i)).resize(e),o.forEach(function(e,n){var i=t(n);r(i)||o.set(n,i)}),o}}),i_=rw("algorithm02",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i,a){var o=e._data,s=e._size,u=e._datatype,l=r._values,c=r._index,h=r._ptr,f=r._size,d=r._datatype;if(s.length!==f.length)throw new ww(s.length,f.length);if(s[0]!==f[0]||s[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,m=s[0],g=s[1],y=n,v=0,b=i;"string"===typeof u&&u===d&&(p=u,y=t.find(n,[p,p]),v=t.convert(0,p),b=t.find(i,[p,p]));for(var x=[],w=[],N=[],E=0;E<g;E++){N[E]=w.length;for(var S=h[E],M=h[E+1],A=S;A<M;A++){var C=c[A],T=a?b(l[A],o[C][E]):b(o[C][E],l[A]);y(T,v)||(w.push(C),x.push(T))}}return N[g]=w.length,r.createSparseMatrix({values:x,index:w,ptr:N,size:[m,g],datatype:p})}}),a_=rw("algorithm03",["typed"],e=>{var{typed:t}=e;return function(e,n,r,i){var a=e._data,o=e._size,s=e._datatype,u=n._values,l=n._index,c=n._ptr,h=n._size,f=n._datatype;if(o.length!==h.length)throw new ww(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,p=o[0],m=o[1],g=0,y=r;"string"===typeof s&&s===f&&(d=s,g=t.convert(0,d),y=t.find(r,[d,d]));for(var v=[],b=0;b<p;b++)v[b]=[];for(var x=[],w=[],N=0;N<m;N++){for(var E=N+1,S=c[N],M=c[N+1],A=S;A<M;A++){var C=l[A];x[C]=i?y(u[A],a[C][N]):y(a[C][N],u[A]),w[C]=E}for(var T=0;T<p;T++)w[T]===E?v[T][N]=x[T]:v[T][N]=i?y(g,a[T][N]):y(a[T][N],g)}return e.createDenseMatrix({data:v,size:[p,m],datatype:d})}}),o_=rw("algorithm05",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._index,s=e._ptr,u=e._size,l=e._datatype,c=r._values,h=r._index,f=r._ptr,d=r._size,p=r._datatype;if(u.length!==d.length)throw new ww(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var m,g=u[0],y=u[1],v=n,b=0,x=i;"string"===typeof l&&l===p&&(m=l,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));var w,N,E,S,M=a&&c?[]:void 0,A=[],C=[],T=M?[]:void 0,k=M?[]:void 0,I=[],O=[];for(N=0;N<y;N++){C[N]=A.length;var _=N+1;for(E=s[N],S=s[N+1];E<S;E++)w=o[E],A.push(w),I[w]=_,T&&(T[w]=a[E]);for(E=f[N],S=f[N+1];E<S;E++)I[w=h[E]]!==_&&A.push(w),O[w]=_,k&&(k[w]=c[E]);if(M)for(E=C[N];E<A.length;){var D=I[w=A[E]],R=O[w];if(D===_||R===_){var P=x(D===_?T[w]:b,R===_?k[w]:b);v(P,b)?A.splice(E,1):(M.push(P),E++)}}}return C[y]=A.length,e.createSparseMatrix({values:M,index:A,ptr:C,size:[g,y],datatype:m})}}),s_=rw("algorithm11",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i,a){var o=e._values,s=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=l[0],d=l[1],p=n,m=0,g=i;"string"===typeof c&&(h=c,p=t.find(n,[h,h]),m=t.convert(0,h),r=t.convert(r,h),g=t.find(i,[h,h]));for(var y=[],v=[],b=[],x=0;x<d;x++){b[x]=v.length;for(var w=u[x],N=u[x+1],E=w;E<N;E++){var S=s[E],M=a?g(r,o[E]):g(o[E],r);p(M,m)||(v.push(S),y.push(M))}}return b[d]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[f,d],datatype:h})}}),u_=rw("algorithm12",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,r,i,a){var o=e._values,s=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=l[0],d=l[1],p=i;"string"===typeof c&&(h=c,r=t.convert(r,h),p=t.find(i,[h,h]));for(var m=[],g=[],y=[],v=0;v<d;v++){for(var b=v+1,x=u[v],w=u[v+1],N=x;N<w;N++){var E=s[N];g[E]=o[N],y[E]=b}for(var S=0;S<f;S++)0===v&&(m[S]=[]),y[S]===b?m[S][v]=a?p(r,g[S]):p(g[S],r):m[S][v]=a?p(r,0):p(0,r)}return new n({data:m,size:[f,d],datatype:h})}}),l_=rw("algorithm13",["typed"],e=>{var{typed:t}=e;return function(e,r,i){var a,o=e._data,s=e._size,u=e._datatype,l=r._data,c=r._size,h=r._datatype,f=[];if(s.length!==c.length)throw new ww(s.length,c.length);for(var d=0;d<s.length;d++){if(s[d]!==c[d])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");f[d]=s[d]}var p=i;"string"===typeof u&&u===h&&(a=u,p=t.find(i,[a,a]));var m=f.length>0?n(p,0,f,f[0],o,l):[];return e.createDenseMatrix({data:m,size:f,datatype:a})};function n(e,t,r,i,a,o){var s=[];if(t===r.length-1)for(var u=0;u<i;u++)s[u]=e(a[u],o[u]);else for(var l=0;l<i;l++)s[l]=n(e,t+1,r,r[t+1],a[l],o[l]);return s}}),c_=rw("algorithm14",["typed"],e=>{var{typed:t}=e;return function(e,r,i,a){var o,s=e._data,u=e._size,l=e._datatype,c=i;"string"===typeof l&&(o=l,r=t.convert(r,o),c=t.find(i,[o,o]));var h=u.length>0?n(c,0,u,u[0],s,r,a):[];return e.createDenseMatrix({data:h,size:$x(u),datatype:o})};function n(e,t,r,i,a,o,s){var u=[];if(t===r.length-1)for(var l=0;l<i;l++)u[l]=s?e(o,a[l]):e(a[l],o);else for(var c=0;c<i;c++)u[c]=n(e,t+1,r,r[t+1],a[c],o,s);return u}}),h_=rw("mod",["typed","matrix","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i}=e,a=i_({typed:t,equalScalar:r}),o=a_({typed:t}),s=o_({typed:t,equalScalar:r}),u=s_({typed:t,equalScalar:r}),l=u_({typed:t,DenseMatrix:i}),c=l_({typed:t}),h=c_({typed:t});return t("mod",{"number, number":gT,"BigNumber, BigNumber":function(e,t){if(t.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){if(t.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return e.compare(0)>=0?e.mod(t):e.mod(t).add(t).mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return h(e,t,this,!1)},"any, SparseMatrix":function(e,t){return l(t,e,this,!0)},"any, DenseMatrix":function(e,t){return h(t,e,this,!0)},"Array, any":function(e,t){return h(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return h(n(t),e,this,!0).valueOf()}})}),f_=rw("algorithm01",["typed"],e=>{var{typed:t}=e;return function(e,n,r,i){var a=e._data,o=e._size,s=e._datatype,u=n._values,l=n._index,c=n._ptr,h=n._size,f=n._datatype;if(o.length!==h.length)throw new ww(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,p,m=o[0],g=o[1],y="string"===typeof s&&s===f?s:void 0,v=y?t.find(r,[y,y]):r,b=[];for(d=0;d<m;d++)b[d]=[];var x=[],w=[];for(p=0;p<g;p++){for(var N=p+1,E=c[p],S=c[p+1],M=E;M<S;M++)x[d=l[M]]=i?v(u[M],a[d][p]):v(a[d][p],u[M]),w[d]=N;for(d=0;d<m;d++)w[d]===N?b[d][p]=x[d]:b[d][p]=a[d][p]}return e.createDenseMatrix({data:b,size:[m,g],datatype:y})}}),d_=rw("algorithm06",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._size,s=e._datatype,u=r._values,l=r._size,c=r._datatype;if(o.length!==l.length)throw new ww(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");var h,f=o[0],d=o[1],p=n,m=0,g=i;"string"===typeof s&&s===c&&(h=s,p=t.find(n,[h,h]),m=t.convert(0,h),g=t.find(i,[h,h]));for(var y=a&&u?[]:void 0,v=[],b=[],x=y?[]:void 0,w=[],N=[],E=0;E<d;E++){b[E]=v.length;var S=E+1;if(TN(e,E,w,x,N,S,v,g),TN(r,E,w,x,N,S,v,g),x)for(var M=b[E];M<v.length;){var A=v[M];if(N[A]===S){var C=x[A];p(C,m)?v.splice(M,1):(y.push(C),M++)}else v.splice(M,1)}else for(var T=b[E];T<v.length;){N[v[T]]!==S?v.splice(T,1):T++}}return b[d]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[f,d],datatype:h})}}),p_="nthRoot",m_=rw(p_,["typed","matrix","equalScalar","BigNumber"],e=>{var{typed:t,matrix:n,equalScalar:r,BigNumber:i}=e,a=f_({typed:t}),o=i_({typed:t,equalScalar:r}),s=d_({typed:t,equalScalar:r}),u=s_({typed:t,equalScalar:r}),l=l_({typed:t}),c=c_({typed:t}),h="Complex number not supported in function nthRoot. Use nthRoots instead.";return t(p_,{number:yT,"number, number":yT,BigNumber:function(e){return f(e,new i(2))},Complex:function(e){throw new Error(h)},"Complex, number":function(e,t){throw new Error(h)},"BigNumber, BigNumber":f,"Array | Matrix":function(e){return this(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return s(e,t,this);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return a(e,t,this,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return u(t,e,this,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,n(t)).valueOf()}});function f(e,t){var n=i.precision,r=i.clone({precision:n+2}),a=new i(0),o=new r(1),s=t.isNegative();if(s&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return s?new r(1/0):0;if(!e.isFinite())return s?a:e;var u=e.abs().pow(o.div(t));return u=e.isNeg()?u.neg():u,new i((s?o.div(u):u).toPrecision(n))}}),g_=rw("numeric",["number","?bignumber","?fraction"],e=>{var{number:t,bignumber:n,fraction:r}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:e=>t(e),BigNumber:n?e=>n(e):zN,Fraction:r?e=>r(e):qN};return function(e,t){var n=wx(e);if(!(n in i))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in a))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(a).join(", "));return t===n?e:a[t](e)}}),y_=rw("or",["typed","matrix","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i}=e,a=a_({typed:t}),o=o_({typed:t,equalScalar:r}),s=u_({typed:t,DenseMatrix:i}),u=l_({typed:t}),l=c_({typed:t});return t("or",{"number, number":zI,"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return l(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, any":function(e,t){return l(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,this,!0).valueOf()}})}),v_="prod",b_=rw(v_,["typed","config","multiplyScalar","numeric"],e=>{var{typed:t,config:n,multiplyScalar:r,numeric:i}=e;return t(v_,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return a(e)}});function a(e){var t;if(SN(e,function(e){try{t=void 0===t?e:r(t,e)}catch(n){throw UE(n,"prod",e)}}),"string"===typeof t&&(t=i(t,n.number)),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}}),x_="reshape",w_=rw(x_,["typed","isInteger","matrix"],e=>{var{typed:t,isInteger:n}=e;return t(x_,{"Matrix, Array":function(e,t){return e.reshape(t)},"Array, Array":function(e,t){return t.forEach(function(e){if(!n(e))throw new TypeError("Invalid size for dimension: "+e)}),kw(e,t)}})}),N_="size",E_=rw(N_,["typed","config","?matrix"],e=>{var{typed:t,config:n,matrix:r}=e;return t(N_,{Matrix:function(e){return e.create(e.size())},Array:Ew,string:function(e){return"Array"===n.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===n.matrix?[]:r?r([]):VN()}})}),S_=rw("algorithm07",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,i,a){var o=e._size,s=e._datatype,u=i._size,l=i._datatype;if(o.length!==u.length)throw new ww(o.length,u.length);if(o[0]!==u[0]||o[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+u+")");var c,h,f,d=o[0],p=o[1],m=0,g=a;"string"===typeof s&&s===l&&(c=s,m=t.convert(0,c),g=t.find(a,[c,c]));var y=[];for(h=0;h<d;h++)y[h]=[];var v=[],b=[],x=[],w=[];for(f=0;f<p;f++){var N=f+1;for(r(e,f,x,v,N),r(i,f,w,b,N),h=0;h<d;h++){var E=x[h]===N?v[h]:m,S=w[h]===N?b[h]:m;y[h][f]=g(E,S)}}return new n({data:y,size:[d,p],datatype:c})};function r(e,t,n,r,i){for(var a=e._values,o=e._index,s=e._ptr,u=s[t],l=s[t+1];u<l;u++){var c=o[u];n[c]=i,r[c]=a[u]}}}),M_="smaller",A_=rw(M_,["typed","config","matrix","DenseMatrix"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i}=e,a=a_({typed:t}),o=S_({typed:t,DenseMatrix:i}),s=u_({typed:t,DenseMatrix:i}),u=l_({typed:t}),l=c_({typed:t});return t(M_,{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!jx(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!qk(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return l(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, any":function(e,t){return l(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return l(r(t),e,this,!0).valueOf()}})}),C_="squeeze",T_=rw(C_,["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t(C_,{Array:function(e){return _w($x(e))},Matrix:function(e){var t=_w(e.toArray());return Array.isArray(t)?n(t):t},any:function(e){return $x(e)}})}),k_=rw("algorithm10",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,r,i,a){var o=e._values,s=e._index,u=e._ptr,l=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=l[0],d=l[1],p=i;"string"===typeof c&&(h=c,r=t.convert(r,h),p=t.find(i,[h,h]));for(var m=[],g=[],y=[],v=0;v<d;v++){for(var b=v+1,x=u[v],w=u[v+1],N=x;N<w;N++){var E=s[N];g[E]=o[N],y[E]=b}for(var S=0;S<f;S++)0===v&&(m[S]=[]),y[S]===b?m[S][v]=a?p(r,g[S]):p(g[S],r):m[S][v]=r}return new n({data:m,size:[f,d],datatype:h})}}),I_="subtract",O_=rw(I_,["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,addScalar:i,unaryMinus:a,DenseMatrix:o}=e,s=f_({typed:t}),u=a_({typed:t}),l=o_({typed:t,equalScalar:r}),c=k_({typed:t,DenseMatrix:o}),h=l_({typed:t}),f=c_({typed:t});return t(I_,{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=this(n.value,t.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(e,t){return __(e,t),l(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return __(e,t),u(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return __(e,t),s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return __(e,t),h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return c(e,a(t),i)},"DenseMatrix, any":function(e,t){return f(e,t,this)},"any, SparseMatrix":function(e,t){return c(t,e,this,!0)},"any, DenseMatrix":function(e,t){return f(t,e,this,!0)},"Array, any":function(e,t){return f(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return f(n(t),e,this,!0).valueOf()}})});function __(e,t){var n=e.size(),r=t.size();if(n.length!==r.length)throw new ww(n.length,r.length)}var D_=rw("to",["typed","matrix"],e=>{var{typed:t,matrix:n}=e,r=l_({typed:t}),i=c_({typed:t});return t("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return r(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"Matrix, any":function(e,t){return i(e,t,this,!1)},"any, Matrix":function(e,t){return i(t,e,this,!0)},"Array, any":function(e,t){return i(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return i(n(t),e,this,!0).valueOf()}})}),R_=rw("transpose",["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t("transpose",{Array:function(e){return this(n(e)).valueOf()},Matrix:function(e){var t,n=e.size();switch(n.length){case 1:t=e.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Yx(n)+")");switch(e.storage()){case"dense":t=function(e,t,n){for(var r,i=e._data,a=[],o=0;o<n;o++){r=a[o]=[];for(var s=0;s<t;s++)r[s]=$x(i[s][o])}return e.createDenseMatrix({data:a,size:[n,t],datatype:e._datatype})}(e,r,i);break;case"sparse":t=function(e,t,n){for(var r,i,a,o=e._values,s=e._index,u=e._ptr,l=o?[]:void 0,c=[],h=[],f=[],d=0;d<t;d++)f[d]=0;for(r=0,i=s.length;r<i;r++)f[s[r]]++;for(var p=0,m=0;m<t;m++)h.push(p),p+=f[m],f[m]=h[m];for(h.push(p),a=0;a<n;a++)for(var g=u[a],y=u[a+1],v=g;v<y;v++){var b=f[s[v]]++;c[b]=a,o&&(l[b]=$x(o[v]))}return e.createSparseMatrix({values:l,index:c,ptr:h,size:[n,t],datatype:e._datatype})}(e,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Yx(this._size)+")")}return t},any:function(e){return $x(e)}})}),P_="xgcd",F_=rw(P_,["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t(P_,{"number, number":function(e,t){var i=xT(e,t);return"Array"===n.matrix?i:r(i)},"BigNumber, BigNumber":function(e,t){var a,o,s,u,l=new i(0),c=new i(1),h=l,f=c,d=c,p=l;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)o=e.div(t).floor(),s=e.mod(t),a=h,h=f.minus(o.times(h)),f=a,a=d,d=p.minus(o.times(d)),p=a,e=t,t=s;u=e.lt(l)?[e.neg(),f.neg(),p.neg()]:[e,e.isZero()?0:f,p];return"Array"===n.matrix?u:r(u)}})}),j_="zeros",L_=rw(j_,["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t(j_,{"":function(){return"Array"===n.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(e){if("string"===typeof e[e.length-1]){var t=e.pop();return a(e,t)}return"Array"===n.matrix?a(e):a(e,"default")},Array:a,Matrix:function(e){var t=e.storage();return a(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return a(e.valueOf(),t)}});function a(e,t){var n=function(e){var t=!1;return e.forEach(function(e,n,r){Lb(e)&&(t=!0,r[n]=e.toNumber())}),t}(e),a=n?new i(0):0;if(function(e){e.forEach(function(e){if("number"!==typeof e||!Nx(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")})}(e),t){var o=r(t);return e.length>0?o.resize(e,a):o}var s=[];return e.length>0?Cw(s,e,a):s}}),B_=rw("and",["typed","matrix","equalScalar","zeros","not"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,not:a}=e,o=i_({typed:t,equalScalar:r}),s=d_({typed:t,equalScalar:r}),u=s_({typed:t,equalScalar:r}),l=l_({typed:t}),c=c_({typed:t});return t("and",{"number, number":VI,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)&&(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!t.isZero()&&!e.isNaN()&&!t.isNaN()},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return a(t)?i(e.size(),e.storage()):u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return a(t)?i(e.size(),e.storage()):c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return a(e)?i(e.size(),e.storage()):u(t,e,this,!0)},"any, DenseMatrix":function(e,t){return a(e)?i(e.size(),e.storage()):c(t,e,this,!0)},"Array, any":function(e,t){return this(n(e),t).valueOf()},"any, Array":function(e,t){return this(e,n(t)).valueOf()}})}),U_="bitAnd",z_=rw(U_,["typed","matrix","equalScalar"],e=>{var{typed:t,matrix:n,equalScalar:r}=e,i=i_({typed:t,equalScalar:r}),a=d_({typed:t,equalScalar:r}),o=s_({typed:t,equalScalar:r}),s=l_({typed:t}),u=c_({typed:t});return t(U_,{"number, number":pk,"BigNumber, BigNumber":ak,"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,this,!0).valueOf()}})}),q_="bitXor",V_=rw(q_,["typed","matrix","DenseMatrix"],e=>{var{typed:t,matrix:n,DenseMatrix:r}=e,i=a_({typed:t}),a=S_({typed:t,DenseMatrix:r}),o=u_({typed:t,DenseMatrix:r}),s=l_({typed:t}),u=c_({typed:t});return t(q_,{"number, number":yk,"BigNumber, BigNumber":ck,"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,this,!0).valueOf()}})}),H_="cbrt",W_=rw(H_,["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],e=>{var{config:t,typed:n,isNegative:r,unaryMinus:i,matrix:a,Complex:o,BigNumber:s,Fraction:u}=e;return n(H_,{number:uT,Complex:l,"Complex, boolean":l,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&Bb(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=l(e.value),t}var n,a=r(e.value);a&&(e.value=i(e.value)),n=Lb(e.value)?new s(1).div(3):Ub(e.value)?new u(1,3):1/3;var o=e.pow(n);return a&&(o.value=i(o.value)),o},"Array | Matrix":function(e){return MN(e,this,!0)}});function l(e,n){var r=e.arg()/3,i=e.abs(),s=new o(uT(i),0).mul(new o(0,r).exp());if(n){var u=[s,new o(uT(i),0).mul(new o(0,r+2*Math.PI/3).exp()),new o(uT(i),0).mul(new o(0,r-2*Math.PI/3).exp())];return"Array"===t.matrix?u:a(u)}return s}}),K_="compare",G_=rw(K_,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],e=>{var{typed:t,config:n,equalScalar:r,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:s}=e,u=a_({typed:t}),l=o_({typed:t,equalScalar:r}),c=u_({typed:t,DenseMatrix:s}),h=l_({typed:t}),f=c_({typed:t});return t(K_,{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,t){return jx(e,t,n.epsilon)?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return qk(e,t,n.epsilon)?new a(0):new a(e.cmp(t))},"Fraction, Fraction":function(e,t){return new o(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return this(i(e),t)},"Matrix, Array":function(e,t){return this(e,i(t))},"SparseMatrix, any":function(e,t){return c(e,t,this,!1)},"DenseMatrix, any":function(e,t){return f(e,t,this,!1)},"any, SparseMatrix":function(e,t){return c(t,e,this,!0)},"any, DenseMatrix":function(e,t){return f(t,e,this,!0)},"Array, any":function(e,t){return f(i(e),t,this,!1).valueOf()},"any, Array":function(e,t){return f(i(t),e,this,!0).valueOf()}})}),Y_="compareText",Q_=rw(Y_,["typed","matrix"],e=>{var{typed:t,matrix:n}=e,r=l_({typed:t}),i=c_({typed:t});return t(Y_,{"any, any":Zx,"DenseMatrix, DenseMatrix":function(e,t){return r(e,t,Zx)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"DenseMatrix, any":function(e,t){return i(e,t,Zx,!1)},"any, DenseMatrix":function(e,t){return i(t,e,Zx,!0)},"Array, any":function(e,t){return i(n(e),t,Zx,!1).valueOf()},"any, Array":function(e,t){return i(n(t),e,Zx,!0).valueOf()}})}),J_="count",X_=rw(J_,["typed","size","prod"],e=>{var{typed:t,size:n,prod:r}=e;return t(J_,{string:function(e){return e.length},"Matrix | Array":function(e){return r(n(e))}})}),Z_="ctranspose",$_=rw(Z_,["typed","transpose","conj"],e=>{var{typed:t,transpose:n,conj:r}=e;return t(Z_,{any:function(e){return r(n(e))}})}),eD="diag",tD=rw(eD,["typed","matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(eD,{Array:function(e){return a(e,0,Ew(e),null)},"Array, number":function(e,t){return a(e,t,Ew(e),null)},"Array, BigNumber":function(e,t){return a(e,t.toNumber(),Ew(e),null)},"Array, string":function(e,t){return a(e,0,Ew(e),t)},"Array, number, string":function(e,t,n){return a(e,t,Ew(e),n)},"Array, BigNumber, string":function(e,t,n){return a(e,t.toNumber(),Ew(e),n)},Matrix:function(e){return a(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return a(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return a(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return a(e,0,e.size(),t)},"Matrix, number, string":function(e,t,n){return a(e,t,e.size(),n)},"Matrix, BigNumber, string":function(e,t,n){return a(e,t.toNumber(),e.size(),n)}});function a(e,t,a,o){if(!Nx(t))throw new TypeError("Second parameter in function diag must be an integer");var s=t>0?t:0,u=t<0?-t:0;switch(a.length){case 1:return function(e,t,n,a,o,s){var u=[a+o,a+s];if(n&&"sparse"!==n&&"dense"!==n)throw new TypeError("Unknown matrix type ".concat(n,'"'));var l="sparse"===n?i.diagonal(u,e,t):r.diagonal(u,e,t);return null!==n?l:l.valueOf()}(e,t,o,a[0],u,s);case 2:return function(e,t,r,i,a,o){if(Hb(e)){var s=e.diagonal(t);return null!==r?r!==s.storage()?n(s,r):s:s.valueOf()}for(var u=Math.min(i[0]-a,i[1]-o),l=[],c=0;c<u;c++)l[c]=e[c+a][c+o];return null!==r?n(l):l}(e,t,o,a,u,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),nD="divideScalar",rD=rw(nD,["typed","numeric"],e=>{var{typed:t,numeric:n}=e;return t(nD,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var r=e.clone(),i=n(1,wx(t));return r.value=this(null===r.value?r._normalize(i):r.value,t),r},"number | Fraction | BigNumber, Unit":function(e,t){var r=t.clone();r=r.pow(-1);var i=n(1,wx(e));return r.value=this(e,null===t.value?t._normalize(i):t.value),r},"Unit, Unit":function(e,t){return e.divide(t)}})}),iD="dotDivide",aD=rw(iD,["typed","matrix","equalScalar","divideScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,divideScalar:i,DenseMatrix:a}=e,o=i_({typed:t,equalScalar:r}),s=a_({typed:t}),u=S_({typed:t,DenseMatrix:a}),l=s_({typed:t,equalScalar:r}),c=u_({typed:t,DenseMatrix:a}),h=l_({typed:t}),f=c_({typed:t});return t(iD,{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,i)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return l(e,t,i,!1)},"DenseMatrix, any":function(e,t){return f(e,t,i,!1)},"any, SparseMatrix":function(e,t){return c(t,e,i,!0)},"any, DenseMatrix":function(e,t){return f(t,e,i,!0)},"Array, any":function(e,t){return f(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return f(n(t),e,i,!0).valueOf()}})}),oD="equal",sD=rw(oD,["typed","matrix","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i}=e,a=a_({typed:t}),o=S_({typed:t,DenseMatrix:i}),s=u_({typed:t,DenseMatrix:i}),u=l_({typed:t}),l=c_({typed:t});return t(oD,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,r)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,r,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,r,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,r)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,r,!1)},"DenseMatrix, any":function(e,t){return l(e,t,r,!1)},"any, SparseMatrix":function(e,t){return s(t,e,r,!0)},"any, DenseMatrix":function(e,t){return l(t,e,r,!0)},"Array, any":function(e,t){return l(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,r,!0).valueOf()}})}),uD=(rw(oD,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(oD,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})}),rw("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i"],e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,divideScalar:a,exp:o,tau:s,i:u}=e;return t("fft",{Array:l,Matrix:function(e){return e.create(l(e.toArray()))}});function l(e){var t=Ew(e);return 1===t.length?h(e,t[0]):c(e.map(e=>l(e,t.slice(1))),0)}function c(e,t){var n=Ew(e);if(0!==t)return new Array(n[0]).fill(0).map((n,r)=>c(e[r],t-1));if(1===n.length)return h(e);function r(e){var t=Ew(e);return new Array(t[1]).fill(0).map((n,r)=>new Array(t[0]).fill(0).map((t,n)=>e[n][r]))}return r(c(r(e),1))}function h(e){var t=e.length;if(1===t)return[e[0]];if(t%2===0){for(var n=[...h(e.filter((e,t)=>t%2===0)),...h(e.filter((e,t)=>t%2===1))],l=0;l<t/2;l++){var c=n[l],f=i(n[l+t/2],o(i(i(s,u),a(-l,t))));n[l]=r(c,f),n[l+t/2]=r(c,i(-1,f))}return n}throw new Error("Can only calculate FFT of power-of-two size")}})),lD="flatten",cD=rw(lD,["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t(lD,{Array:function(e){return Fw($x(e))},Matrix:function(e){var t=Fw($x(e.toArray()));return n(t)}})}),hD=rw("algorithm04",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._index,s=e._ptr,u=e._size,l=e._datatype,c=r._values,h=r._index,f=r._ptr,d=r._size,p=r._datatype;if(u.length!==d.length)throw new ww(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var m,g=u[0],y=u[1],v=n,b=0,x=i;"string"===typeof l&&l===p&&(m=l,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));var w,N,E,S,M,A=a&&c?[]:void 0,C=[],T=[],k=a&&c?[]:void 0,I=a&&c?[]:void 0,O=[],_=[];for(N=0;N<y;N++){T[N]=C.length;var D=N+1;for(S=s[N],M=s[N+1],E=S;E<M;E++)w=o[E],C.push(w),O[w]=D,k&&(k[w]=a[E]);for(S=f[N],M=f[N+1],E=S;E<M;E++)if(O[w=h[E]]===D){if(k){var R=x(k[w],c[E]);v(R,b)?O[w]=null:k[w]=R}}else C.push(w),_[w]=D,I&&(I[w]=c[E]);if(k&&I)for(E=T[N];E<C.length;)O[w=C[E]]===D?(A[E]=k[w],E++):_[w]===D?(A[E]=I[w],E++):C.splice(E,1)}return T[y]=C.length,e.createSparseMatrix({values:A,index:C,ptr:T,size:[g,y],datatype:m})}}),fD=rw("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,BigNumber:i,DenseMatrix:a}=e,o=f_({typed:t}),s=hD({typed:t,equalScalar:r}),u=k_({typed:t,DenseMatrix:a}),l=l_({typed:t}),c=c_({typed:t});return t("gcd",{"number, number":fT,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");var n=new i(0);for(;!t.isZero();){var r=e.mod(t);e=t,t=r}return e.lt(n)?e.neg():e},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return u(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return c(n(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return c(n(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}})}),dD="hasNumericValue",pD=rw(dD,["typed","isNumeric"],e=>{var{typed:t,isNumeric:n}=e;return t(dD,{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return n(e)}})}),mD="hypot",gD=rw(mD,["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],e=>{var{typed:t,abs:n,addScalar:r,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:s,isPositive:u}=e;return t(mD,{"... number | BigNumber":function(e){for(var t=0,l=0,c=0;c<e.length;c++){var h=n(e[c]);s(l,h)?(t=a(t,a(i(l,h),i(l,h))),t=r(t,1),l=h):t=r(t,u(h)?a(i(h,l),i(h,l)):h)}return a(l,o(t))},Array:function(e){return this.apply(this,Fw(e))},Matrix:function(e){return this.apply(this,Fw(e.toArray()))}})}),yD="ifft",vD=rw(yD,["typed","fft","dotDivide","conj"],e=>{var{typed:t,fft:n,dotDivide:r,conj:i}=e;return t(yD,{"Array | Matrix":function(e){var t=Hb(e)?e.size():Ew(e);return r(i(n(i(e))),t.reduce((e,t)=>e*t,1))}})}),bD="kron",xD=rw(bD,["typed","matrix","multiplyScalar"],e=>{var{typed:t,matrix:n,multiplyScalar:r}=e;return t(bD,{"Matrix, Matrix":function(e,t){return n(i(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return n(i(e.toArray(),t))},"Array, Matrix":function(e,t){return n(i(e,t.toArray()))},"Array, Array":i});function i(e,t){if(1===Ew(e).length&&(e=[e]),1===Ew(t).length&&(t=[t]),Ew(e).length>2||Ew(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var n=[],i=[];return e.map(function(e){return t.map(function(t){return i=[],n.push(i),e.map(function(e){return t.map(function(t){return i.push(r(e,t))})})})})&&n}}),wD="largerEq",ND=rw(wD,["typed","config","matrix","DenseMatrix"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i}=e,a=a_({typed:t}),o=S_({typed:t,DenseMatrix:i}),s=u_({typed:t,DenseMatrix:i}),u=l_({typed:t}),l=c_({typed:t});return t(wD,{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,t){return e>=t||jx(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)||qk(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return l(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, any":function(e,t){return l(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return l(r(t),e,this,!0).valueOf()}})}),ED=rw("algorithm08",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._index,s=e._ptr,u=e._size,l=e._datatype,c=r._values,h=r._index,f=r._ptr,d=r._size,p=r._datatype;if(u.length!==d.length)throw new ww(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");if(!a||!c)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m,g=u[0],y=u[1],v=n,b=0,x=i;"string"===typeof l&&l===p&&(m=l,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));for(var w,N,E,S,M=[],A=[],C=[],T=[],k=[],I=0;I<y;I++){C[I]=A.length;var O=I+1;for(N=s[I],E=s[I+1],w=N;w<E;w++)k[S=o[w]]=O,T[S]=a[w],A.push(S);for(N=f[I],E=f[I+1],w=N;w<E;w++)k[S=h[w]]===O&&(T[S]=x(T[S],c[w]));for(w=C[I];w<A.length;){var _=T[S=A[w]];v(_,b)?A.splice(w,1):(M.push(_),w++)}}return C[y]=A.length,e.createSparseMatrix({values:M,index:A,ptr:C,size:[g,y],datatype:m})}}),SD="leftShift",MD=rw(SD,["typed","matrix","equalScalar","zeros","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,DenseMatrix:a}=e,o=f_({typed:t}),s=i_({typed:t,equalScalar:r}),u=ED({typed:t,equalScalar:r}),l=k_({typed:t,DenseMatrix:a}),c=s_({typed:t,equalScalar:r}),h=l_({typed:t}),f=c_({typed:t});return t(SD,{"number, number":vk,"BigNumber, BigNumber":hk,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():c(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():f(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):l(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):f(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,n(t)).valueOf()}})});function AD(e){var{DenseMatrix:t}=e;return function(e,n,r){var i=e.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+Yx(i)+")");var a=i[0];if(a!==i[1])throw new RangeError("Matrix must be square (size: "+Yx(i)+")");var o=[];if(Hb(n)){var s=n.size(),u=n._data;if(1===s.length){if(s[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var l=0;l<a;l++)o[l]=[u[l]];return new t({data:o,size:[a,1],datatype:n._datatype})}if(2===s.length){if(s[0]!==a||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Kb(n)){if(r){o=[];for(var c=0;c<a;c++)o[c]=[u[c][0]];return new t({data:o,size:[a,1],datatype:n._datatype})}return n}if(Gb(n)){for(var h=0;h<a;h++)o[h]=[0];for(var f=n._values,d=n._index,p=n._ptr,m=p[1],g=p[0];g<m;g++){o[d[g]][0]=f[g]}return new t({data:o,size:[a,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Vb(n)){var y=Ew(n);if(1===y.length){if(y[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<a;v++)o[v]=[n[v]];return new t({data:o,size:[a,1]})}if(2===y.length){if(y[0]!==a||1!==y[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<a;b++)o[b]=[n[b][0]];return new t({data:o,size:[a,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var CD="lsolve",TD=rw(CD,["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:s}=e,u=AD({DenseMatrix:s});return t(CD,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=(t=u(e,t,!0))._data,l=e._size[0],c=e._size[1],h=e._values,f=e._index,d=e._ptr,p=[],m=0;m<c;m++){var g=n[m][0]||0;if(o(g,0))p[m]=[0];else{for(var y=0,v=[],b=[],x=d[m],w=d[m+1],N=x;N<w;N++){var E=f[N];E===m?y=h[N]:E>m&&(v.push(h[N]),b.push(E))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=r(g,y),M=0,A=b.length;M<A;M++){var C=b[M];n[C]=[a(n[C][0]||0,i(S,v[M]))]}p[m]=[S]}}return new s({data:p,size:[l,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(n(e),t).valueOf()}});function l(e,t){for(var n=(t=u(e,t,!0))._data,l=e._size[0],c=e._size[1],h=[],f=e._data,d=0;d<c;d++){var p=n[d][0]||0,m=void 0;if(o(p,0))m=0;else{var g=f[d][d];if(o(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(p,g);for(var y=d+1;y<l;y++)n[y]=[a(n[y][0]||0,i(m,f[y][d]))]}h[d]=[m]}return new s({data:h,size:[l,1]})}}),kD="matrixFromColumns",ID=rw(kD,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:n,flatten:r,size:i}=e;return t(kD,{"...Array":function(e){return a(e)},"...Matrix":function(e){return n(a(e.map(e=>e.toArray())))}});function a(e){if(0===e.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var t=o(e[0]),n=[],i=0;i<t;i++)n[i]=[];for(var a of e){var s=o(a);if(s!==t)throw new TypeError("The vectors had different length: "+(0|t)+" \u2260 "+(0|s));for(var u=r(a),l=0;l<t;l++)n[l].push(u[l])}return n}function o(e){var t=i(e);if(1===t.length)return t[0];if(2===t.length){if(1===t[0])return t[1];if(1===t[1])return t[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),OD="mode",_D=rw(OD,["typed","isNaN","isNumeric"],e=>{var{typed:t,isNaN:n,isNumeric:r}=e;return t(OD,{"Array | Matrix":i,"...":function(e){return i(e)}});function i(e){if(0===(e=Fw(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},i=[],a=0,o=0;o<e.length;o++){var s=e[o];if(r(s)&&n(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in t||(t[s]=0),t[s]++,t[s]===a?i.push(s):t[s]>a&&(a=t[s],i=[s])}return i}}),DD="nthRoots",RD=rw(DD,["config","typed","divideScalar","Complex"],e=>{var{typed:t,config:n,divideScalar:r,Complex:i}=e,a=[function(e){return new i(e,0)},function(e){return new i(0,e)},function(e){return new i(-e,0)},function(e){return new i(0,-e)}];function o(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!==0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new i(0,0)];var n,r="number"===typeof e;(r||0===e.re||0===e.im)&&(n=r?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var o=e.arg(),s=e.abs(),u=[],l=Math.pow(s,1/t),c=0;c<t;c++){var h=(n+4*c)/t;h!==Math.round(h)?u.push(new i({r:l,phi:(o+2*Math.PI*c)/t})):u.push(a[h%4](l))}return u}return t(DD,{Complex:function(e){return o(e,2)},"Complex, number":o})}),PD=rw("ones",["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t("ones",{"":function(){return"Array"===n.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(e){if("string"===typeof e[e.length-1]){var t=e.pop();return a(e,t)}return"Array"===n.matrix?a(e):a(e,"default")},Array:a,Matrix:function(e){var t=e.storage();return a(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return a(e.valueOf(),t)}});function a(e,t){var n=function(e){var t=!1;return e.forEach(function(e,n,r){Lb(e)&&(t=!0,r[n]=e.toNumber())}),t}(e),a=n?new i(1):1;if(function(e){e.forEach(function(e){if("number"!==typeof e||!Nx(e)||e<0)throw new Error("Parameters in function ones must be positive integers")})}(e),t){var o=r(t);return e.length>0?o.resize(e,a):o}var s=[];return e.length>0?Cw(s,e,a):s}}),FD="partitionSelect",jD=rw(FD,["typed","isNumeric","isNaN","compare"],e=>{var{typed:t,isNumeric:n,isNaN:r,compare:i}=e,a=i,o=(e,t)=>-i(e,t);return t(FD,{"Array | Matrix, number":function(e,t){return s(e,t,a)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return s(e,t,a);if("desc"===n)return s(e,t,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(e,t,n){if(!Nx(t)||t<0)throw new Error("k must be a non-negative integer");if(Hb(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return u(e.valueOf(),t,n)}if(Array.isArray(e))return u(e,t,n)}function u(e,t,i){if(t>=e.length)throw new Error("k out of bounds");for(var a=0;a<e.length;a++)if(n(e[a])&&r(e[a]))return e[a];for(var o=0,s=e.length-1;o<s;){for(var u=o,l=s,c=e[Math.floor(Math.random()*(s-o+1))+o];u<l;)if(i(e[u],c)>=0){var h=e[l];e[l]=e[u],e[u]=h,--l}else++u;i(e[u],c)>0&&--u,t<=u?s=u:o=u+1}return e[t]}});function LD(e,t,n,r){if(!(this instanceof LD))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!==r&&null!==r?"-"+r:"")+" expected)",this.stack=(new Error).stack}LD.prototype=new Error,LD.prototype.constructor=Error,LD.prototype.name="ArgumentsError",LD.prototype.isArgumentsError=!0;var BD=rw("resize",["config","matrix"],e=>{var{config:t,matrix:n}=e;return function(e,r,i){if(2!==arguments.length&&3!==arguments.length)throw new LD("resize",arguments.length,2,3);if(Hb(r)&&(r=r.valueOf()),Lb(r[0])&&(r=r.map(function(e){return Lb(e)?e.toNumber():e})),Hb(e))return e.resize(r,i,!0);if("string"===typeof e)return function(e,t,n){if(void 0!==n){if("string"!==typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new ww(t.length,1);var r=t[0];if("number"!==typeof r||!Nx(r))throw new TypeError("Invalid size, must contain positive integers (size: "+Yx(t)+")");if(e.length>r)return e.substring(0,r);if(e.length<r){for(var i=e,a=0,o=r-e.length;a<o;a++)i+=n;return i}return e}(e,r,i);var a=!Array.isArray(e)&&"Array"!==t.matrix;if(0===r.length){for(;Array.isArray(e);)e=e[0];return $x(e)}Array.isArray(e)||(e=[e]);var o=Cw(e=$x(e),r,i);return a?n(o):o}}),UD="rightArithShift",zD=rw(UD,["typed","matrix","equalScalar","zeros","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,DenseMatrix:a}=e,o=f_({typed:t}),s=i_({typed:t,equalScalar:r}),u=ED({typed:t,equalScalar:r}),l=k_({typed:t,DenseMatrix:a}),c=s_({typed:t,equalScalar:r}),h=l_({typed:t}),f=c_({typed:t});return t(UD,{"number, number":bk,"BigNumber, BigNumber":fk,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():c(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():f(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):l(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):f(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,n(t)).valueOf()}})}),qD="Number of decimals in function round must be an integer",VD="round",HD=rw(VD,["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,BigNumber:a,DenseMatrix:o}=e,s=s_({typed:t,equalScalar:r}),u=u_({typed:t,DenseMatrix:o}),l=c_({typed:t});return t(VD,{number:NT,"number, number":NT,"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(qD);return new a(e).toDecimalPlaces(t.toNumber())},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(qD);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(qD);var n=t.toNumber();return e.round(n)},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(qD);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(qD);return e.round(t)},"Fraction, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(qD);return e.round(t.toNumber())},"Array | Matrix":function(e){return MN(e,this,!0)},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,this,!1)},"Array, number | BigNumber":function(e,t){return l(n(e),t,this,!1).valueOf()},"number | Complex | BigNumber | Fraction, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,this,!0)},"number | Complex | BigNumber | Fraction, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):l(t,e,this,!0)},"number | Complex | BigNumber | Fraction, Array":function(e,t){return l(n(t),e,this,!0).valueOf()}})}),WD="smallerEq",KD=rw(WD,["typed","config","matrix","DenseMatrix"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i}=e,a=a_({typed:t}),o=S_({typed:t,DenseMatrix:i}),s=u_({typed:t,DenseMatrix:i}),u=l_({typed:t}),l=c_({typed:t});return t(WD,{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,t){return e<=t||jx(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)||qk(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return l(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, any":function(e,t){return l(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return l(r(t),e,this,!0).valueOf()}})}),GD="unequal",YD=rw(GD,["typed","config","equalScalar","matrix","DenseMatrix"],e=>{var{typed:t,config:n,equalScalar:r,matrix:i,DenseMatrix:a}=e,o=a_({typed:t}),s=S_({typed:t,DenseMatrix:a}),u=u_({typed:t,DenseMatrix:a}),l=l_({typed:t}),c=c_({typed:t});return t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:h(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,h)},"Array, Array":function(e,t){return this(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return this(i(e),t)},"Matrix, Array":function(e,t){return this(e,i(t))},"SparseMatrix, any":function(e,t){return u(e,t,h,!1)},"DenseMatrix, any":function(e,t){return c(e,t,h,!1)},"any, SparseMatrix":function(e,t){return u(t,e,h,!0)},"any, DenseMatrix":function(e,t){return c(t,e,h,!0)},"Array, any":function(e,t){return c(i(e),t,h,!1).valueOf()},"any, Array":function(e,t){return c(i(t),e,h,!0).valueOf()}});function h(e,t){return!r(e,t)}}),QD=(rw(GD,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(GD,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!n(e,t)}})}),"usolve"),JD=rw(QD,["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:s}=e,u=AD({DenseMatrix:s});return t(QD,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=(t=u(e,t,!0))._data,l=e._size[0],c=e._size[1],h=e._values,f=e._index,d=e._ptr,p=[],m=c-1;m>=0;m--){var g=n[m][0]||0;if(o(g,0))p[m]=[0];else{for(var y=0,v=[],b=[],x=d[m],w=d[m+1]-1;w>=x;w--){var N=f[w];N===m?y=h[w]:N<m&&(v.push(h[w]),b.push(N))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var E=r(g,y),S=0,M=b.length;S<M;S++){var A=b[S];n[A]=[a(n[A][0],i(E,v[S]))]}p[m]=[E]}}return new s({data:p,size:[l,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(n(e),t).valueOf()}});function l(e,t){for(var n=(t=u(e,t,!0))._data,l=e._size[0],c=e._size[1],h=[],f=e._data,d=c-1;d>=0;d--){var p=n[d][0]||0,m=void 0;if(o(p,0))m=0;else{var g=f[d][d];if(o(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(p,g);for(var y=d-1;y>=0;y--)n[y]=[a(n[y][0]||0,i(m,f[y][d]))]}h[d]=[m]}return new s({data:h,size:[l,1]})}}),XD=rw("xor",["typed","matrix","DenseMatrix"],e=>{var{typed:t,matrix:n,DenseMatrix:r}=e,i=a_({typed:t}),a=S_({typed:t,DenseMatrix:r}),o=u_({typed:t,DenseMatrix:r}),s=l_({typed:t}),u=c_({typed:t});return t("xor",{"number, number":qI,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!==(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!==(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,this,!0).valueOf()}})}),ZD=rw("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],e=>{var{typed:t,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:a,SparseMatrix:o}=e,s=f_({typed:t}),u=hD({typed:t,equalScalar:i}),l=k_({typed:t,DenseMatrix:a}),c=l_({typed:t}),h=c_({typed:t});return t("add",ew({"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,r)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,r,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,r,!0)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,r)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"DenseMatrix, any":function(e,t){return h(e,t,r,!1)},"SparseMatrix, any":function(e,t){return l(e,t,r,!1)},"any, DenseMatrix":function(e,t){return h(t,e,r,!0)},"any, SparseMatrix":function(e,t){return l(t,e,r,!0)},"Array, any":function(e,t){return h(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return h(n(t),e,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}},r.signatures))}),$D=rw("algorithm09",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._index,s=e._ptr,u=e._size,l=e._datatype,c=r._values,h=r._index,f=r._ptr,d=r._size,p=r._datatype;if(u.length!==d.length)throw new ww(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var m,g=u[0],y=u[1],v=n,b=0,x=i;"string"===typeof l&&l===p&&(m=l,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));var w,N,E,S,M,A=a&&c?[]:void 0,C=[],T=[],k=A?[]:void 0,I=[];for(N=0;N<y;N++){T[N]=C.length;var O=N+1;if(k)for(S=f[N],M=f[N+1],E=S;E<M;E++)I[w=h[E]]=O,k[w]=c[E];for(S=s[N],M=s[N+1],E=S;E<M;E++)if(w=o[E],k){var _=I[w]===O?k[w]:b,D=x(a[E],_);v(D,b)||(C.push(w),A.push(D))}else C.push(w)}return T[y]=C.length,e.createSparseMatrix({values:A,index:C,ptr:T,size:[g,y],datatype:m})}}),eR="atan2",tR=rw(eR,["typed","matrix","equalScalar","BigNumber","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,BigNumber:i,DenseMatrix:a}=e,o=i_({typed:t,equalScalar:r}),s=a_({typed:t}),u=$D({typed:t,equalScalar:r}),l=s_({typed:t,equalScalar:r}),c=u_({typed:t,DenseMatrix:a}),h=l_({typed:t}),f=c_({typed:t});return t(eR,{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,t){return i.atan2(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return l(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return f(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return f(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return f(n(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return f(n(t),e,this,!0).valueOf()}})}),nR="bitOr",rR=rw(nR,["typed","matrix","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i}=e,a=f_({typed:t}),o=hD({typed:t,equalScalar:r}),s=k_({typed:t,DenseMatrix:i}),u=l_({typed:t}),l=c_({typed:t});return t(nR,{"number, number":gk,"BigNumber, BigNumber":sk,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return l(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, any":function(e,t){return l(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,this,!0).valueOf()}})}),iR="catalan",aR=rw(iR,["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],e=>{var{typed:t,addScalar:n,divideScalar:r,multiplyScalar:i,combinations:a,isNegative:o,isInteger:s}=e;return t(iR,{"number | BigNumber":function(e){if(!s(e)||o(e))throw new TypeError("Non-negative integer value expected in function catalan");return r(a(i(e,2),e),n(e,1))}})}),oR=n(939),sR="compareNatural",uR=rw(sR,["typed","compare"],e=>{var{typed:t,compare:n}=e,r=n.signatures["boolean,boolean"];return t(sR,{"any, any":function(e,t){var o,s=wx(e),u=wx(t);if(("number"===s||"BigNumber"===s||"Fraction"===s)&&("number"===u||"BigNumber"===u||"Fraction"===u))return"0"!==(o=n(e,t)).toString()?o>0?1:-1:oR(s,u);if("Array"===s||"Matrix"===s||"Array"===u||"Matrix"===u)return 0!==(o=i(this,e,t))?o:oR(s,u);if(s!==u)return oR(s,u);if("Complex"===s)return function(e,t){if(e.re>t.re)return 1;if(e.re<t.re)return-1;if(e.im>t.im)return 1;if(e.im<t.im)return-1;return 0}(e,t);if("Unit"===s)return e.equalBase(t)?this(e.value,t.value):a(this,e.formatUnits(),t.formatUnits());if("boolean"===s)return r(e,t);if("string"===s)return oR(e,t);if("Object"===s)return function(e,t,n){var r=Object.keys(t),i=Object.keys(n);r.sort(oR),i.sort(oR);var o=a(e,r,i);if(0!==o)return o;for(var s=0;s<r.length;s++){var u=e(t[r[s]],n[i[s]]);if(0!==u)return u}return 0}(this,e,t);if("null"===s)return 0;if("undefined"===s)return 0;throw new TypeError('Unsupported type of value "'+s+'"')}});function i(e,t,n){return Gb(t)&&Gb(n)?a(e,t.toJSON().values,n.toJSON().values):Gb(t)?i(e,t.toArray(),n):Gb(n)?i(e,t,n.toArray()):Kb(t)?i(e,t.toJSON().data,n):Kb(n)?i(e,t,n.toJSON().data):Array.isArray(t)?Array.isArray(n)?a(e,t,n):i(e,t,[n]):i(e,[t],n)}function a(e,t,n){for(var r=0,i=Math.min(t.length,n.length);r<i;r++){var a=e(t[r],n[r]);if(0!==a)return a}return t.length>n.length?1:t.length<n.length?-1:0}});var lR="deepEqual",cR=rw(lR,["typed","equal"],e=>{var{typed:t,equal:n}=e;return t(lR,{"any, any":function(e,t){return r(e.valueOf(),t.valueOf())}});function r(e,t){if(Array.isArray(e)){if(Array.isArray(t)){var i=e.length;if(i!==t.length)return!1;for(var a=0;a<i;a++)if(!r(e[a],t[a]))return!1;return!0}return!1}return!Array.isArray(t)&&n(e,t)}}),hR=rw("dot",["typed","addScalar","multiplyScalar","conj","size"],e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:i,size:a}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,a){var u=o(e,a),l=Hb(e)?e._data:e,c=Hb(e)?e._datatype:void 0,h=Hb(a)?a._data:a,f=Hb(a)?a._datatype:void 0,d=2===s(e).length,p=2===s(a).length,m=n,g=r;if(c&&f&&c===f&&"string"===typeof c){var y=c;m=t.find(n,[y,y]),g=t.find(r,[y,y])}if(!d&&!p){for(var v=g(i(l[0]),h[0]),b=1;b<u;b++)v=m(v,g(i(l[b]),h[b]));return v}if(!d&&p){for(var x=g(i(l[0]),h[0][0]),w=1;w<u;w++)x=m(x,g(i(l[w]),h[w][0]));return x}if(d&&!p){for(var N=g(i(l[0][0]),h[0]),E=1;E<u;E++)N=m(N,g(i(l[E][0]),h[E]));return N}if(d&&p){for(var S=g(i(l[0][0]),h[0][0]),M=1;M<u;M++)S=m(S,g(i(l[M][0]),h[M][0]));return S}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);var i=e._index,a=e._values,s=t._index,u=t._values,l=0,c=n,h=r,f=0,d=0;for(;f<i.length&&d<s.length;){var p=i[f],m=s[d];p<m?f++:p>m?d++:p===m&&(l=c(l,h(a[f],u[d])),f++,d++)}return l}});function o(e,t){var n,r,i=s(e),a=s(t);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===a.length)r=a[0];else{if(2!==a.length||1!==a[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");r=a[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function s(e){return Hb(e)?e.size():a(e)}}),fR="equalText",dR=rw(fR,["typed","compareText","isZero"],e=>{var{typed:t,compareText:n,isZero:r}=e;return t(fR,{"any, any":function(e,t){return r(n(e,t))}})}),pR="floor",mR=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],gR=rw(pR,["typed","config","round"],e=>{var{typed:t,config:n,round:r}=e;return t(pR,{number:function(e){return jx(e,r(e),n.epsilon)?r(e):Math.floor(e)},"number, number":function(e,t){if(jx(e,r(e,t),n.epsilon))return r(e,t);var[i,a]="".concat(e,"e").split("e"),o=Math.floor(Number("".concat(i,"e").concat(Number(a)+t)));return[i,a]="".concat(o,"e").split("e"),Number("".concat(i,"e").concat(Number(a)-t))}})}),yR=rw(pR,mR,e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,u=s_({typed:t,equalScalar:a}),l=u_({typed:t,DenseMatrix:s}),c=c_({typed:t}),h=gR({typed:t,config:n,round:r});return t("floor",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(e){return e.floor()},"Complex, number":function(e,t){return e.floor(t)},"Complex, BigNumber":function(e,t){return e.floor(t.toNumber())},BigNumber:function(e){return qk(e,r(e),n.epsilon)?r(e):e.floor()},"BigNumber, BigNumber":function(e,t){return qk(e,r(e,t),n.epsilon)?r(e,t):e.toDecimalPlaces(t.toNumber(),ZM.ROUND_FLOOR)},Fraction:function(e){return e.floor()},"Fraction, number":function(e,t){return e.floor(t)},"Fraction, BigNumber":function(e,t){return e.floor(t.toNumber())},"Array | Matrix":function(e){return MN(e,this,!0)},"Array, number | BigNumber":function(e,t){return MN(e,e=>this(e,t),!0)},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,this,!1)},"number | Complex | Fraction | BigNumber, Array":function(e,t){return c(i(t),e,this,!0).valueOf()},"number | Complex | Fraction | BigNumber, Matrix":function(e,t){return a(e,0)?o(t.size(),t.storage()):"dense"===t.storage()?c(t,e,this,!0):l(t,e,this,!0)}})}),vR="identity",bR=rw(vR,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=e;return t(vR,{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(e){return r(e)},"number | BigNumber":function(e){return u(e,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return u(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return u(e,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return u(e,t,n)},Array:function(e){return s(e)},"Array, string":function(e,t){return s(e,t)},Matrix:function(e){return s(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){switch(e.length){case 0:return t?r(t):[];case 1:return u(e[0],e[0],t);case 2:return u(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function u(e,t,n){var r=Lb(e)||Lb(t)?i:null;if(Lb(e)&&(e=e.toNumber()),Lb(t)&&(t=t.toNumber()),!Nx(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!Nx(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var s=r?new i(1):1,u=r?new r(0):0,l=[e,t];if(n){if("sparse"===n)return o.diagonal(l,s,0,u);if("dense"===n)return a.diagonal(l,s,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var c=Cw([],l,u),h=e<t?e:t,f=0;f<h;f++)c[f][f]=s;return c}}),xR="invmod",wR=rw(xR,["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],e=>{var{typed:t,config:n,BigNumber:r,xgcd:i,equal:a,smaller:o,mod:s,add:u,isInteger:l}=e;return t(xR,{"number, number":c,"BigNumber, BigNumber":c});function c(e,t){if(!l(e)||!l(t))throw new Error("Parameters in function invmod must be integer numbers");if(e=s(e,t),a(t,0))throw new Error("Divisor must be non zero");var n=i(e,t);n=n.valueOf();var[c,h]=n;return a(c,r(1))?(h=s(h,t),o(h,r(0))&&(h=u(h,t)),h):NaN}}),NR="larger",ER=rw(NR,["typed","config","matrix","DenseMatrix"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i}=e,a=a_({typed:t}),o=S_({typed:t,DenseMatrix:i}),s=u_({typed:t,DenseMatrix:i}),u=l_({typed:t}),l=c_({typed:t});return t(NR,{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,t){return e>t&&!jx(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!qk(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return l(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, any":function(e,t){return l(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return l(r(t),e,this,!0).valueOf()}})}),SR=rw("log",["config","typed","divideScalar","Complex"],e=>{var{typed:t,config:n,divideScalar:r,Complex:i}=e;return t("log",{number:function(e){return e>=0||n.predictable?function(e,t){return t?Math.log(e)/Math.log(t):Math.log(e)}(e):new i(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||n.predictable?e.ln():new i(e.toNumber(),0).log()},"Array | Matrix":function(e){return MN(e,this)},"any, any":function(e,t){return r(this(e),this(t))}})}),MR="lsolveAll",AR=rw(MR,["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:s}=e,u=AD({DenseMatrix:s});return t(MR,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=[u(e,t,!0)._data.map(e=>e[0])],l=e._size[0],c=e._size[1],h=e._values,f=e._index,d=e._ptr,p=0;p<c;p++)for(var m=n.length,g=0;g<m;g++){for(var y=n[g],v=[],b=[],x=d[p],w=d[p+1],N=0,E=x;E<w;E++){var S=f[E];S===p?N=h[E]:S>p&&(v.push(h[E]),b.push(S))}if(o(N,0))if(o(y[p],0)){if(0===g){var M=[...y];M[p]=1;for(var A=0,C=b.length;A<C;A++){var T=b[A];M[T]=a(M[T],v[A])}n.push(M)}}else{if(0===g)return[];n.splice(g,1),g-=1,m-=1}else{y[p]=r(y[p],N);for(var k=0,I=b.length;k<I;k++){var O=b[k];y[O]=a(y[O],i(y[p],v[k]))}}}return n.map(e=>new s({data:e.map(e=>[e]),size:[l,1]}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(n(e),t).map(e=>e.valueOf())}});function l(e,t){for(var n=[u(e,t,!0)._data.map(e=>e[0])],l=e._data,c=e._size[0],h=e._size[1],f=0;f<h;f++)for(var d=n.length,p=0;p<d;p++){var m=n[p];if(o(l[f][f],0))if(o(m[f],0)){if(0===p){var g=[...m];g[f]=1;for(var y=f+1;y<h;y++)g[y]=a(g[y],l[y][f]);n.push(g)}}else{if(0===p)return[];n.splice(p,1),p-=1,d-=1}else{m[f]=r(m[f],l[f][f]);for(var v=f+1;v<h;v++)m[v]=a(m[v],i(m[f],l[v][f]))}}return n.map(e=>new s({data:e.map(e=>[e]),size:[c,1]}))}}),CR="matrixFromRows",TR=rw(CR,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:n,flatten:r,size:i}=e;return t(CR,{"...Array":function(e){return a(e)},"...Matrix":function(e){return n(a(e.map(e=>e.toArray())))}});function a(e){if(0===e.length)throw new TypeError("At least one row is needed to construct a matrix.");var t=o(e[0]),n=[];for(var i of e){var a=o(i);if(a!==t)throw new TypeError("The vectors had different length: "+(0|t)+" \u2260 "+(0|a));n.push(r(i))}return n}function o(e){var t=i(e);if(1===t.length)return t[0];if(2===t.length){if(1===t[0])return t[1];if(1===t[1])return t[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),kR="multiply",IR=rw(kR,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:a,dot:o}=e,s=s_({typed:t,equalScalar:a}),u=c_({typed:t});function l(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function c(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var a,o=e._data,s=e._size,u=e._datatype,l=n._data,c=n._size,h=n._datatype,f=s[0],d=c[1],p=r,m=i;u&&h&&u===h&&"string"===typeof u&&(a=u,p=t.find(r,[a,a]),m=t.find(i,[a,a]));for(var g=[],y=0;y<d;y++){for(var v=m(o[0],l[0][y]),b=1;b<f;b++)v=p(v,m(o[b],l[b][y]));g[y]=v}return e.createDenseMatrix({data:g,size:[d],datatype:a})}(e,n)}var h=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var a,o=e._data,s=e._size,u=e._datatype,l=n._data,c=n._datatype,h=s[0],f=s[1],d=r,p=i;u&&c&&u===c&&"string"===typeof u&&(a=u,d=t.find(r,[a,a]),p=t.find(i,[a,a]));for(var m=[],g=0;g<h;g++){for(var y=o[g],v=p(y[0],l[0]),b=1;b<f;b++)v=d(v,p(y[b],l[b]));m[g]=v}return e.createDenseMatrix({data:m,size:[h],datatype:a})},"SparseMatrix, any":function(e,n){var o=e._values,s=e._index,u=e._ptr,l=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,f=n._datatype,d=e._size[0],p=n._size[0],m=[],g=[],y=[],v=r,b=i,x=a,w=0;l&&f&&l===f&&"string"===typeof l&&(c=l,v=t.find(r,[c,c]),b=t.find(i,[c,c]),x=t.find(a,[c,c]),w=t.convert(0,c));var N=[],E=[];y[0]=0;for(var S=0;S<p;S++){var M=h[S];if(!x(M,w))for(var A=u[S],C=u[S+1],T=A;T<C;T++){var k=s[T];E[k]?N[k]=v(N[k],b(M,o[T])):(E[k]=!0,g.push(k),N[k]=b(M,o[T]))}}for(var I=g.length,O=0;O<I;O++){var _=g[O];m[O]=N[_]}return y[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:y,size:[d,1],datatype:c})}}),f=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var a,o=e._data,s=e._size,u=e._datatype,l=n._data,c=n._size,h=n._datatype,f=s[0],d=s[1],p=c[1],m=r,g=i;u&&h&&u===h&&"string"===typeof u&&(a=u,m=t.find(r,[a,a]),g=t.find(i,[a,a]));for(var y=[],v=0;v<f;v++){var b=o[v];y[v]=[];for(var x=0;x<p;x++){for(var w=g(b[0],l[0][x]),N=1;N<d;N++)w=m(w,g(b[N],l[N][x]));y[v][x]=w}}return e.createDenseMatrix({data:y,size:[f,p],datatype:a})},"DenseMatrix, SparseMatrix":function(e,n){var o=e._data,s=e._size,u=e._datatype,l=n._values,c=n._index,h=n._ptr,f=n._size,d=n._datatype;if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,m=s[0],g=f[1],y=r,v=i,b=a,x=0;u&&d&&u===d&&"string"===typeof u&&(p=u,y=t.find(r,[p,p]),v=t.find(i,[p,p]),b=t.find(a,[p,p]),x=t.convert(0,p));for(var w=[],N=[],E=[],S=n.createSparseMatrix({values:w,index:N,ptr:E,size:[m,g],datatype:p}),M=0;M<g;M++){E[M]=N.length;var A=h[M],C=h[M+1];if(C>A)for(var T=0,k=0;k<m;k++){for(var I=k+1,O=void 0,_=A;_<C;_++){var D=c[_];T!==I?(O=v(o[k][D],l[_]),T=I):O=y(O,v(o[k][D],l[_]))}T!==I||b(O,x)||(N.push(k),w.push(O))}}return E[g]=N.length,S},"SparseMatrix, DenseMatrix":function(e,n){var o=e._values,s=e._index,u=e._ptr,l=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,f=n._datatype,d=e._size[0],p=n._size[0],m=n._size[1],g=r,y=i,v=a,b=0;l&&f&&l===f&&"string"===typeof l&&(c=l,g=t.find(r,[c,c]),y=t.find(i,[c,c]),v=t.find(a,[c,c]),b=t.convert(0,c));for(var x=[],w=[],N=[],E=e.createSparseMatrix({values:x,index:w,ptr:N,size:[d,m],datatype:c}),S=[],M=[],A=0;A<m;A++){N[A]=w.length;for(var C=A+1,T=0;T<p;T++){var k=h[T][A];if(!v(k,b))for(var I=u[T],O=u[T+1],_=I;_<O;_++){var D=s[_];M[D]!==C?(M[D]=C,w.push(D),S[D]=y(k,o[_])):S[D]=g(S[D],y(k,o[_]))}}for(var R=N[A],P=w.length,F=R;F<P;F++){var j=w[F];x[F]=S[j]}}return N[m]=w.length,E},"SparseMatrix, SparseMatrix":function(e,n){var a,o=e._values,s=e._index,u=e._ptr,l=e._datatype,c=n._values,h=n._index,f=n._ptr,d=n._datatype,p=e._size[0],m=n._size[1],g=o&&c,y=r,v=i;l&&d&&l===d&&"string"===typeof l&&(a=l,y=t.find(r,[a,a]),v=t.find(i,[a,a]));for(var b,x,w,N,E,S,M,A,C=g?[]:void 0,T=[],k=[],I=e.createSparseMatrix({values:C,index:T,ptr:k,size:[p,m],datatype:a}),O=g?[]:void 0,_=[],D=0;D<m;D++){k[D]=T.length;var R=D+1;for(E=f[D],S=f[D+1],N=E;N<S;N++)if(A=h[N],g)for(x=u[A],w=u[A+1],b=x;b<w;b++)_[M=s[b]]!==R?(_[M]=R,T.push(M),O[M]=v(c[N],o[b])):O[M]=y(O[M],v(c[N],o[b]));else for(x=u[A],w=u[A+1],b=x;b<w;b++)_[M=s[b]]!==R&&(_[M]=R,T.push(M));if(g)for(var P=k[D],F=T.length,j=P;j<F;j++){var L=T[j];C[j]=O[L]}}return k[m]=T.length,I}});return t(kR,ew({"Array, Array":function(e,t){l(Ew(e),Ew(t));var r=this(n(e),n(t));return Hb(r)?r.valueOf():r},"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return l(n,r),1===n.length?1===r.length?function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return o(e,t)}(e,t,n[0]):c(e,t):1===r.length?h(e,t):f(e,t)},"Matrix, Array":function(e,t){return this(e,n(t))},"Array, Matrix":function(e,t){return this(n(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"DenseMatrix, any":function(e,t){return u(e,t,i,!1)},"any, SparseMatrix":function(e,t){return s(t,e,i,!0)},"any, DenseMatrix":function(e,t){return u(t,e,i,!0)},"Array, any":function(e,t){return u(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}},i.signatures))}),OR=rw("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],e=>{var{typed:t,matrix:n,zeros:r,identity:i,isZero:a,equal:o,sign:s,sqrt:u,conj:l,unaryMinus:c,addScalar:h,divideScalar:f,multiplyScalar:d,subtract:p,complex:m}=e;return _b(t("qr",{DenseMatrix:function(e){return y(e)},SparseMatrix:function(e){return function(){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=y(n(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}}),{_denseQRimpl:g});function g(e){var t,n,m,g=e._size[0],y=e._size[1],v=i([g],"dense"),b=v._data,x=e.clone(),w=x._data,N=r([g],"");for(m=0;m<Math.min(y,g);++m){var E=w[m][m],S=c(o(E,0)?1:s(E)),M=l(S),A=0;for(t=m;t<g;t++)A=h(A,d(w[t][m],l(w[t][m])));var C=d(S,u(A));if(!a(C)){var T=p(E,C);for(N[m]=1,t=m+1;t<g;t++)N[t]=f(w[t][m],T);var k=c(l(f(T,C))),I=void 0;for(n=m;n<y;n++){for(I=0,t=m;t<g;t++)I=h(I,d(l(N[t]),w[t][n]));for(I=d(I,k),t=m;t<g;t++)w[t][n]=d(p(w[t][n],d(N[t],I)),M)}for(t=0;t<g;t++){for(I=0,n=m;n<g;n++)I=h(I,d(b[t][n],N[n]));for(I=d(I,k),n=m;n<g;++n)b[t][n]=f(p(b[t][n],d(I,l(N[n]))),M)}}}return{Q:v,R:x,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function y(e){var t=g(e),n=t.R._data;if(e._data.length>0)for(var r="Complex"===n[0][0].type?m(0):0,i=0;i<n.length;++i)for(var a=0;a<i&&a<(n[0]||[]).length;++a)n[i][a]=r;return t}}),_R="rightLogShift",DR=rw(_R,["typed","matrix","equalScalar","zeros","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,DenseMatrix:a}=e,o=f_({typed:t}),s=i_({typed:t,equalScalar:r}),u=ED({typed:t,equalScalar:r}),l=k_({typed:t,DenseMatrix:a}),c=s_({typed:t,equalScalar:r}),h=l_({typed:t}),f=c_({typed:t});return t(_R,{"number, number":xk,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():c(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():f(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):l(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):f(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,n(t)).valueOf()}})}),RR="setSize",PR=rw(RR,["typed","compareNatural"],e=>{var{typed:t,compareNatural:n}=e;return t(RR,{"Array | Matrix":function(e){return Array.isArray(e)?Fw(e).length:Fw(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?Fw(e).length:Fw(e.toArray()).length;for(var r=Fw(Array.isArray(e)?e:e.toArray()).sort(n),i=1,a=1;a<r.length;a++)0!==n(r[a],r[a-1])&&i++;return i}})});function FR(e,t,n,r,i,a,o){var s=0;for(n[o]=e;s>=0;){var u=n[o+s],l=n[r+u];-1===l?(s--,a[t++]=u):(n[r+u]=n[i+l],n[o+ ++s]=l)}return t}function jR(e){return-e-2}var LR=rw("csAmd",["add","multiply","transpose"],e=>{var{add:t,multiply:n,transpose:r}=e;return function(e,o){if(!o||e<=0||e>3)return null;var s=o._size,u=s[0],l=s[1],c=0,h=Math.max(16,10*Math.sqrt(l)),f=function(e,i,a,o,s){var u=r(i);if(1===e&&o===a)return t(i,u);if(2===e){for(var l=u._index,c=u._ptr,h=0,f=0;f<a;f++){var d=c[f];if(c[f]=h,!(c[f+1]-d>s))for(var p=c[f+1];d<p;d++)l[h++]=l[d]}return c[a]=h,i=r(u),n(u,i)}return n(u,i)}(e,o,u,l,h=Math.min(l-2,h));!function(e,t,n){for(var r=e._values,i=e._index,a=e._ptr,o=e._size[1],s=0,u=0;u<o;u++){var l=a[u];for(a[u]=s;l<a[u+1];l++)t(i[l],u,r?r[l]:1,n)&&(i[s]=i[l],r&&(r[s]=r[l]),s++)}a[o]=s,i.splice(s,i.length-s),r&&r.splice(s,r.length-s)}(f,a,null);for(var d,p,m,g,y,v,b,x,w,N,E,S,M,A,C,T,k=f._index,I=f._ptr,O=I[l],_=[],D=[],R=l+1,P=2*(l+1),F=3*(l+1),j=4*(l+1),L=5*(l+1),B=6*(l+1),U=7*(l+1),z=_,q=function(e,t,n,r,a,o,s,u,l,c,h,f){for(var d=0;d<e;d++)n[r+d]=t[d+1]-t[d];n[r+e]=0;for(var p=0;p<=e;p++)n[a+p]=-1,o[p]=-1,n[s+p]=-1,n[u+p]=-1,n[l+p]=1,n[c+p]=1,n[h+p]=0,n[f+p]=n[r+p];var m=i(0,0,n,c,e);return n[h+e]=-2,t[e]=-1,n[c+e]=0,m}(l,I,D,0,F,z,P,U,R,B,j,L),V=function(e,t,n,r,i,a,o,s,u,l,c){for(var h=0,f=0;f<e;f++){var d=n[r+f];if(0===d)n[i+f]=-2,h++,t[f]=-1,n[a+f]=0;else if(d>o)n[s+f]=0,n[i+f]=-1,h++,t[f]=jR(e),n[s+e]++;else{var p=n[u+d];-1!==p&&(l[p]=f),n[c+f]=n[u+d],n[u+d]=f}}return h}(l,I,D,L,j,B,h,R,F,z,P),H=0;V<l;){for(m=-1;H<l&&-1===(m=D[F+H]);H++);-1!==D[P+m]&&(z[D[P+m]]=-1),D[F+H]=D[P+m];var W=D[j+m],K=D[R+m];V+=K;var G=0;D[R+m]=-K;var Y=I[m],Q=0===W?Y:O,J=Q;for(g=1;g<=W+1;g++){for(g>W?(v=m,b=Y,x=D[0+m]-W):(b=I[v=k[Y++]],x=D[0+v]),y=1;y<=x;y++)(w=D[R+(d=k[b++])])<=0||(G+=w,D[R+d]=-w,k[J++]=d,-1!==D[P+d]&&(z[D[P+d]]=z[d]),-1!==z[d]?D[P+z[d]]=D[P+d]:D[F+D[L+d]]=D[P+d]);v!==m&&(I[v]=jR(m),D[B+v]=0)}for(0!==W&&(O=J),D[L+m]=G,I[m]=Q,D[0+m]=J-Q,D[j+m]=-2,q=i(q,c,D,B,l),N=Q;N<J;N++)if(!((E=D[j+(d=k[N])])<=0)){var X=q-(w=-D[R+d]);for(Y=I[d],S=I[d]+E-1;Y<=S;Y++)D[B+(v=k[Y])]>=q?D[B+v]-=w:0!==D[B+v]&&(D[B+v]=D[L+v]+X)}for(N=Q;N<J;N++){for(M=(S=I[d=k[N]])+D[j+d]-1,A=S,C=0,T=0,Y=S;Y<=M;Y++)if(0!==D[B+(v=k[Y])]){var Z=D[B+v]-q;Z>0?(T+=Z,k[A++]=v,C+=v):(I[v]=jR(m),D[B+v]=0)}D[j+d]=A-S+1;var $=A,ee=S+D[0+d];for(Y=M+1;Y<ee;Y++){var te=D[R+(p=k[Y])];te<=0||(T+=te,k[A++]=p,C+=p)}0===T?(I[d]=jR(m),G-=w=-D[R+d],K+=w,V+=w,D[R+d]=0,D[j+d]=-1):(D[L+d]=Math.min(D[L+d],T),k[A]=k[$],k[$]=k[S],k[S]=m,D[0+d]=A-S+1,C=(C<0?-C:C)%l,D[P+d]=D[U+C],D[U+C]=d,z[d]=C)}for(D[L+m]=G,q=i(q+(c=Math.max(c,G)),c,D,B,l),N=Q;N<J;N++)if(!(D[R+(d=k[N])]>=0))for(d=D[U+(C=z[d])],D[U+C]=-1;-1!==d&&-1!==D[P+d];d=D[P+d],q++){for(x=D[0+d],E=D[j+d],Y=I[d]+1;Y<=I[d]+x-1;Y++)D[B+k[Y]]=q;var ne=d;for(p=D[P+d];-1!==p;){var re=D[0+p]===x&&D[j+p]===E;for(Y=I[p]+1;re&&Y<=I[p]+x-1;Y++)D[B+k[Y]]!==q&&(re=0);re?(I[p]=jR(d),D[R+d]+=D[R+p],D[R+p]=0,D[j+p]=-1,p=D[P+p],D[P+ne]=p):(ne=p,p=D[P+p])}}for(Y=Q,N=Q;N<J;N++)(w=-D[R+(d=k[N])])<=0||(D[R+d]=w,T=D[L+d]+G-w,-1!==D[F+(T=Math.min(T,l-V-w))]&&(z[D[F+T]]=d),D[P+d]=D[F+T],z[d]=-1,D[F+T]=d,H=Math.min(H,T),D[L+d]=T,k[Y++]=d);D[R+m]=K,0===(D[0+m]=Y-Q)&&(I[m]=-1,D[B+m]=0),0!==W&&(O=Y)}for(d=0;d<l;d++)I[d]=jR(I[d]);for(p=0;p<=l;p++)D[F+p]=-1;for(p=l;p>=0;p--)D[R+p]>0||(D[P+p]=D[F+I[p]],D[F+I[p]]=p);for(v=l;v>=0;v--)D[R+v]<=0||-1!==I[v]&&(D[P+v]=D[F+I[v]],D[F+I[v]]=v);for(m=0,d=0;d<=l;d++)-1===I[d]&&(m=FR(d,m,D,F,P,_,B));return _.splice(_.length-1,1),_};function i(e,t,n,r,i){if(e<2||e+t<0){for(var a=0;a<i;a++)0!==n[r+a]&&(n[r+a]=1);e=2}return e}function a(e,t){return e!==t}});function BR(e,t,n,r,i,a,o){var s,u,l,c=0;if(e<=t||n[r+t]<=n[i+e])return-1;n[i+e]=n[r+t];var h=n[a+e];if(n[a+e]=t,-1===h)c=1,l=e;else{for(c=2,l=h;l!==n[o+l];l=n[o+l]);for(s=h;s!==l;s=u)u=n[o+s],n[o+s]=l}return{jleaf:c,q:l}}var UR=rw("csCounts",["transpose"],e=>{var{transpose:t}=e;return function(e,n,r,i){if(!e||!n||!r)return null;var a,o,s,u,l,c,h,f=e._size,d=f[0],p=f[1],m=4*p+(i?p+d+1:0),g=[],y=p,v=2*p,b=3*p,x=4*p,w=5*p+1;for(s=0;s<m;s++)g[s]=-1;var N=[],E=t(e),S=E._index,M=E._ptr;for(s=0;s<p;s++)for(N[o=r[s]]=-1===g[b+o]?1:0;-1!==o&&-1===g[b+o];o=n[o])g[b+o]=s;if(i){for(s=0;s<p;s++)g[r[s]]=s;for(a=0;a<d;a++){for(s=p,c=M[a],h=M[a+1],l=c;l<h;l++)s=Math.min(s,g[S[l]]);g[w+a]=g[x+s],g[x+s]=a}}for(a=0;a<p;a++)g[0+a]=a;for(s=0;s<p;s++){for(-1!==n[o=r[s]]&&N[n[o]]--,u=i?g[x+s]:o;-1!==u;u=i?g[w+u]:-1)for(l=M[u];l<M[u+1];l++){var A=BR(a=S[l],o,g,b,y,v,0);A.jleaf>=1&&N[o]++,2===A.jleaf&&N[A.q]--}-1!==n[o]&&(g[0+o]=n[o])}for(o=0;o<p;o++)-1!==n[o]&&(N[n[o]]+=N[o]);return N}}),zR=rw("csSqr",["add","multiply","transpose"],e=>{var{add:t,multiply:n,transpose:r}=e,i=LR({add:t,multiply:n,transpose:r}),a=UR({transpose:r});return function(e,t,n){var r,o=t._ptr,s=t._size[1],u={};if(u.q=i(e,t),e&&!u.q)return null;if(n){var l=e?function(e,t,n,r){for(var i=e._values,a=e._index,o=e._ptr,s=e._size,u=e._datatype,l=s[0],c=s[1],h=r&&e._values?[]:null,f=[],d=[],p=0,m=0;m<c;m++){d[m]=p;for(var g=n?n[m]:m,y=o[g],v=o[g+1],b=y;b<v;b++){var x=t?t[a[b]]:a[b];f[p]=x,h&&(h[p]=i[b]),p++}}return d[c]=p,e.createSparseMatrix({values:h,index:f,ptr:d,size:[l,c],datatype:u})}(t,null,u.q,0):t;u.parent=function(e,t){if(!e)return null;var n,r,i=e._index,a=e._ptr,o=e._size,s=o[0],u=o[1],l=[],c=[],h=u;if(t)for(n=0;n<s;n++)c[h+n]=-1;for(var f=0;f<u;f++){l[f]=-1,c[0+f]=-1;for(var d=a[f],p=a[f+1],m=d;m<p;m++){var g=i[m];for(n=t?c[h+g]:g;-1!==n&&n<f;n=r)r=c[0+n],c[0+n]=f,-1===r&&(l[n]=f);t&&(c[h+g]=f)}}return l}(l,1);var c=function(e,t){if(!e)return null;var n,r=0,i=[],a=[],o=t,s=2*t;for(n=0;n<t;n++)a[0+n]=-1;for(n=t-1;n>=0;n--)-1!==e[n]&&(a[o+n]=a[0+e[n]],a[0+e[n]]=n);for(n=0;n<t;n++)-1===e[n]&&(r=FR(n,r,a,0,o,i,s));return i}(u.parent,s);if(u.cp=a(l,u.parent,c,1),l&&u.parent&&u.cp&&function(e,t){var n=e._ptr,r=e._index,i=e._size,a=i[0],o=i[1];t.pinv=[],t.leftmost=[];var s,u,l,c,h,f=t.parent,d=t.pinv,p=t.leftmost,m=[],g=0,y=a,v=a+o,b=a+2*o;for(u=0;u<o;u++)m[y+u]=-1,m[v+u]=-1,m[b+u]=0;for(s=0;s<a;s++)p[s]=-1;for(u=o-1;u>=0;u--)for(c=n[u],h=n[u+1],l=c;l<h;l++)p[r[l]]=u;for(s=a-1;s>=0;s--)d[s]=-1,-1!==(u=p[s])&&(0===m[b+u]++&&(m[v+u]=s),m[g+s]=m[y+u],m[y+u]=s);for(t.lnz=0,t.m2=a,u=0;u<o;u++)if(s=m[y+u],t.lnz++,s<0&&(s=t.m2++),d[s]=u,!(--b[u]<=0)){t.lnz+=m[b+u];var x=f[u];-1!==x&&(0===m[b+x]&&(m[v+x]=m[v+u]),m[g+m[v+u]]=m[y+x],m[y+x]=m[g+s],m[b+x]+=m[b+u])}for(s=0;s<a;s++)d[s]<0&&(d[s]=u++);return!0}(l,u))for(u.unz=0,r=0;r<s;r++)u.unz+=u.cp[r]}else u.unz=4*o[s]+s,u.lnz=u.unz;return u}});function qR(e,t){return e[t]<0}function VR(e,t){e[t]=jR(e[t])}function HR(e){return e<0?jR(e):e}function WR(e,t,n,r,i){var a,o,s,u=t._index,l=t._ptr,c=t._size[1],h=0;for(r[0]=e;h>=0;){e=r[h];var f=i?i[e]:e;qR(l,e)||(VR(l,e),r[c+h]=f<0?0:HR(l[f]));var d=1;for(o=r[c+h],s=f<0?0:HR(l[f+1]);o<s;o++)if(!qR(l,a=u[o])){r[c+h]=o,r[++h]=a,d=0;break}d&&(h--,r[--n]=e)}return n}var KR=rw("csSpsolve",["divideScalar","multiply","subtract"],e=>{var{divideScalar:t,multiply:n,subtract:r}=e;return function(e,i,a,o,s,u,l){var c,h,f,d,p=e._values,m=e._index,g=e._ptr,y=e._size[1],v=i._values,b=i._index,x=i._ptr,w=function(e,t,n,r,i){var a,o,s,u=e._ptr,l=e._size,c=t._index,h=t._ptr,f=l[1],d=f;for(o=h[n],s=h[n+1],a=o;a<s;a++){var p=c[a];qR(u,p)||(d=WR(p,e,d,r,i))}for(a=d;a<f;a++)VR(u,r[a]);return d}(e,i,a,o,u);for(c=w;c<y;c++)s[o[c]]=0;for(h=x[a],f=x[a+1],c=h;c<f;c++)s[b[c]]=v[c];for(var N=w;N<y;N++){var E=o[N],S=u?u[E]:E;if(!(S<0))for(h=g[S],f=g[S+1],s[E]=t(s[E],p[l?h:f-1]),c=l?h+1:h,d=l?f:f-1;c<d;c++){var M=m[c];s[M]=r(s[M],n(p[c],s[E]))}}return w}}),GR=rw("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],e=>{var{abs:t,divideScalar:n,multiply:r,subtract:i,larger:a,largerEq:o,SparseMatrix:s}=e,u=KR({divideScalar:n,multiply:r,subtract:i});return function(e,i,l){if(!e)return null;var c,h=e._size[1],f=100,d=100;i&&(c=i.q,f=i.lnz||f,d=i.unz||d);var p,m,g=[],y=[],v=[],b=new s({values:g,index:y,ptr:v,size:[h,h]}),x=[],w=[],N=[],E=new s({values:x,index:w,ptr:N,size:[h,h]}),S=[],M=[],A=[];for(p=0;p<h;p++)M[p]=0,S[p]=-1,v[p+1]=0;f=0,d=0;for(var C=0;C<h;C++){v[C]=f,N[C]=d;var T=c?c[C]:C,k=u(b,e,T,A,M,S,1),I=-1,O=-1;for(m=k;m<h;m++)if(S[p=A[m]]<0){var _=t(M[p]);a(_,O)&&(O=_,I=p)}else w[d]=S[p],x[d++]=M[p];if(-1===I||O<=0)return null;S[T]<0&&o(t(M[T]),r(O,l))&&(I=T);var D=M[I];for(w[d]=C,x[d++]=D,S[I]=C,y[f]=I,g[f++]=1,m=k;m<h;m++)S[p=A[m]]<0&&(y[f]=p,g[f++]=n(M[p],D)),M[p]=0}for(v[h]=f,N[h]=d,m=0;m<f;m++)y[m]=S[y[m]];return g.splice(f,g.length-f),y.splice(f,y.length-f),x.splice(d,x.length-d),w.splice(d,w.length-d),{L:b,U:E,pinv:S}}}),YR=rw("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],e=>{var{typed:t,abs:n,add:r,multiply:i,transpose:a,divideScalar:o,subtract:s,larger:u,largerEq:l,SparseMatrix:c}=e,h=zR({add:r,multiply:i,transpose:a}),f=GR({abs:n,divideScalar:o,multiply:i,subtract:s,larger:u,largerEq:l,SparseMatrix:c});return t("slu",{"SparseMatrix, number, number":function(e,t,n){if(!Nx(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=h(t,e,!1),i=f(e,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),QR=rw("trace",["typed","matrix","add"],e=>{var{typed:t,matrix:n,add:r}=e;return t("trace",{Array:function(e){return i(n(e))},SparseMatrix:function(e){var t=e._values,n=e._index,i=e._ptr,a=e._size,o=a[0],s=a[1];if(o===s){var u=0;if(t.length>0)for(var l=0;l<s;l++)for(var c=i[l],h=i[l+1],f=c;f<h;f++){var d=n[f];if(d===l){u=r(u,t[f]);break}if(d>l)break}return u}throw new RangeError("Matrix must be square (size: "+Yx(a)+")")},DenseMatrix:i,any:$x});function i(e){var t=e._size,n=e._data;switch(t.length){case 1:if(1===t[0])return $x(n[0]);throw new RangeError("Matrix must be square (size: "+Yx(t)+")");case 2:var i=t[0];if(i===t[1]){for(var a=0,o=0;o<i;o++)a=r(a,n[o][o]);return a}throw new RangeError("Matrix must be square (size: "+Yx(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Yx(t)+")")}}}),JR="usolveAll",XR=rw(JR,["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:s}=e,u=AD({DenseMatrix:s});return t(JR,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=[u(e,t,!0)._data.map(e=>e[0])],l=e._size[0],c=e._size[1],h=e._values,f=e._index,d=e._ptr,p=c-1;p>=0;p--)for(var m=n.length,g=0;g<m;g++){for(var y=n[g],v=[],b=[],x=d[p],w=0,N=d[p+1]-1;N>=x;N--){var E=f[N];E===p?w=h[N]:E<p&&(v.push(h[N]),b.push(E))}if(o(w,0))if(o(y[p],0)){if(0===g){var S=[...y];S[p]=1;for(var M=0,A=b.length;M<A;M++){var C=b[M];S[C]=a(S[C],v[M])}n.push(S)}}else{if(0===g)return[];n.splice(g,1),g-=1,m-=1}else{y[p]=r(y[p],w);for(var T=0,k=b.length;T<k;T++){var I=b[T];y[I]=a(y[I],i(y[p],v[T]))}}}return n.map(e=>new s({data:e.map(e=>[e]),size:[l,1]}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(n(e),t).map(e=>e.valueOf())}});function l(e,t){for(var n=[u(e,t,!0)._data.map(e=>e[0])],l=e._data,c=e._size[0],h=e._size[1]-1;h>=0;h--)for(var f=n.length,d=0;d<f;d++){var p=n[d];if(o(l[h][h],0))if(o(p[h],0)){if(0===d){var m=[...p];m[h]=1;for(var g=h-1;g>=0;g--)m[g]=a(m[g],l[g][h]);n.push(m)}}else{if(0===d)return[];n.splice(d,1),d-=1,f-=1}else{p[h]=r(p[h],l[h][h]);for(var y=h-1;y>=0;y--)p[y]=a(p[y],i(p[h],l[y][h]))}}return n.map(e=>new s({data:e.map(e=>[e]),size:[c,1]}))}}),ZR="asin",$R=rw(ZR,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(ZR,{number:function(e){return e>=-1&&e<=1||n.predictable?Math.asin(e):new r(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return MN(e,this,!0)}})}),eP="ceil",tP=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],nP=rw(eP,["typed","config","round"],e=>{var{typed:t,config:n,round:r}=e;return t(eP,{number:function(e){return jx(e,r(e),n.epsilon)?r(e):Math.ceil(e)},"number, number":function(e,t){if(jx(e,r(e,t),n.epsilon))return r(e,t);var[i,a]="".concat(e,"e").split("e"),o=Math.ceil(Number("".concat(i,"e").concat(Number(a)+t)));return[i,a]="".concat(o,"e").split("e"),Number("".concat(i,"e").concat(Number(a)-t))}})}),rP=rw(eP,tP,e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,u=s_({typed:t,equalScalar:a}),l=u_({typed:t,DenseMatrix:s}),c=c_({typed:t}),h=nP({typed:t,config:n,round:r});return t("ceil",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(e){return e.ceil()},"Complex, number":function(e,t){return e.ceil(t)},"Complex, BigNumber":function(e,t){return e.ceil(t.toNumber())},BigNumber:function(e){return qk(e,r(e),n.epsilon)?r(e):e.ceil()},"BigNumber, BigNumber":function(e,t){return qk(e,r(e,t),n.epsilon)?r(e,t):e.toDecimalPlaces(t.toNumber(),ZM.ROUND_CEIL)},Fraction:function(e){return e.ceil()},"Fraction, number":function(e,t){return e.ceil(t)},"Fraction, BigNumber":function(e,t){return e.ceil(t.toNumber())},"Array | Matrix":function(e){return MN(e,this,!0)},"Array, number | BigNumber":function(e,t){return MN(e,e=>this(e,t),!0)},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,this,!1)},"number | Complex | Fraction | BigNumber, Array":function(e,t){return c(i(t),e,this,!0).valueOf()},"number | Complex | Fraction | BigNumber, Matrix":function(e,t){return a(e,0)?o(t.size(),t.storage()):"dense"===t.storage()?c(t,e,this,!0):l(t,e,this,!0)}})}),iP="composition",aP=rw(iP,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],e=>{var{typed:t,addScalar:n,combinations:r,isPositive:i,isNegative:a,isInteger:o,larger:s}=e;return t(iP,{"number | BigNumber, number | BigNumber":function(e,t){if(!(o(e)&&i(e)&&o(t)&&i(t)))throw new TypeError("Positive integer value expected in function composition");if(s(t,e))throw new TypeError("k must be less than or equal to n in function composition");return r(n(e,-1),n(t,-1))}})}),oP="cross",sP=rw(oP,["typed","matrix","subtract","multiply"],e=>{var{typed:t,matrix:n,subtract:r,multiply:i}=e;return t(oP,{"Matrix, Matrix":function(e,t){return n(a(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return n(a(e.toArray(),t))},"Array, Matrix":function(e,t){return n(a(e,t.toArray()))},"Array, Array":a});function a(e,t){var n=Math.max(Ew(e).length,Ew(t).length);e=_w(e),t=_w(t);var a=Ew(e),o=Ew(t);if(1!==a.length||1!==o.length||3!==a[0]||3!==o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+a.join(", ")+"], B = ["+o.join(", ")+"])");var s=[r(i(e[1],t[2]),i(e[2],t[1])),r(i(e[2],t[0]),i(e[0],t[2])),r(i(e[0],t[1]),i(e[1],t[0]))];return n>1?[s]:s}}),uP=rw("det",["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],e=>{var{typed:t,matrix:n,subtract:r,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=e;return t("det",{any:function(e){return $x(e)},"Array | Matrix":function(e){var t;switch((t=Hb(e)?e.size():Array.isArray(e)?(e=n(e)).size():[]).length){case 0:return $x(e);case 1:if(1===t[0])return $x(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Yx(t)+")");case 2:var u=t[0],l=t[1];if(u===l)return function(e,t){if(1===t)return $x(e[0][0]);if(2===t)return r(i(e[0][0],e[1][1]),i(e[1][0],e[0][1]));for(var n=!1,u=new Array(t).fill(0).map((e,t)=>t),l=0;l<t;l++){var c=u[l];if(o(e[c][l])){var h=void 0;for(h=l+1;h<t;h++)if(!o(e[u[h]][l])){c=u[h],u[h]=u[l],u[l]=c,n=!n;break}if(h===t)return e[c][l]}for(var f=e[c][l],d=0===l?1:e[u[l-1]][l-1],p=l+1;p<t;p++)for(var m=u[p],g=l+1;g<t;g++)e[m][g]=a(r(i(e[m][g],f),i(e[m][l],e[c][g])),d)}var y=e[u[t-1]][t-1];return n?s(y):y}(e.clone().valueOf(),u);throw new RangeError("Matrix must be square (size: "+Yx(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Yx(t)+")")}}})}),lP="distance",cP=rw(lP,["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],e=>{var{typed:t,addScalar:n,subtract:r,multiplyScalar:i,divideScalar:a,unaryMinus:o,sqrt:s,abs:u}=e;return t(lP,{"Array, Array, Array":function(e,t,n){if(2===e.length&&2===t.length&&2===n.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var s=a(r(n[1],n[0]),r(t[1],t[0])),u=i(i(s,s),t[0]),l=o(i(s,t[0])),h=e[1];return m(e[0],e[1],u,l,h)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,n){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(n).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in n&&"lineTwoPtY"in n){var s=a(r(n.lineTwoPtY,n.lineTwoPtX),r(t.lineOnePtY,t.lineOnePtX)),u=i(i(s,s),t.lineOnePtX),l=o(i(s,t.lineOnePtX)),h=e.pointX;return m(e.pointX,e.pointY,u,l,h)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!h(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!d(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(e.length===t.length&&e.length>0){if(!f(e))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!f(t))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(e,t)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return m(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!d(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return g(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return y([e.pointOneX,e.pointOneY],[t.pointTwoX,t.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return y([e.pointOneX,e.pointOneY,e.pointOneZ],[t.pointTwoX,t.pointTwoY,t.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&l(e[0][0])&&l(e[0][1])){if(e.some(e=>2!==e.length||!l(e[0])||!l(e[1])))return!1}else{if(!(3===e[0].length&&l(e[0][0])&&l(e[0][1])&&l(e[0][2])))return!1;if(e.some(e=>3!==e.length||!l(e[0])||!l(e[1])||!l(e[2])))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],n=[],r=[],i=0;i<e.length-1;i++)for(var a=i+1;a<e.length;a++)2===e[0].length?(n=[e[i][0],e[i][1]],r=[e[a][0],e[a][1]]):3===e[0].length&&(n=[e[i][0],e[i][1],e[i][2]],r=[e[a][0],e[a][1],e[a][2]]),t.push(y(n,r));return t}(e)}});function l(e){return"number"===typeof e||Lb(e)}function c(e){return e.constructor!==Array&&(e=p(e)),l(e[0])&&l(e[1])}function h(e){return e.constructor!==Array&&(e=p(e)),l(e[0])&&l(e[1])&&l(e[2])}function f(e){return Array.isArray(e)||(e=p(e)),e.every(l)}function d(e){return e.constructor!==Array&&(e=p(e)),l(e[0])&&l(e[1])&&l(e[2])&&l(e[3])&&l(e[4])&&l(e[5])}function p(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}function m(e,t,r,o,l){var c=u(n(n(i(r,e),i(o,t)),l)),h=s(n(i(r,r),i(o,o)));return a(c,h)}function g(e,t,o,u,l,c,h,f,d){var p=[r(i(r(l,t),d),i(r(c,o),f)),r(i(r(c,o),h),i(r(u,e),d)),r(i(r(u,e),f),i(r(l,t),h))];p=s(n(n(i(p[0],p[0]),i(p[1],p[1])),i(p[2],p[2])));var m=s(n(n(i(h,h),i(f,f)),i(d,d)));return a(p,m)}function y(e,t){for(var a=e.length,o=0,u=0,l=0;l<a;l++)u=r(e[l],t[l]),o=n(i(u,u),o);return s(o)}}),hP="dotMultiply",fP=rw(hP,["typed","matrix","equalScalar","multiplyScalar"],e=>{var{typed:t,matrix:n,equalScalar:r,multiplyScalar:i}=e,a=i_({typed:t,equalScalar:r}),o=$D({typed:t,equalScalar:r}),s=s_({typed:t,equalScalar:r}),u=l_({typed:t}),l=c_({typed:t});return t(hP,{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,i)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"DenseMatrix, any":function(e,t){return l(e,t,i,!1)},"any, SparseMatrix":function(e,t){return s(t,e,i,!0)},"any, DenseMatrix":function(e,t){return l(t,e,i,!0)},"Array, any":function(e,t){return l(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,i,!0).valueOf()}})}),dP=rw("FibonacciHeap",["smaller","larger"],e=>{var{smaller:t,larger:n}=e,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function a(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child===t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}function o(e,t){var n=t.parent;n&&(t.mark?(a(e,t,n),o(n)):t.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,n){var r={key:e,value:n,degree:0};if(this._minimum){var i=this._minimum;r.left=i,r.right=i.right,i.right=r,r.right.left=r,t(e,i.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,a=e.degree,o=e.child;a>0;){var u=o.right;o.left.right=o.right,o.right.left=o.left,o.left=i,o.right=i.right,i.right=o,o.right.left=o,o.parent=null,o=u,a--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var a,o=Math.floor(Math.log(i)*r)+1,u=new Array(o),l=0,c=e;if(c)for(l++,c=c.right;c!==e;)l++,c=c.right;for(;l>0;){for(var h=c.degree,f=c.right;a=u[h];){if(n(c.key,a.key)){var d=a;a=c,c=d}s(a,c),u[h]=null,h++}u[h]=c,c=f,l--}e=null;for(var p=0;p<o;p++)(a=u[p])&&(e?(a.left.right=a.right,a.right.left=a.left,a.left=e,a.right=e.right,e.right=a,a.right.left=a,t(a.key,e.key)&&(e=a)):e=a);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){this._minimum=function(e,n,r){n.key=r;var i=n.parent;i&&t(n.key,i.key)&&(a(e,n,i),o(e,i));t(n.key,e.key)&&(e=n);return e}(this._minimum,e,-1),this.extractMinimum()};var s=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i},{isClass:!0}),pP="fix",mP=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],gP=rw(pP,["typed","ceil","floor"],e=>{var{typed:t,ceil:n,floor:r}=e;return t(pP,{number:function(e){return e>0?r(e):n(e)},"number, number":function(e,t){return e>0?r(e,t):n(e,t)}})}),yP=rw(pP,mP,e=>{var{typed:t,Complex:n,matrix:r,ceil:i,floor:a,equalScalar:o,zeros:s,DenseMatrix:u}=e,l=u_({typed:t,DenseMatrix:u}),c=c_({typed:t}),h=gP({typed:t,ceil:i,floor:a});return t("fix",{number:h.signatures.number,"number, number | BigNumber":h.signatures["number,number"],Complex:function(e){return new n(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},"Complex, number":function(e,t){return new n(e.re>0?a(e.re,t):i(e.re,t),e.im>0?a(e.im,t):i(e.im,t))},"Complex, BigNumber":function(e,t){var r=t.toNumber();return new n(e.re>0?a(e.re,r):i(e.re,r),e.im>0?a(e.im,r):i(e.im,r))},BigNumber:function(e){return e.isNegative()?i(e):a(e)},"BigNumber, number | BigNumber":function(e,t){return e.isNegative()?i(e,t):a(e,t)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Fraction, number | BigNumber":function(e,t){return e.s<0?i(e,t):a(e,t)},"Array | Matrix":function(e){return MN(e,this,!0)},"Array | Matrix, number | BigNumber":function(e,t){return MN(e,e=>this(e,t),!0)},"number | Complex | Fraction | BigNumber, Array":function(e,t){return c(r(t),e,this,!0).valueOf()},"number | Complex | Fraction | BigNumber, Matrix":function(e,t){return o(e,0)?s(t.size(),t.storage()):"dense"===t.storage()?c(t,e,this,!0):l(t,e,this,!0)}})}),vP=rw("ImmutableDenseMatrix",["smaller","DenseMatrix"],e=>{var{smaller:t,DenseMatrix:n}=e;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!qb(t))throw new Error("Invalid datatype: "+t);if(Hb(e)||Vb(e)){var i=new n(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&Vb(e.data)&&Vb(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min="undefined"!==typeof e.min?e.min:null,this._max="undefined"!==typeof e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+wx(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return r.prototype=new n,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(e){switch(arguments.length){case 1:var t=n.prototype.subset.call(this,e);return Hb(t)?new r({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:$x(this._data),size:$x(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(n){(null===e||t(n,e))&&(e=n)}),this._min=null!==e?e:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(n){(null===e||t(e,n))&&(e=n)}),this._max=null!==e?e:void 0}return this._max},r},{isClass:!0}),bP=rw("Index",["ImmutableDenseMatrix"],e=>{var{ImmutableDenseMatrix:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,i=arguments.length;t<i;t++){var a=arguments[t];if(Yb(a))this._dimensions.push(a),this._isScalar=!1;else if(Array.isArray(a)||Hb(a)){var o=r(a.valueOf());this._dimensions.push(o);var s=o.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"===typeof a)this._dimensions.push(r([a]));else{if("string"!==typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(a)}}}function r(e){for(var n=0,r=e.length;n<r;n++)if("number"!==typeof e[n]||!Nx(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t(e)}return n.prototype.type="Index",n.prototype.isIndex=!0,n.prototype.clone=function(){var e=new n;return e._dimensions=$x(this._dimensions),e._isScalar=this._isScalar,e},n.create=function(e){var t=new n;return n.apply(t,e),t},n.prototype.size=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?1:r.size()[0]}return e},n.prototype.max=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?r:r.max()}return e},n.prototype.min=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?r:r.min()}return e},n.prototype.forEach=function(e){for(var t=0,n=this._dimensions.length;t<n;t++)e(this._dimensions[t],t,this)},n.prototype.dimension=function(e){return this._dimensions[e]||null},n.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"===typeof this._dimensions[0]},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e.push("string"===typeof r?r:r.toArray())}return e},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];"string"===typeof r?e.push(JSON.stringify(r)):e.push(r.toString())}return"["+e.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(e){return n.create(e.dimensions)},n},{isClass:!0}),xP=rw("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],e=>{var{typed:t,config:n,abs:r,add:i,addScalar:a,matrix:o,multiply:s,multiplyScalar:u,divideScalar:l,subtract:c,smaller:h,equalScalar:f,flatten:d,isZero:p,isNumeric:m}=e;return t("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(e,t,n){var r=g(e.valueOf(),t.valueOf(),n.valueOf());return null===r?null:o(r)},"Matrix, Matrix, Matrix, Matrix":function(e,t,n,r){var i=y(e.valueOf(),t.valueOf(),n.valueOf(),r.valueOf());return null===i?null:o(i)}});function g(e,t,n){if(e=v(e),t=v(t),n=v(n),!x(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&m(e[0])&&m(e[1])&&m(e[2])&&m(e[3])}(n))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,n,r,i,o,s,h,f,d){var p=u(e,s),m=u(r,s),g=u(t,h),y=u(i,h),v=u(n,f),b=u(o,f),x=c(c(c(d,p),g),v),w=c(c(c(a(a(m,y),b),p),g),v),N=l(x,w),E=a(e,u(N,c(r,e))),S=a(t,u(N,c(i,t))),M=a(n,u(N,c(o,n)));return[E,S,M]}(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],n[3])}function y(e,t,o,d){if(e=v(e),t=v(t),o=v(o),d=v(d),2===e.length){if(!b(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!b(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!b(o))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!b(d))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,o,f){var d=e,m=o,g=c(d,t),y=c(m,f),v=c(u(g[0],y[1]),u(y[0],g[1]));if(p(v))return null;if(h(r(v),n.epsilon))return null;var b=u(y[0],d[1]),x=u(y[1],d[0]),w=u(y[0],m[1]),N=u(y[1],m[0]),E=l(a(c(c(b,x),w),N),v);return i(s(g,E),d)}(e,t,o,d)}if(3===e.length){if(!x(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(o))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!x(d))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function(e,t,n,r,i,o,s,h,d,m,g,y){var v=w(e,s,m,s,t,h,g,h,n,d,y,d),b=w(m,s,r,e,g,h,i,t,y,d,o,n),x=w(e,s,r,e,t,h,i,t,n,d,o,n),N=w(m,s,m,s,g,h,g,h,y,d,y,d),E=w(r,e,r,e,i,t,i,t,o,n,o,n),S=c(u(v,b),u(x,N)),M=c(u(E,N),u(b,b));if(p(M))return null;var A=l(S,M),C=l(a(v,u(A,b)),N),T=a(e,u(A,c(r,e))),k=a(t,u(A,c(i,t))),I=a(n,u(A,c(o,n))),O=a(s,u(C,c(m,s))),_=a(h,u(C,c(g,h))),D=a(d,u(C,c(y,d)));return f(T,O)&&f(k,_)&&f(I,D)?[T,k,I]:null}(e[0],e[1],e[2],t[0],t[1],t[2],o[0],o[1],o[2],d[0],d[1],d[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function v(e){return 1===e.length?e[0]:e.length>1&&Array.isArray(e[0])&&e.every(e=>Array.isArray(e)&&1===e.length)?d(e):e}function b(e){return 2===e.length&&m(e[0])&&m(e[1])}function x(e){return 3===e.length&&m(e[0])&&m(e[1])&&m(e[2])}function w(e,t,n,r,i,o,s,l,h,f,d,p){var m=u(c(e,t),c(n,r)),g=u(c(i,o),c(s,l)),y=u(c(h,f),c(d,p));return a(a(m,g),y)}}),wP=rw("lcm",["typed","matrix","equalScalar"],e=>{var{typed:t,matrix:n,equalScalar:r}=e,i=i_({typed:t,equalScalar:r}),a=d_({typed:t,equalScalar:r}),o=s_({typed:t,equalScalar:r}),s=l_({typed:t}),u=c_({typed:t});return t("lcm",{"number, number":dT,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;var n=e.times(t);for(;!t.isZero();){var r=t;t=e.mod(r),e=r}return n.div(e).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return o(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return o(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return u(n(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return u(n(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}})}),NP="log1p",EP=rw(NP,["typed","config","divideScalar","log","Complex"],e=>{var{typed:t,config:n,divideScalar:r,log:i,Complex:a}=e;return t(NP,{number:function(e){return e>=-1||n.predictable?Ax(e):o(new a(e,0))},Complex:o,BigNumber:function(e){var t=e.plus(1);return!t.isNegative()||n.predictable?t.ln():o(new a(e.toNumber(),0))},"Array | Matrix":function(e){return MN(e,this)},"any, any":function(e,t){return r(this(e),i(t))}});function o(e){var t=e.re+1;return new a(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}}),SP=rw("quantileSeq",["typed","add","multiply","partitionSelect","compare"],e=>{var{typed:t,add:n,multiply:r,partitionSelect:i,compare:a}=e;function o(e,t,o){var u=Fw(e),l=u.length;if(0===l)throw new Error("Cannot calculate quantile of an empty sequence");if(jb(t)){var c=t*(l-1),h=c%1;if(0===h){var f=o?u[c]:i(u,c);return s(f),f}var d,p,m=Math.floor(c);if(o)d=u[m],p=u[m+1];else{p=i(u,m+1),d=u[m];for(var g=0;g<m;++g)a(u[g],d)>0&&(d=u[g])}return s(d),s(p),n(r(d,1-h),r(p,h))}var y=t.times(l-1);if(y.isInteger()){y=y.toNumber();var v=o?u[y]:i(u,y);return s(v),v}var b,x,w=y.floor(),N=y.minus(w),E=w.toNumber();if(o)b=u[E],x=u[E+1];else{x=i(u,E+1),b=u[E];for(var S=0;S<E;++S)a(u[S],b)>0&&(b=u[S])}s(b),s(x);var M=new N.constructor(1);return n(r(b,M.minus(N)),r(x,N))}var s=t({"number | BigNumber | Unit":function(e){return e}});return function(e,t,n){var r,i,a;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(Wb(e)){if("boolean"===typeof(n=n||!1)){if(i=e.valueOf(),jb(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return o(i,t,n);if(t>1){if(!Nx(t))throw new Error("N must be a positive integer");var s=t+1;r=new Array(t);for(var u=0;u<t;)r[u]=o(i,++u/s,n);return r}}if(Lb(t)){var l=t.constructor;if(t.isNegative())throw new Error("N/prob must be non-negative");if(a=new l(1),t.lte(a))return new l(o(i,t,n));if(t.gt(a)){if(!t.isInteger())throw new Error("N must be a positive integer");var c=t.toNumber();if(c>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var h=new l(c+1);r=new Array(c);for(var f=0;f<c;)r[f]=new l(o(i,new l(++f).div(h),n));return r}}if(Array.isArray(t)){r=new Array(t.length);for(var d=0;d<r.length;++d){var p=t[d];if(jb(p)){if(p<0||p>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!Lb(p))throw new TypeError("Unexpected type of argument in function quantileSeq");if(a=new p.constructor(1),p.isNegative()||p.gt(a))throw new Error("Probability must be between 0 and 1, inclusive")}r[d]=o(i,p,n)}return r}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}),MP="setCartesian",AP=rw(MP,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(MP,{"Array | Matrix, Array | Matrix":function(e,t){var s=[];if(0!==r(n(e),new a(0))&&0!==r(n(t),new a(0))){var u=Fw(Array.isArray(e)?e:e.toArray()).sort(i),l=Fw(Array.isArray(t)?t:t.toArray()).sort(i);s=[];for(var c=0;c<u.length;c++)for(var h=0;h<l.length;h++)s.push([u[c],l[h]])}return Array.isArray(e)&&Array.isArray(t)?s:new o(s)}})}),CP="setDistinct",TP=rw(CP,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(CP,{"Array | Matrix":function(e){var t;if(0===r(n(e),new a(0)))t=[];else{var s=Fw(Array.isArray(e)?e:e.toArray()).sort(i);(t=[]).push(s[0]);for(var u=1;u<s.length;u++)0!==i(s[u],s[u-1])&&t.push(s[u])}return Array.isArray(e)?t:new o(t)}})}),kP="setIsSubset",IP=rw(kP,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a}=e;return t(kP,{"Array | Matrix, Array | Matrix":function(e,t){if(0===r(n(e),new a(0)))return!0;if(0===r(n(t),new a(0)))return!1;for(var o,s=qw(Fw(Array.isArray(e)?e:e.toArray()).sort(i)),u=qw(Fw(Array.isArray(t)?t:t.toArray()).sort(i)),l=0;l<s.length;l++){o=!1;for(var c=0;c<u.length;c++)if(0===i(s[l].value,u[c].value)&&s[l].identifier===u[c].identifier){o=!0;break}if(!1===o)return!1}return!0}})}),OP="setPowerset",_P=rw(OP,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a}=e;return t(OP,{"Array | Matrix":function(e){if(0===r(n(e),new a(0)))return[];for(var t=Fw(Array.isArray(e)?e:e.toArray()).sort(i),s=[],u=0;u.toString(2).length<=t.length;)s.push(o(t,u.toString(2).split("").reverse())),u++;return function(e){for(var t=[],n=e.length-1;n>0;n--)for(var r=0;r<n;r++)e[r].length>e[r+1].length&&(t=e[r],e[r]=e[r+1],e[r+1]=t);return e}(s)}});function o(e,t){for(var n=[],r=0;r<t.length;r++)"1"===t[r]&&n.push(e[r]);return n}}),DP="sort",RP=rw(DP,["typed","matrix","compare","compareNatural"],e=>{var{typed:t,matrix:n,compare:r,compareNatural:i}=e,a=r,o=(e,t)=>-r(e,t);return t(DP,{Array:function(e){return u(e),e.sort(a)},Matrix:function(e){return l(e),n(e.toArray().sort(a),e.storage())},"Array, function":function(e,t){return u(e),e.sort(t)},"Matrix, function":function(e,t){return l(e),n(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return u(e),e.sort(s(t))},"Matrix, string":function(e,t){return l(e),n(e.toArray().sort(s(t)),e.storage())}});function s(e){if("asc"===e)return a;if("desc"===e)return o;if("natural"===e)return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(e){if(1!==Ew(e).length)throw new Error("One dimensional array expected")}function l(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}}),PP="index",FP=rw(PP,["typed","Index"],e=>{var{typed:t,Index:n}=e;return t(PP,{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map(function(e){return Lb(e)?e.toNumber():Array.isArray(e)||Hb(e)?e.map(function(e){return Lb(e)?e.toNumber():e}):e}),r=new n;return n.apply(r,t),r}})}),jP=rw("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],e=>{var{typed:t,matrix:n,divideScalar:r,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:u,abs:l}=e;return t("inv",{"Array | Matrix":function(e){var t=Hb(e)?e.size():Ew(e);switch(t.length){case 1:if(1===t[0])return Hb(e)?n([r(1,e.valueOf()[0])]):[r(1,e[0])];throw new RangeError("Matrix must be square (size: "+Yx(t)+")");case 2:var i=t[0],a=t[1];if(i===a)return Hb(e)?n(c(e.valueOf(),i,a),e.storage()):c(e,i,a);throw new RangeError("Matrix must be square (size: "+Yx(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Yx(t)+")")}},any:function(e){return r(1,e)}});function c(e,t,n){var c,h,f,d,p;if(1===t){if(0===(d=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,d)]]}if(2===t){var m=s(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(e[1][1],m),r(o(e[0][1]),m)],[r(o(e[1][0]),m),r(e[0][0],m)]]}var g=e.concat();for(c=0;c<t;c++)g[c]=g[c].concat();for(var y=u(t).valueOf(),v=0;v<n;v++){var b=l(g[v][v]),x=v;for(c=v+1;c<t;)l(g[c][v])>b&&(b=l(g[c][v]),x=c),c++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(c=x)!==v&&(p=g[v],g[v]=g[c],g[c]=p,p=y[v],y[v]=y[c],y[c]=p);var w=g[v],N=y[v];for(c=0;c<t;c++){var E=g[c],S=y[c];if(c!==v){if(0!==E[v]){for(f=r(o(E[v]),w[v]),h=v;h<n;h++)E[h]=i(E[h],a(f,w[h]));for(h=0;h<n;h++)S[h]=i(S[h],a(f,N[h]))}}else{for(f=w[v],h=v;h<n;h++)E[h]=r(E[h],f);for(h=0;h<n;h++)S[h]=r(S[h],f)}}}return y}}),LP="pinv",BP=rw(LP,["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],e=>{var{typed:t,matrix:n,inv:r,deepEqual:i,equal:a,dotDivide:o,dot:s,ctranspose:u,divideScalar:l,multiply:c,add:h,Complex:f}=e;return t(LP,{"Array | Matrix":function(e){var t=Hb(e)?e.size():Ew(e);switch(t.length){case 1:return m(e)?u(e):1===t[0]?r(e):o(u(e),s(e,e));case 2:if(m(e))return u(e);var i=t[0],a=t[1];if(i===a)try{return r(e)}catch(l){if(!(l instanceof Error&&l.message.match(/Cannot calculate inverse, determinant is zero/)))throw l}return Hb(e)?n(d(e.valueOf(),i,a),e.storage()):d(e,i,a);default:throw new RangeError("Matrix must be two dimensional (size: "+Yx(t)+")")}},any:function(e){return a(e,0)?$x(e):l(1,e)}});function d(e,t,n){var{C:i,F:a}=function(e,t,n){var r=function(e,t,n){for(var r=$x(e),i=0,a=0;a<t;a++){if(n<=i)return r;for(var s=a;p(r[s][i]);)if(t===++s&&(s=a,n===++i))return r;[r[s],r[a]]=[r[a],r[s]];for(var u=r[a][i],l=0;l<n;l++)r[a][l]=o(r[a][l],u);for(var f=0;f<t;f++)if(f!==a){u=r[f][i];for(var d=0;d<n;d++)r[f][d]=h(r[f][d],c(-1,c(u,r[a][d])))}i++}return r}(e,t,n),i=e.map((e,n)=>e.filter((e,n)=>n<t&&!p(s(r[n],r[n])))),a=r.filter((e,t)=>!p(s(r[t],r[t])));return{C:i,F:a}}(e,t,n),l=c(r(c(u(i),i)),u(i)),f=c(u(a),r(c(a,u(a))));return c(f,l)}function p(e){return a(h(e,f(1,1)),h(0,f(1,1)))}function m(e){return i(h(e,f(1,1)),h(c(e,0),f(1,1)))}}),UP=rw("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],e=>{var{typed:t,config:n,identity:r,multiply:i,matrix:a,inv:o,number:s,fraction:u,Complex:l}=e;return t("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||n.predictable?e.pow(t):new l(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){var r=e.pow(t);if(null!=r)return r;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(e.valueOf(),t.valueOf())},"Array, number":h,"Array, BigNumber":function(e,t){return h(e,t.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(e,t){return f(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,t){if(n.predictable&&!Nx(t)&&e<0)try{var r=u(t),i=s(r);if((t===i||Math.abs((t-i)/t)<1e-14)&&r.d%2===1)return(r.n%2===0?1:-1)*Math.pow(-e,t)}catch(a){}return n.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:Nx(t)||e>=0||n.predictable?wT(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new l(e,0).pow(t,0)}function h(e,t){if(!Nx(t))throw new TypeError("For A^b, b must be an integer (value is "+t+")");var n=Ew(e);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");if(t<0)try{return h(o(e),-t)}catch(u){if("Cannot calculate inverse, determinant is zero"===u.message)throw new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+t+")");throw u}for(var a=r(n[0]).valueOf(),s=e;t>=1;)1===(1&t)&&(a=i(s,a)),t>>=1,s=i(s,s);return a}function f(e,t){return a(h(e.valueOf(),t))}}),zP="setDifference",qP=rw(zP,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(zP,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===r(n(e),new a(0)))s=[];else{if(0===r(n(t),new a(0)))return Fw(e.toArray());var u,l=qw(Fw(Array.isArray(e)?e:e.toArray()).sort(i)),c=qw(Fw(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var h=0;h<l.length;h++){u=!1;for(var f=0;f<c.length;f++)if(0===i(l[h].value,c[f].value)&&l[h].identifier===c[f].identifier){u=!0;break}u||s.push(l[h])}}return Array.isArray(e)&&Array.isArray(t)?Vw(s):new o(Vw(s))}})}),VP="setMultiplicity",HP=rw(VP,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a}=e;return t(VP,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===r(n(t),new a(0)))return 0;for(var o=Fw(Array.isArray(t)?t:t.toArray()),s=0,u=0;u<o.length;u++)0===i(o[u],e)&&s++;return s}})}),WP=rw("Spa",["addScalar","equalScalar","FibonacciHeap"],e=>{var{addScalar:t,equalScalar:n,FibonacciHeap:r}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,n){var r=this._values[e];r?r.value=t(r.value,n):(r=this._heap.insert(e,n),this._values[e]=r)},i.prototype.forEach=function(e,t,r){var i=this._heap,a=this._values,o=[],s=i.extractMinimum();for(s&&o.push(s);s&&s.key<=t;)s.key>=e&&(n(s.value,0)||r(s.key,s.value,this)),(s=i.extractMinimum())&&o.push(s);for(var u=0;u<o.length;u++){var l=o[u];a[(s=i.insert(l.key,l.value)).key]=s}},i.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i},{isClass:!0}),KP="sqrtm",GP=rw(KP,["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],e=>{var{typed:t,abs:n,add:r,multiply:i,sqrt:a,subtract:o,inv:s,size:u,max:l,identity:c}=e,h=1e-6;function f(e){var t,a=0,f=e,d=c(u(e));do{var p=f;if(f=i(.5,r(p,s(d))),d=i(.5,r(d,s(p))),(t=l(n(o(f,p))))>h&&++a>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>h);return f}return t(KP,{"Array | Matrix":function(e){var t=Hb(e)?e.size():Ew(e);switch(t.length){case 1:if(1===t[0])return a(e);throw new RangeError("Matrix must be square (size: "+Yx(t)+")");case 2:if(t[0]===t[1])return f(e);throw new RangeError("Matrix must be square (size: "+Yx(t)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+Yx(t)+")")}}})});function YP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YP(Object(n),!0).forEach(function(t){Fn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var JP=rw("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],e=>{var t,n,r,{on:i,config:a,addScalar:o,subtract:s,multiplyScalar:u,divideScalar:l,pow:c,abs:h,fix:f,round:d,equal:p,isNumeric:m,format:g,number:y,Complex:v,BigNumber:b,Fraction:x}=e,w=y;function N(e,t){if(!(this instanceof N))throw new Error("Constructor must be called with the new operator");if(null!==e&&void 0!==e&&!m(e)&&!Bb(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!==typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var n=N.parse(t);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:F,prefix:_.NONE,power:0}],this.dimensions=[];for(var r=0;r<D.length;r++)this.dimensions[r]=0}this.value=void 0!==e&&null!==e?this._normalize(e):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function E(){for(;" "===r||"\t"===r;)M()}function S(e){return e>="0"&&e<="9"}function M(){n++,r=t.charAt(n)}function A(e){n=e,r=t.charAt(n)}function C(){var e="",t=n;if("+"===r?M():"-"===r&&(e+=r,M()),!function(e){return e>="0"&&e<="9"||"."===e}(r))return A(t),null;if("."===r){if(e+=r,M(),!S(r))return A(t),null}else{for(;S(r);)e+=r,M();"."===r&&(e+=r,M())}for(;S(r);)e+=r,M();if("E"===r||"e"===r){var i="",a=n;if(i+=r,M(),"+"!==r&&"-"!==r||(i+=r,M()),!S(r))return A(a),e;for(e+=i;S(r);)e+=r,M()}return e}function T(){for(var e="";S(r)||N.isValidAlpha(r);)e+=r,M();var t=e.charAt(0);return N.isValidAlpha(t)?e:null}function k(e){return r===e?(M(),e):null}N.prototype.type="Unit",N.prototype.isUnit=!0,N.parse=function(e,i){if(i=i||{},n=-1,r="","string"!==typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var o=new N;o.units=[];var s=1,u=!1;M(),E();var l=C(),c=null;if(l){if("BigNumber"===a.number)c=new b(l);else if("Fraction"===a.number)try{c=new x(l)}catch(S){c=parseFloat(l)}else c=parseFloat(l);E(),k("*")?(s=1,u=!0):k("/")&&(s=-1,u=!0)}for(var h=[],f=1;;){for(E();"("===r;)h.push(s),f*=s,s=1,M(),E();var d=void 0;if(!r)break;var p=r;if(null===(d=T()))throw new SyntaxError('Unexpected "'+p+'" in "'+t+'" at index '+n.toString());var m=I(d);if(null===m)throw new SyntaxError('Unit "'+d+'" not found.');var g=s*f;if(E(),k("^")){E();var y=C();if(null===y)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=y}o.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var v=0;v<D.length;v++)o.dimensions[v]+=(m.unit.dimensions[v]||0)*g;for(E();")"===r;){if(0===h.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+n.toString());f/=h.pop(),M(),E()}if(u=!1,k("*")?(s=1,u=!0):k("/")?(s=-1,u=!0):s=1,m.unit.base){var w=m.unit.base.key;U.auto[w]={unit:m.unit,prefix:m.prefix}}}if(E(),r)throw new SyntaxError('Could not parse: "'+e+'"');if(u)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==h.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===o.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return o.value=void 0!==c?o._normalize(c):null,o},N.prototype.clone=function(){var e=new N;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=$x(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var n in e.units[t]={},this.units[t])nw(this.units[t],n)&&(e.units[t][n]=this.units[t][n]);return e},N.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},N.prototype._normalize=function(e){if(null===e||void 0===e||0===this.units.length)return e;for(var t=e,n=N._getNumberConverter(wx(e)),r=0;r<this.units.length;r++){var i=n(this.units[r].unit.value),a=n(this.units[r].prefix.value),o=n(this.units[r].power);t=u(t,c(u(i,a),o))}return t},N.prototype._denormalize=function(e,t){if(null===e||void 0===e||0===this.units.length)return e;for(var n=e,r=N._getNumberConverter(wx(e)),i=0;i<this.units.length;i++){var a=r(this.units[i].unit.value),o=r(this.units[i].prefix.value),s=r(this.units[i].power);n=l(n,c(u(a,o),s))}return n};var I=fE(e=>{if(nw(j,e)){var t=j[e];return{unit:t,prefix:t.prefixes[""]}}for(var n in j)if(nw(j,n)&&Gx(e,n)){var r=j[n],i=e.length-n.length,a=e.substring(0,i),o=nw(r.prefixes,a)?r.prefixes[a]:void 0;if(void 0!==o)return{unit:r,prefix:o}}return null},{hasher:e=>e[0],limit:100});function O(e){return e.equalBase(R.NONE)&&null!==e.value&&!a.predictable?e.value:e}N.isValuelessUnit=function(e){return null!==I(e)},N.prototype.hasBase=function(e){if("string"===typeof e&&(e=R[e]),!e)return!1;for(var t=0;t<D.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},N.prototype.equalBase=function(e){for(var t=0;t<D.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},N.prototype.equals=function(e){return this.equalBase(e)&&p(this.value,e.value)},N.prototype.multiply=function(e){for(var t=this.clone(),n=0;n<D.length;n++)t.dimensions[n]=(this.dimensions[n]||0)+(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i=QP({},e.units[r]);t.units.push(i)}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,o=null===e.value?e._normalize(1):e.value;t.value=u(a,o)}else t.value=null;return t.skipAutomaticSimplification=!1,O(t)},N.prototype.divide=function(e){for(var t=this.clone(),n=0;n<D.length;n++)t.dimensions[n]=(this.dimensions[n]||0)-(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i=QP(QP({},e.units[r]),{},{power:-e.units[r].power});t.units.push(i)}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,o=null===e.value?e._normalize(1):e.value;t.value=l(a,o)}else t.value=null;return t.skipAutomaticSimplification=!1,O(t)},N.prototype.pow=function(e){for(var t=this.clone(),n=0;n<D.length;n++)t.dimensions[n]=(this.dimensions[n]||0)*e;for(var r=0;r<t.units.length;r++)t.units[r].power*=e;return null!==t.value?t.value=c(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,O(t)},N.prototype.abs=function(){var e=this.clone();if(null!==e.value)if(e._isDerived()||0===e.units[0].unit.offset)e.value=h(e.value);else{var t=N._getNumberConverter(wx(e.value)),n=t(e.units[0].unit.value),r=t(e.units[0].unit.offset),i=u(n,r);e.value=s(h(o(e.value,i)),i)}for(var a in e.units)"VA"!==e.units[a].unit.name&&"VAR"!==e.units[a].unit.name||(e.units[a].unit=j.W);return e},N.prototype.to=function(e){var t,n=null===this.value?this._normalize(1):this.value;if("string"===typeof e)t=N.parse(e);else{if(!zb(e))throw new Error("String or Unit expected as parameter");t=e.clone()}if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||this.units[0].unit.offset===t.units[0].unit.offset)t.value=$x(n);else{var r=N._getNumberConverter(wx(n)),i=r(this.units[0].unit.value),a=r(this.units[0].unit.offset),l=u(i,a),c=r(t.units[0].unit.value),h=r(t.units[0].unit.offset),f=u(c,h);t.value=s(o(n,l),f)}return t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},N.prototype.toNumber=function(e){return w(this.toNumeric(e))},N.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},N.prototype.toString=function(){return this.format()},N.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},N.fromJSON=function(e){var t=new N(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},N.prototype.valueOf=N.prototype.toString,N.prototype.simplify=function(){var e,t,n=this.clone(),r=[];for(var i in z)if(nw(z,i)&&n.hasBase(R[i])){e=i;break}if("NONE"===e)n.units=[];else if(e&&nw(z,e)&&(t=z[e]),t)n.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var a=!1,o=0;o<D.length;o++){var s=D[o];Math.abs(n.dimensions[o]||0)>1e-12&&(nw(z,s)?r.push({unit:z[s].unit,prefix:z[s].prefix,power:n.dimensions[o]||0}):a=!0)}r.length<n.units.length&&!a&&(n.units=r)}return n},N.prototype.toSI=function(){for(var e=this.clone(),t=[],n=0;n<D.length;n++){var r=D[n];if(Math.abs(e.dimensions[n]||0)>1e-12){if(!nw(U.si,r))throw new Error("Cannot express custom unit "+r+" in SI units");t.push({unit:U.si[r].unit,prefix:U.si[r].prefix,power:e.dimensions[n]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},N.prototype.formatUnits=function(){for(var e="",t="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var a=0;a<this.units.length;a++)this.units[a].power<0&&(n>0?(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power+1)>1e-15&&(t+="^"+-this.units[a].power)):(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,t+="^"+this.units[a].power));e=e.substr(1),t=t.substr(1),n>1&&r>0&&(e="("+e+")"),r>1&&n>0&&(t="("+t+")");var o=e;return n>0&&r>0&&(o+=" / "),o+=t},N.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var r in"undefined"!==typeof t.value&&null!==t.value&&Bb(t.value)&&(n=Math.abs(t.value.re)<1e-14),t.units)nw(t.units,r)&&t.units[r].unit&&("VA"===t.units[r].unit.name&&n?t.units[r].unit=j.VAR:"VAR"!==t.units[r].unit.name||n||(t.units[r].unit=j.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var i=t._denormalize(t.value),a=null!==t.value?g(i,e||{}):"",o=t.formatUnits();return t.value&&Bb(t.value)&&(a="("+a+")"),o.length>0&&a.length>0&&(a+=" "),a+=o},N.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?h(this.value):0,t=h(this.units[0].unit.value),n=this.units[0].prefix;if(0===e)return n;var r=this.units[0].power,i=Math.log(e/Math.pow(n.value*t,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var a=this.units[0].unit.prefixes;for(var o in a)if(nw(a,o)){var s=a[o];if(s.scientific){var u=Math.abs(Math.log(e/Math.pow(s.value*t,r))/Math.LN10-1.2);(u<i||u===i&&s.name.length<n.name.length)&&(n=s,i=u)}}return n},N.prototype.splitUnit=function(e){for(var t=this.clone(),n=[],r=0;r<e.length&&(t=t.to(e[r]),r!==e.length-1);r++){var i=t.toNumeric(),a=d(i),u=new N(p(a,i)?a:f(t.toNumeric()),e[r].toString());n.push(u),t=s(t,u)}for(var l=0,c=0;c<n.length;c++)l=o(l,n[c].value);return p(l,this.value)&&(t.value=0),n.push(t),n};var _={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};_.SHORTLONG=_b({},_.SHORT,_.LONG),_.BINARY_SHORT=_b({},_.BINARY_SHORT_SI,_.BINARY_SHORT_IEC),_.BINARY_LONG=_b({},_.BINARY_LONG_SI,_.BINARY_LONG_IEC);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],R={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var P in R)nw(R,P)&&(R[P].key=P);var F={name:"",base:{},value:1,offset:0,dimensions:D.map(e=>0)},j={meter:{name:"meter",base:R.LENGTH,prefixes:_.LONG,value:1,offset:0},inch:{name:"inch",base:R.LENGTH,prefixes:_.NONE,value:.0254,offset:0},foot:{name:"foot",base:R.LENGTH,prefixes:_.NONE,value:.3048,offset:0},yard:{name:"yard",base:R.LENGTH,prefixes:_.NONE,value:.9144,offset:0},mile:{name:"mile",base:R.LENGTH,prefixes:_.NONE,value:1609.344,offset:0},link:{name:"link",base:R.LENGTH,prefixes:_.NONE,value:.201168,offset:0},rod:{name:"rod",base:R.LENGTH,prefixes:_.NONE,value:5.0292,offset:0},chain:{name:"chain",base:R.LENGTH,prefixes:_.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:R.LENGTH,prefixes:_.NONE,value:1e-10,offset:0},m:{name:"m",base:R.LENGTH,prefixes:_.SHORT,value:1,offset:0},in:{name:"in",base:R.LENGTH,prefixes:_.NONE,value:.0254,offset:0},ft:{name:"ft",base:R.LENGTH,prefixes:_.NONE,value:.3048,offset:0},yd:{name:"yd",base:R.LENGTH,prefixes:_.NONE,value:.9144,offset:0},mi:{name:"mi",base:R.LENGTH,prefixes:_.NONE,value:1609.344,offset:0},li:{name:"li",base:R.LENGTH,prefixes:_.NONE,value:.201168,offset:0},rd:{name:"rd",base:R.LENGTH,prefixes:_.NONE,value:5.02921,offset:0},ch:{name:"ch",base:R.LENGTH,prefixes:_.NONE,value:20.1168,offset:0},mil:{name:"mil",base:R.LENGTH,prefixes:_.NONE,value:254e-7,offset:0},m2:{name:"m2",base:R.SURFACE,prefixes:_.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:R.SURFACE,prefixes:_.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:R.SURFACE,prefixes:_.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:R.SURFACE,prefixes:_.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:R.SURFACE,prefixes:_.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:R.SURFACE,prefixes:_.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:R.SURFACE,prefixes:_.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:R.SURFACE,prefixes:_.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:R.SURFACE,prefixes:_.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:R.SURFACE,prefixes:_.NONE,value:1e4,offset:0},m3:{name:"m3",base:R.VOLUME,prefixes:_.CUBIC,value:1,offset:0},L:{name:"L",base:R.VOLUME,prefixes:_.SHORT,value:.001,offset:0},l:{name:"l",base:R.VOLUME,prefixes:_.SHORT,value:.001,offset:0},litre:{name:"litre",base:R.VOLUME,prefixes:_.LONG,value:.001,offset:0},cuin:{name:"cuin",base:R.VOLUME,prefixes:_.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:R.VOLUME,prefixes:_.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:R.VOLUME,prefixes:_.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:R.VOLUME,prefixes:_.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:R.VOLUME,prefixes:_.NONE,value:15e-6,offset:0},drop:{name:"drop",base:R.VOLUME,prefixes:_.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:R.VOLUME,prefixes:_.NONE,value:5e-8,offset:0},minim:{name:"minim",base:R.VOLUME,prefixes:_.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:R.VOLUME,prefixes:_.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:R.VOLUME,prefixes:_.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:R.VOLUME,prefixes:_.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:R.VOLUME,prefixes:_.NONE,value:1e-6,offset:0},cup:{name:"cup",base:R.VOLUME,prefixes:_.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:R.VOLUME,prefixes:_.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:R.VOLUME,prefixes:_.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:R.VOLUME,prefixes:_.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:R.VOLUME,prefixes:_.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:R.VOLUME,prefixes:_.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:R.VOLUME,prefixes:_.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:R.VOLUME,prefixes:_.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:R.VOLUME,prefixes:_.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:R.VOLUME,prefixes:_.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:R.VOLUME,prefixes:_.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:R.VOLUME,prefixes:_.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:R.VOLUME,prefixes:_.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:R.VOLUME,prefixes:_.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:R.VOLUME,prefixes:_.NONE,value:.1173478,offset:0},obl:{name:"obl",base:R.VOLUME,prefixes:_.NONE,value:.1589873,offset:0},g:{name:"g",base:R.MASS,prefixes:_.SHORT,value:.001,offset:0},gram:{name:"gram",base:R.MASS,prefixes:_.LONG,value:.001,offset:0},ton:{name:"ton",base:R.MASS,prefixes:_.SHORT,value:907.18474,offset:0},t:{name:"t",base:R.MASS,prefixes:_.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:R.MASS,prefixes:_.LONG,value:1e3,offset:0},grain:{name:"grain",base:R.MASS,prefixes:_.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:R.MASS,prefixes:_.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:R.MASS,prefixes:_.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:R.MASS,prefixes:_.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:R.MASS,prefixes:_.NONE,value:45.359237,offset:0},stick:{name:"stick",base:R.MASS,prefixes:_.NONE,value:.115,offset:0},stone:{name:"stone",base:R.MASS,prefixes:_.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:R.MASS,prefixes:_.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:R.MASS,prefixes:_.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:R.MASS,prefixes:_.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:R.MASS,prefixes:_.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:R.MASS,prefixes:_.NONE,value:45.359237,offset:0},s:{name:"s",base:R.TIME,prefixes:_.SHORT,value:1,offset:0},min:{name:"min",base:R.TIME,prefixes:_.NONE,value:60,offset:0},h:{name:"h",base:R.TIME,prefixes:_.NONE,value:3600,offset:0},second:{name:"second",base:R.TIME,prefixes:_.LONG,value:1,offset:0},sec:{name:"sec",base:R.TIME,prefixes:_.LONG,value:1,offset:0},minute:{name:"minute",base:R.TIME,prefixes:_.NONE,value:60,offset:0},hour:{name:"hour",base:R.TIME,prefixes:_.NONE,value:3600,offset:0},day:{name:"day",base:R.TIME,prefixes:_.NONE,value:86400,offset:0},week:{name:"week",base:R.TIME,prefixes:_.NONE,value:604800,offset:0},month:{name:"month",base:R.TIME,prefixes:_.NONE,value:2629800,offset:0},year:{name:"year",base:R.TIME,prefixes:_.NONE,value:31557600,offset:0},decade:{name:"decade",base:R.TIME,prefixes:_.NONE,value:315576e3,offset:0},century:{name:"century",base:R.TIME,prefixes:_.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:R.TIME,prefixes:_.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:R.FREQUENCY,prefixes:_.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:R.FREQUENCY,prefixes:_.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:R.ANGLE,prefixes:_.SHORT,value:1,offset:0},radian:{name:"radian",base:R.ANGLE,prefixes:_.LONG,value:1,offset:0},deg:{name:"deg",base:R.ANGLE,prefixes:_.SHORT,value:null,offset:0},degree:{name:"degree",base:R.ANGLE,prefixes:_.LONG,value:null,offset:0},grad:{name:"grad",base:R.ANGLE,prefixes:_.SHORT,value:null,offset:0},gradian:{name:"gradian",base:R.ANGLE,prefixes:_.LONG,value:null,offset:0},cycle:{name:"cycle",base:R.ANGLE,prefixes:_.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:R.ANGLE,prefixes:_.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:R.ANGLE,prefixes:_.NONE,value:null,offset:0},A:{name:"A",base:R.CURRENT,prefixes:_.SHORT,value:1,offset:0},ampere:{name:"ampere",base:R.CURRENT,prefixes:_.LONG,value:1,offset:0},K:{name:"K",base:R.TEMPERATURE,prefixes:_.NONE,value:1,offset:0},degC:{name:"degC",base:R.TEMPERATURE,prefixes:_.NONE,value:1,offset:273.15},degF:{name:"degF",base:R.TEMPERATURE,prefixes:_.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:R.TEMPERATURE,prefixes:_.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:R.TEMPERATURE,prefixes:_.NONE,value:1,offset:0},celsius:{name:"celsius",base:R.TEMPERATURE,prefixes:_.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:R.TEMPERATURE,prefixes:_.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:R.TEMPERATURE,prefixes:_.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:R.AMOUNT_OF_SUBSTANCE,prefixes:_.SHORT,value:1,offset:0},mole:{name:"mole",base:R.AMOUNT_OF_SUBSTANCE,prefixes:_.LONG,value:1,offset:0},cd:{name:"cd",base:R.LUMINOUS_INTENSITY,prefixes:_.SHORT,value:1,offset:0},candela:{name:"candela",base:R.LUMINOUS_INTENSITY,prefixes:_.LONG,value:1,offset:0},N:{name:"N",base:R.FORCE,prefixes:_.SHORT,value:1,offset:0},newton:{name:"newton",base:R.FORCE,prefixes:_.LONG,value:1,offset:0},dyn:{name:"dyn",base:R.FORCE,prefixes:_.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:R.FORCE,prefixes:_.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:R.FORCE,prefixes:_.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:R.FORCE,prefixes:_.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:R.FORCE,prefixes:_.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:R.FORCE,prefixes:_.NONE,value:9.80665,offset:0},J:{name:"J",base:R.ENERGY,prefixes:_.SHORT,value:1,offset:0},joule:{name:"joule",base:R.ENERGY,prefixes:_.SHORT,value:1,offset:0},erg:{name:"erg",base:R.ENERGY,prefixes:_.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:R.ENERGY,prefixes:_.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:R.ENERGY,prefixes:_.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:R.ENERGY,prefixes:_.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:R.ENERGY,prefixes:_.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:R.POWER,prefixes:_.SHORT,value:1,offset:0},watt:{name:"watt",base:R.POWER,prefixes:_.LONG,value:1,offset:0},hp:{name:"hp",base:R.POWER,prefixes:_.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:R.POWER,prefixes:_.SHORT,value:v.I,offset:0},VA:{name:"VA",base:R.POWER,prefixes:_.SHORT,value:1,offset:0},Pa:{name:"Pa",base:R.PRESSURE,prefixes:_.SHORT,value:1,offset:0},psi:{name:"psi",base:R.PRESSURE,prefixes:_.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:R.PRESSURE,prefixes:_.NONE,value:101325,offset:0},bar:{name:"bar",base:R.PRESSURE,prefixes:_.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:R.PRESSURE,prefixes:_.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:R.PRESSURE,prefixes:_.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:R.PRESSURE,prefixes:_.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:R.PRESSURE,prefixes:_.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:R.ELECTRIC_CHARGE,prefixes:_.LONG,value:1,offset:0},C:{name:"C",base:R.ELECTRIC_CHARGE,prefixes:_.SHORT,value:1,offset:0},farad:{name:"farad",base:R.ELECTRIC_CAPACITANCE,prefixes:_.LONG,value:1,offset:0},F:{name:"F",base:R.ELECTRIC_CAPACITANCE,prefixes:_.SHORT,value:1,offset:0},volt:{name:"volt",base:R.ELECTRIC_POTENTIAL,prefixes:_.LONG,value:1,offset:0},V:{name:"V",base:R.ELECTRIC_POTENTIAL,prefixes:_.SHORT,value:1,offset:0},ohm:{name:"ohm",base:R.ELECTRIC_RESISTANCE,prefixes:_.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:R.ELECTRIC_INDUCTANCE,prefixes:_.LONG,value:1,offset:0},H:{name:"H",base:R.ELECTRIC_INDUCTANCE,prefixes:_.SHORT,value:1,offset:0},siemens:{name:"siemens",base:R.ELECTRIC_CONDUCTANCE,prefixes:_.LONG,value:1,offset:0},S:{name:"S",base:R.ELECTRIC_CONDUCTANCE,prefixes:_.SHORT,value:1,offset:0},weber:{name:"weber",base:R.MAGNETIC_FLUX,prefixes:_.LONG,value:1,offset:0},Wb:{name:"Wb",base:R.MAGNETIC_FLUX,prefixes:_.SHORT,value:1,offset:0},tesla:{name:"tesla",base:R.MAGNETIC_FLUX_DENSITY,prefixes:_.LONG,value:1,offset:0},T:{name:"T",base:R.MAGNETIC_FLUX_DENSITY,prefixes:_.SHORT,value:1,offset:0},b:{name:"b",base:R.BIT,prefixes:_.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:R.BIT,prefixes:_.BINARY_LONG,value:1,offset:0},B:{name:"B",base:R.BIT,prefixes:_.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:R.BIT,prefixes:_.BINARY_LONG,value:8,offset:0}},L={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function B(e){if("BigNumber"===e.number){var t=hA(b);j.rad.value=new b(1),j.deg.value=t.div(180),j.grad.value=t.div(200),j.cycle.value=t.times(2),j.arcsec.value=t.div(648e3),j.arcmin.value=t.div(10800)}else j.rad.value=1,j.deg.value=Math.PI/180,j.grad.value=Math.PI/200,j.cycle.value=2*Math.PI,j.arcsec.value=Math.PI/648e3,j.arcmin.value=Math.PI/10800;j.radian.value=j.rad.value,j.degree.value=j.deg.value,j.gradian.value=j.grad.value}B(a),i&&i("config",function(e,t){e.number!==t.number&&B(e)});var U={si:{NONE:{unit:F,prefix:_.NONE[""]},LENGTH:{unit:j.m,prefix:_.SHORT[""]},MASS:{unit:j.g,prefix:_.SHORT.k},TIME:{unit:j.s,prefix:_.SHORT[""]},CURRENT:{unit:j.A,prefix:_.SHORT[""]},TEMPERATURE:{unit:j.K,prefix:_.SHORT[""]},LUMINOUS_INTENSITY:{unit:j.cd,prefix:_.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:j.mol,prefix:_.SHORT[""]},ANGLE:{unit:j.rad,prefix:_.SHORT[""]},BIT:{unit:j.bits,prefix:_.SHORT[""]},FORCE:{unit:j.N,prefix:_.SHORT[""]},ENERGY:{unit:j.J,prefix:_.SHORT[""]},POWER:{unit:j.W,prefix:_.SHORT[""]},PRESSURE:{unit:j.Pa,prefix:_.SHORT[""]},ELECTRIC_CHARGE:{unit:j.C,prefix:_.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:j.F,prefix:_.SHORT[""]},ELECTRIC_POTENTIAL:{unit:j.V,prefix:_.SHORT[""]},ELECTRIC_RESISTANCE:{unit:j.ohm,prefix:_.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:j.H,prefix:_.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:j.S,prefix:_.SHORT[""]},MAGNETIC_FLUX:{unit:j.Wb,prefix:_.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:j.T,prefix:_.SHORT[""]},FREQUENCY:{unit:j.Hz,prefix:_.SHORT[""]}}};U.cgs=JSON.parse(JSON.stringify(U.si)),U.cgs.LENGTH={unit:j.m,prefix:_.SHORT.c},U.cgs.MASS={unit:j.g,prefix:_.SHORT[""]},U.cgs.FORCE={unit:j.dyn,prefix:_.SHORT[""]},U.cgs.ENERGY={unit:j.erg,prefix:_.NONE[""]},U.us=JSON.parse(JSON.stringify(U.si)),U.us.LENGTH={unit:j.ft,prefix:_.NONE[""]},U.us.MASS={unit:j.lbm,prefix:_.NONE[""]},U.us.TEMPERATURE={unit:j.degF,prefix:_.NONE[""]},U.us.FORCE={unit:j.lbf,prefix:_.NONE[""]},U.us.ENERGY={unit:j.BTU,prefix:_.BTU[""]},U.us.POWER={unit:j.hp,prefix:_.NONE[""]},U.us.PRESSURE={unit:j.psi,prefix:_.NONE[""]},U.auto=JSON.parse(JSON.stringify(U.si));var z=U.auto;for(var q in N.setUnitSystem=function(e){if(!nw(U,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(U).join(", "));z=U[e]},N.getUnitSystem=function(){for(var e in U)if(nw(U,e)&&U[e]===z)return e},N.typeConverters={BigNumber:function(e){return new b(e+"")},Fraction:function(e){return new x(e)},Complex:function(e){return e},number:function(e){return e}},N._getNumberConverter=function(e){if(!N.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return N.typeConverters[e]},j)if(nw(j,q)){var V=j[q];V.dimensions=V.base.dimensions}for(var H in L)if(nw(L,H)){var W=j[L[H]],K={};for(var G in W)nw(W,G)&&(K[G]=W[G]);K.name=H,j[H]=K}return N.isValidAlpha=function(e){return/^[a-zA-Z]$/.test(e)},N.createUnit=function(e,t){if("object"!==typeof e)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var n in e)if(nw(e,n)&&N.deleteUnit(n),e[n].aliases)for(var r=0;r<e[n].aliases.length;r++)N.deleteUnit(e[n].aliases[r]);var i;for(var a in e)nw(e,a)&&(i=N.createUnitSingle(a,e[a]));return i},N.createUnitSingle=function(e,t,n){if("undefined"!==typeof t&&null!==t||(t={}),"string"!==typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(nw(j,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){if(r=e.charAt(t),0===t&&!N.isValidAlpha(r))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!N.isValidAlpha(r)&&!S(r))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var i,a,o,s=null,u=[],l=0;if(t&&"Unit"===t.type)s=t.clone();else if("string"===typeof t)""!==t&&(i=t);else{if("object"!==typeof t)throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');i=t.definition,a=t.prefixes,l=t.offset,o=t.baseName,t.aliases&&(u=t.aliases.valueOf())}if(u)for(var c=0;c<u.length;c++)if(nw(j,u[c]))throw new Error('Cannot create alias "'+u[c]+'": a unit with that name already exists');if(i&&"string"===typeof i&&!s)try{s=N.parse(i,{allowNoUnits:!0})}catch(A){throw A.message='Could not create unit "'+e+'" from "'+i+'": '+A.message,A}else i&&"Unit"===i.type&&(s=i.clone());u=u||[],l=l||0,a=a&&a.toUpperCase&&_[a.toUpperCase()]||_.NONE;var h={};if(s){h={name:e,value:s.value,dimensions:s.dimensions.slice(0),prefixes:a,offset:l};var f=!1;for(var d in R)if(nw(R,d)){for(var p=!0,m=0;m<D.length;m++)if(Math.abs((h.dimensions[m]||0)-(R[d].dimensions[m]||0))>1e-12){p=!1;break}if(p){f=!0,h.base=R[d];break}}if(!f){o=o||e+"_STUFF";var g={dimensions:s.dimensions.slice(0)};g.key=o,R[o]=g,z[o]={unit:h,prefix:_.NONE[""]},h.base=R[o]}}else{if(o=o||e+"_STUFF",D.indexOf(o)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var y in D.push(o),R)nw(R,y)&&(R[y].dimensions[D.length-1]=0);for(var v={dimensions:[]},b=0;b<D.length;b++)v.dimensions[b]=0;v.dimensions[D.length-1]=1,v.key=o,R[o]=v,h={name:e,value:1,dimensions:R[o].dimensions.slice(0),prefixes:a,offset:l,base:R[o]},z[o]={unit:h,prefix:_.NONE[""]}}N.UNITS[e]=h;for(var x=0;x<u.length;x++){var w=u[x],E={};for(var M in h)nw(h,M)&&(E[M]=h[M]);E.name=w,N.UNITS[w]=E}return delete I.cache,new N(null,e)},N.deleteUnit=function(e){delete N.UNITS[e]},N.PREFIXES=_,N.BASE_DIMENSIONS=D,N.BASE_UNITS=R,N.UNIT_SYSTEMS=U,N.UNITS=j,N},{isClass:!0}),XP="createUnit",ZP=rw(XP,["typed","Unit"],e=>{var{typed:t,Unit:n}=e;return t(XP,{"Object, Object":function(e,t){return n.createUnit(e,t)},Object:function(e){return n.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,r){var i={};return i[e]=t,n.createUnit(i,r)},"string, Unit | string | Object":function(e,t){var r={};return r[e]=t,n.createUnit(r,{})},string:function(e){var t={};return t[e]={},n.createUnit(t,{})}})}),$P="dotPow",eF=rw($P,["typed","equalScalar","matrix","pow","DenseMatrix"],e=>{var{typed:t,equalScalar:n,matrix:r,pow:i,DenseMatrix:a}=e,o=a_({typed:t}),s=S_({typed:t,DenseMatrix:a}),u=s_({typed:t,equalScalar:n}),l=u_({typed:t,DenseMatrix:a}),c=l_({typed:t}),h=c_({typed:t});return t($P,{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,i)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return h(e,t,this,!1)},"any, SparseMatrix":function(e,t){return l(t,e,this,!0)},"any, DenseMatrix":function(e,t){return h(t,e,this,!0)},"Array, any":function(e,t){return h(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return h(r(t),e,this,!0).valueOf()}})}),tF="expm",nF=rw(tF,["typed","abs","add","identity","inv","multiply"],e=>{var{typed:t,abs:n,add:r,identity:i,inv:a,multiply:o}=e;return t(tF,{Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+Yx(t)+")");for(var u=t[0],l=function(e){for(var t=e.size()[0],r=0,i=0;i<t;i++){for(var a=0,o=0;o<t;o++)a+=n(e.get([i,o]));r=Math.max(a,r)}return r}(e),c=function(e,t){for(var n=30,r=0;r<n;r++)for(var i=0;i<=r;i++){var a=r-i;if(s(e,i,a)<t)return{q:i,j:a}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(l,1e-15),h=c.q,f=c.j,d=o(e,Math.pow(2,-f)),p=i(u),m=i(u),g=1,y=d,v=-1,b=1;b<=h;b++)b>1&&(y=o(y,d),v=-v),p=r(p,o(g=g*(h-b+1)/((2*h-b+1)*b),y)),m=r(m,o(g*v,y));for(var x=o(a(m),p),w=0;w<f;w++)x=o(x,x);return Gb(e)?e.createSparseMatrix(x):x}});function s(e,t,n){for(var r=1,i=2;i<=t;i++)r*=i;for(var a=r,o=t+1;o<=2*t;o++)a*=o;var s=a*(2*t+1);return 8*Math.pow(e/Math.pow(2,n),2*t)*r*r/(a*s)}}),rF="gamma",iF=rw(rF,["typed","config","multiplyScalar","pow","BigNumber","Complex"],e=>{var{typed:t,config:n,multiplyScalar:r,pow:i,BigNumber:a,Complex:o}=e;return t(rF,{number:SI,Complex:function(e){if(0===e.im)return this(e.re);if(e.re<.5){var t=new o(1-e.re,-e.im),n=new o(Math.PI*e.re,Math.PI*e.im);return new o(Math.PI).div(n.sin()).div(this(t))}e=new o(e.re-1,e.im);for(var r=new o(AI[0],0),i=1;i<AI.length;++i){var a=new o(AI[i],0);r=r.add(a.div(e.add(i)))}var s=new o(e.re+MI+.5,e.im),u=Math.sqrt(2*Math.PI),l=s.pow(e.add(.5)),c=s.neg().exp();return r.mul(u).mul(l).mul(c)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new a(1/0):s(e.minus(1));if(!e.isFinite())return new a(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return MN(e,this)}});function s(e){if(e<8)return new a([1,1,2,6,24,120,720,5040][e]);var t=n.precision+(0|Math.log(e.toNumber())),r=a.clone({precision:t});if(e%2===1)return e.times(s(new a(e-1)));for(var i=e,o=new r(e),u=e.toNumber();i>2;)u+=i-=2,o=o.times(u);return new a(o.toPrecision(a.precision))}}),aF="setIntersect",oF=rw(aF,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(aF,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===r(n(e),new a(0))||0===r(n(t),new a(0)))s=[];else{var u=qw(Fw(Array.isArray(e)?e:e.toArray()).sort(i)),l=qw(Fw(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var c=0;c<u.length;c++)for(var h=0;h<l.length;h++)if(0===i(u[c].value,l[h].value)&&u[c].identifier===l[h].identifier){s.push(u[c]);break}}return Array.isArray(e)&&Array.isArray(t)?Vw(s):new o(Vw(s))}})}),sF=rw("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],e=>{var{typed:t,matrix:n,multiply:r,equalScalar:i,divideScalar:a,inv:o}=e,s=s_({typed:t,equalScalar:i}),u=c_({typed:t});return t("divide",ew({"Array | Matrix, Array | Matrix":function(e,t){return r(e,o(t))},"DenseMatrix, any":function(e,t){return u(e,t,a,!1)},"SparseMatrix, any":function(e,t){return s(e,t,a,!1)},"Array, any":function(e,t){return u(n(e),t,a,!1).valueOf()},"any, Array | Matrix":function(e,t){return r(e,o(t))}},a.signatures))}),uF="factorial",lF=rw(uF,["typed","gamma"],e=>{var{typed:t,gamma:n}=e;return t(uF,{number:function(e){if(e<0)throw new Error("Value must be non-negative");return n(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return n(e.plus(1))},"Array | Matrix":function(e){return MN(e,this)}})}),cF=rw("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],e=>{var{typed:t,matrix:n,abs:r,addScalar:i,divideScalar:a,multiplyScalar:o,subtract:s,larger:u,equalScalar:l,unaryMinus:c,DenseMatrix:h,SparseMatrix:f,Spa:d}=e;return t("lup",{DenseMatrix:function(e){return p(e)},SparseMatrix:function(e){return m(e)},Array:function(e){var t=p(n(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function p(e){var t,n,c,f=e._size[0],d=e._size[1],p=Math.min(f,d),m=$x(e._data),g=[],y=[f,p],v=[],b=[p,d],x=[];for(t=0;t<f;t++)x[t]=t;for(n=0;n<d;n++){if(n>0)for(t=0;t<f;t++){var w=Math.min(t,n),N=0;for(c=0;c<w;c++)N=i(N,o(m[t][c],m[c][n]));m[t][n]=s(m[t][n],N)}var E=n,S=0,M=0;for(t=n;t<f;t++){var A=m[t][n],C=r(A);u(C,S)&&(E=t,S=C,M=A)}if(n!==E&&(x[n]=[x[E],x[E]=x[n]][0],h._swapRows(n,E,m)),n<f)for(t=n+1;t<f;t++){var T=m[t][n];l(T,0)||(m[t][n]=a(m[t][n],M))}}for(n=0;n<d;n++)for(t=0;t<f;t++)0===n&&(t<d&&(v[t]=[]),g[t]=[]),t<n?(t<d&&(v[t][n]=m[t][n]),n<f&&(g[t][n]=0)):t!==n?(t<d&&(v[t][n]=0),n<f&&(g[t][n]=m[t][n])):(t<d&&(v[t][n]=m[t][n]),n<f&&(g[t][n]=1));var k=new h({data:g,size:y}),I=new h({data:v,size:b}),O=[];for(t=0,p=x.length;t<p;t++)O[x[t]]=t;return{L:k,U:I,p:O,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function m(e){var t,n,i,s=e._size[0],h=e._size[1],p=Math.min(s,h),m=e._values,g=e._index,y=e._ptr,v=[],b=[],x=[],w=[s,p],N=[],E=[],S=[],M=[p,h],A=[],C=[];for(t=0;t<s;t++)A[t]=t,C[t]=t;var T=function(){var e=new d;n<s&&(x.push(v.length),v.push(1),b.push(n)),S.push(N.length);var h=y[n],p=y[n+1];for(i=h;i<p;i++)t=g[i],e.set(A[t],m[i]);n>0&&e.forEach(0,n-1,function(t,n){f._forEachRow(t,v,b,x,function(r,i){r>t&&e.accumulate(r,c(o(i,n)))})});var T=n,k=e.get(n),I=r(k);e.forEach(n+1,s-1,function(e,t){var n=r(t);u(n,I)&&(T=e,I=n,k=t)}),n!==T&&(f._swapRows(n,T,w[1],v,b,x),f._swapRows(n,T,M[1],N,E,S),e.swap(n,T),function(e,t){var n=C[e],r=C[t];A[n]=t,A[r]=e,C[e]=r,C[t]=n}(n,T)),e.forEach(0,s-1,function(e,t){e<=n?(N.push(t),E.push(e)):(t=a(t,k),l(t,0)||(v.push(t),b.push(e)))})};for(n=0;n<h;n++)T();return S.push(N.length),x.push(v.length),{L:new f({values:v,index:b,ptr:x,size:w}),U:new f({values:N,index:E,ptr:S,size:M}),p:A,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),hF="multinomial",fF=rw(hF,["typed","add","divide","multiply","factorial","isInteger","isPositive"],e=>{var{typed:t,add:n,divide:r,multiply:i,factorial:a,isInteger:o,isPositive:s}=e;return t(hF,{"Array | Matrix":function(e){var t=0,u=1;return SN(e,function(e){if(!o(e)||!s(e))throw new TypeError("Positive integer value expected in function multinomial");t=n(t,e),u=i(u,a(e))}),r(a(t),u)}})}),dF="permutations",pF=rw(dF,["typed","factorial"],e=>{var{typed:t,factorial:n}=e;return t(dF,{"number | BigNumber":n,"number, number":function(e,t){if(!Nx(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!Nx(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return Ck(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var n,r;if(!mF(e)||!mF(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=e.mul(0).add(1),r=e.minus(t).plus(1);r.lte(e);r=r.plus(1))n=n.times(r);return n}})});function mF(e){return e.isInteger()&&e.gte(0)}var gF="stirlingS2",yF=rw(gF,["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],e=>{var{typed:t,addScalar:n,subtract:r,multiplyScalar:i,divideScalar:a,pow:o,factorial:s,combinations:u,isNegative:l,isInteger:c,number:h,bignumber:f,larger:d}=e,p=[],m=[];return t(gF,{"number | BigNumber, number | BigNumber":function(e,t){if(!c(e)||l(e)||!c(t)||l(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");var r=!(jb(e)&&jb(t)),a=r?m:p,o=r?f:h,s=h(e),u=h(t);if(a[s]&&a[s].length>u)return a[s][u];for(var g=0;g<=s;++g)if(a[g]||(a[g]=[o(0===g?1:0)]),0!==g)for(var y=a[g],v=a[g-1],b=y.length;b<=g&&b<=u;++b)y[b]=b===g?1:n(i(o(b),v[b]),v[b-1]);return a[s][u]}})}),vF="unit",bF=rw(vF,["typed","Unit"],e=>{var{typed:t,Unit:n}=e;return t(vF,{Unit:function(e){return e.clone()},string:function(e){return n.isValuelessUnit(e)?new n(null,e):n.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(e,t){return new n(e,t)},"Array | Matrix":function(e){return MN(e,this)}})}),xF="bellNumbers",wF=rw(xF,["typed","addScalar","isNegative","isInteger","stirlingS2"],e=>{var{typed:t,addScalar:n,isNegative:r,isInteger:i,stirlingS2:a}=e;return t(xF,{"number | BigNumber":function(e){if(!i(e)||r(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,o=0;o<=e;o++)t=n(t,a(e,o));return t}})});function NF(e){var{addScalar:t,subtract:n,flatten:r,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:s,abs:u,bignumber:l,diag:c,inv:h,qr:f,usolve:d,usolveAll:p,equal:m,complex:g,larger:y,smaller:v,matrixFromColumns:b,dot:x}=e;function w(e,r,i,o){var u=t(e,o),l=n(a(e,o),a(r,i)),c=a(u,.5),h=a(s(n(a(u,u),a(4,l))),.5);return[t(c,h),n(c,h)]}function N(e,t,r,i,a,o,s,c){var h="BigNumber"===c,f="Complex"===c,d=h?l(0):f?g(0):0,p=h?l(1):f?g(1):1;if(v(u(r),s))return[[p,d],[d,p]];if(y(u(n(a,o)),s))return[[n(a,i),n(o,i)],[r,r]];var m=n(e,a),b=n(t,a),x=n(r,a),w=n(i,a);return v(u(b),s)?[[m,p],[x,d]]:[[b,d],[w,p]]}function E(e,t){for(var n=0;n<e.length;n++)e[n].push(...Array(t-e[n].length).fill(0));for(var r=e.length;r<t;r++)e.push(Array(t).fill(0)),e[r][r]=1;return e}function S(e,t,n){for(var r=0;r<e.length;r++)if(n(e[r],t))return r;return-1}function M(e,t,n,r,i){for(var a,o="BigNumber"===i?l(1e3):1e3,s=0;a=A(t,n,i),a=d(e,a),!y(T(a),o);)if(++s>=5)return null;for(s=0;;){var u=d(e,a);if(v(T(C(a,[u])),r))break;if(++s>=10)return null;a=k(u)}return a}function A(e,t,n){var r="BigNumber"===n,i="Complex"===n,a=Array(e).fill(0).map(e=>2*Math.random()-1);return r&&(a=a.map(e=>l(e))),i&&(a=a.map(e=>g(e))),k(a=C(a,t),n)}function C(e,t){for(var r of t)e=n(e,i(o(x(r,e),x(r,r)),r));return e}function T(e){return u(s(x(e,e)))}function k(e,t){var n="Complex"===t,r="BigNumber"===t?l(1):n?g(1):1;return i(o(r,T(e)),e)}return function(e,s,d,x,A){void 0===A&&(A=!0);var C=function(e,n,r,i,s){var h,f="BigNumber"===i,d="Complex"===i,p=f?l(0):0,b=f?l(1):d?g(1):1,x=f?l(1):1,w=f?l(10):2,N=a(w,w);s&&(h=Array(n).fill(b));var E=!1;for(;!E;){E=!0;for(var S=0;S<n;S++){for(var M=p,A=p,C=0;C<n;C++)if(S!==C){var T=u(e[S][C]);M=t(M,T),A=t(A,T)}if(!m(M,0)&&!m(A,0)){for(var k=x,I=M,O=o(A,w),_=a(A,w);v(I,O);)I=a(I,N),k=a(k,w);for(;y(I,_);)I=o(I,N),k=o(k,w);if(v(o(t(I,A),k),a(t(M,A),.95))){E=!1;for(var D=o(1,k),R=0;R<n;R++)S!==R&&(e[S][R]=a(e[S][R],k),e[R][S]=a(e[R][S],D));s&&(h[S]=a(h[S],k))}}}}return c(h)}(e,s,0,x,A);!function(e,r,i,s,c,h){var f="BigNumber"===s,d="Complex"===s,p=f?l(0):d?g(0):0;f&&(i=l(i));for(var m=0;m<r-2;m++){for(var y=0,b=p,x=m+1;x<r;x++){var w=e[x][m];v(u(b),u(w))&&(b=w,y=x)}if(!v(u(b),i)){if(y!==m+1){var N=e[y];e[y]=e[m+1],e[m+1]=N;for(var E=0;E<r;E++){var S=e[E][y];e[E][y]=e[E][m+1],e[E][m+1]=S}if(c){var M=h[y];h[y]=h[m+1],h[m+1]=M}}for(var A=m+2;A<r;A++){var C=o(e[A][m],b);if(0!==C){for(var T=0;T<r;T++)e[A][T]=n(e[A][T],a(C,e[m+1][T]));for(var k=0;k<r;k++)e[k][m+1]=t(e[k][m+1],a(C,e[k][A]));if(c)for(var I=0;I<r;I++)h[A][I]=n(h[A][I],a(C,h[m+1][I]))}}}}}(e,s,d,x,A,C);var T,{values:k,C:I}=function(e,r,a,o,s){var h="BigNumber"===o,d="Complex"===o,p=h?l(1):d?g(1):1;h&&(a=l(a));var m=$x(e),y=[],b=r,x=[],S=s?c(Array(r).fill(p)):void 0,M=s?c(Array(b).fill(p)):void 0,A=0;for(;A<=100;){A+=1;for(var C=0,T=0;T<b;T++)m[T][T]=n(m[T][T],C);var{Q:k,R:I}=f(m);m=i(I,k);for(var O=0;O<b;O++)m[O][O]=t(m[O][O],C);if(s&&(M=i(M,k)),1===b||v(u(m[b-1][b-2]),a)){A=0,y.push(m[b-1][b-1]),s&&(x.unshift([[1]]),E(M,r),S=i(S,M),b>1&&(M=c(Array(b-1).fill(p)))),b-=1,m.pop();for(var _=0;_<b;_++)m[_].pop()}else if(2===b||v(u(m[b-2][b-3]),a)){A=0;var D=w(m[b-2][b-2],m[b-2][b-1],m[b-1][b-2],m[b-1][b-1]);y.push(...D),s&&(x.unshift(N(m[b-2][b-2],m[b-2][b-1],m[b-1][b-2],m[b-1][b-1],D[0],D[1],a,o)),E(M,r),S=i(S,M),b>2&&(M=c(Array(b-2).fill(p)))),b-=2,m.pop(),m.pop();for(var R=0;R<b;R++)m[R].pop(),m[R].pop()}if(0===b)break}if(y.sort((e,t)=>+n(u(e),u(t))),A>100){var P=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+y.join(", "));throw P.values=y,P.vectors=[],P}var F=s?i(S,function(e,t){for(var n=[],r=0;r<t;r++)n[r]=Array(t).fill(0);var i=0;for(var a of e){for(var o=a.length,s=0;s<o;s++)for(var u=0;u<o;u++)n[i+s][i+u]=a[s][u];i+=o}return n}(x,r)):void 0;return{values:y,C:F}}(e,s,d,x,A);return A&&(T=function(e,t,a,o,s,u,f){var d=h(a),y=i(d,e,a),v="BigNumber"===f,b="Complex"===f,x=v?l(0):b?g(0):0,w=v?l(1):b?g(1):1,N=[],E=[];for(var A of s){var C=S(N,A,m);-1===C?(N.push(A),E.push(1)):E[C]+=1}for(var T=[],k=N.length,I=Array(t).fill(x),O=c(Array(t).fill(w)),_=[],D=function(e){var s=N[e],l=n(y,i(s,O)),c=p(l,I);for(c.shift();c.length<E[e];){var d=M(l,t,c,u,f);if(null==d){_.push(s);break}c.push(d)}var m=i(h(o),a);c=c.map(e=>i(m,e)),T.push(...c.map(e=>r(e)))},R=0;R<k;R++)D(R);if(0!==_.length){var P=new Error("Failed to find eigenvectors for the following eigenvalues: "+_.join(", "));throw P.values=s,P.vectors=T,P}return T}(e,s,I,C,k,d,x),T=b(...T)),{values:k,vectors:T}}}function EF(e){var{config:t,addScalar:n,subtract:r,abs:i,atan:a,cos:o,sin:s,multiplyScalar:u,inv:l,bignumber:c,multiply:h,add:f}=e;function d(e,n,r){var i=n-e;return Math.abs(i)<=t.epsilon?Math.PI/4:.5*Math.atan(2*r/(n-e))}function p(e,n,o){var s=r(n,e);return i(s)<=t.epsilon?c(-1).acos().div(4):u(.5,a(h(2,o,l(s))))}function m(e,t,n,r){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),s=N(i,0),u=N(i,0),l=0;l<i;l++)s[l]=a*e[l][n]-o*e[l][r],u[l]=o*e[l][n]+a*e[l][r];for(var c=0;c<i;c++)e[c][n]=s[c],e[c][r]=u[c];return e}function g(e,t,i,a){for(var l=e.length,h=o(t),f=s(t),d=N(l,c(0)),p=N(l,c(0)),m=0;m<l;m++)d[m]=r(u(h,e[m][i]),u(f,e[m][a])),p[m]=n(u(f,e[m][i]),u(h,e[m][a]));for(var g=0;g<l;g++)e[g][i]=d[g],e[g][a]=p[g];return e}function y(e,t,i,a){for(var l=e.length,d=c(o(t)),p=c(s(t)),m=u(d,d),g=u(p,p),y=N(l,c(0)),v=N(l,c(0)),b=h(c(2),d,p,e[i][a]),x=n(r(u(m,e[i][i]),b),u(g,e[a][a])),w=f(u(g,e[i][i]),b,u(m,e[a][a])),E=0;E<l;E++)y[E]=r(u(d,e[i][E]),u(p,e[a][E])),v[E]=n(u(p,e[i][E]),u(d,e[a][E]));e[i][i]=x,e[a][a]=w,e[i][a]=c(0),e[a][i]=c(0);for(var S=0;S<l;S++)S!==i&&S!==a&&(e[i][S]=y[S],e[S][i]=y[S],e[a][S]=v[S],e[S][a]=v[S]);return e}function v(e,t,n,r){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),s=a*a,u=o*o,l=N(i,0),c=N(i,0),h=s*e[n][n]-2*a*o*e[n][r]+u*e[r][r],f=u*e[n][n]+2*a*o*e[n][r]+s*e[r][r],d=0;d<i;d++)l[d]=a*e[n][d]-o*e[r][d],c[d]=o*e[n][d]+a*e[r][d];e[n][n]=h,e[r][r]=f,e[n][r]=0,e[r][n]=0;for(var p=0;p<i;p++)p!==n&&p!==r&&(e[n][p]=l[p],e[p][n]=l[p],e[r][p]=c[p],e[p][r]=c[p]);return e}function b(e){for(var t=e.length,n=0,r=[0,1],i=0;i<t;i++)for(var a=i+1;a<t;a++)Math.abs(n)<Math.abs(e[i][a])&&(n=Math.abs(e[i][a]),r=[i,a]);return[r,n]}function x(e){for(var t=e.length,n=0,r=[0,1],a=0;a<t;a++)for(var o=a+1;o<t;o++)i(n)<i(e[a][o])&&(n=i(e[a][o]),r=[a,o]);return[r,n]}function w(e,t){for(var n=e.length,r=Array(n),a=Array(n),o=0;o<n;o++)a[o]=Array(n);for(var s=0;s<n;s++){for(var u=0,l=e[0],c=0;c<e.length;c++)i(e[c])<i(l)&&(l=e[u=c]);r[s]=e.splice(u,1)[0];for(var h=0;h<n;h++)a[h][s]=t[h][u],t[h].splice(u,1)}return{values:r,vectors:a}}function N(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.epsilon,a=arguments.length>3?arguments[3]:void 0;if("number"===a)return function(e,t){for(var n,r=e.length,i=Math.abs(t/r),a=new Array(r),o=0;o<r;o++)a[o]=N(r,0),a[o][o]=1;var s=b(e);for(;Math.abs(s[1])>=Math.abs(i);){var u=s[0][0],l=s[0][1];e=v(e,n=d(e[u][u],e[l][l],e[u][l]),u,l),a=m(a,n,u,l),s=b(e)}for(var c=N(r,0),h=0;h<r;h++)c[h]=e[h][h];return w($x(c),$x(a))}(e,r);if("BigNumber"===a)return function(e,t){for(var n,r=e.length,a=i(t/r),o=new Array(r),s=0;s<r;s++)o[s]=N(r,0),o[s][s]=1;var u=x(e);for(;i(u[1])>=i(a);){var l=u[0][0],c=u[0][1];e=y(e,n=p(e[l][l],e[c][c],e[l][c]),l,c),o=g(o,n,l,c),u=x(e)}for(var h=N(r,0),f=0;f<r;f++)h[f]=e[f][f];return w($x(h),$x(o))}(e,r);throw TypeError("Unsupported data type: "+a)}}var SF=rw("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],e=>{var{config:t,typed:n,matrix:r,addScalar:i,subtract:a,equal:o,abs:s,atan:u,cos:l,sin:c,multiplyScalar:h,divideScalar:f,inv:d,bignumber:p,multiply:m,add:g,larger:y,column:v,flatten:b,number:x,complex:w,sqrt:N,diag:E,qr:S,usolve:M,usolveAll:A,im:C,re:T,smaller:k,matrixFromColumns:I,dot:O}=e,_=EF({config:t,addScalar:i,subtract:a,column:v,flatten:b,equal:o,abs:s,atan:u,cos:l,sin:c,multiplyScalar:h,inv:d,bignumber:p,complex:w,multiply:m,add:g}),D=NF({config:t,addScalar:i,subtract:a,multiply:m,multiplyScalar:h,flatten:b,divideScalar:f,sqrt:N,abs:s,bignumber:p,diag:E,qr:S,inv:d,usolve:M,usolveAll:A,equal:o,complex:w,larger:y,smaller:k,matrixFromColumns:I,dot:O});return n("eigs",{Array:function(e){return R(r(e))},"Array, number|BigNumber":function(e,t){return R(r(e),t)},Matrix:function(e){var{values:t,vectors:n}=R(e);return{values:r(t),vectors:r(n)}},"Matrix, number|BigNumber":function(e,t){var{values:n,vectors:i}=R(e,t);return{values:r(n),vectors:r(i)}}});function R(e,n){void 0===n&&(n=t.epsilon);var r=e.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+Yx(r)+")");var i=e.toArray(),o=r[0];if(function(e,t,n){for(var r=0;r<t;r++)for(var i=0;i<t;i++)if(y(p(s(C(e[r][i]))),n))return!1;return!0}(i,o,n)&&(function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)e[n][r]=T(e[n][r])}(i,o),function(e,t,n){for(var r=0;r<t;r++)for(var i=r;i<t;i++)if(y(p(s(a(e[r][i],e[i][r]))),n))return!1;return!0}(i,o,n))){var u=P(e,i,o);return _(i,o,n,u)}var l=P(e,i,o);return D(i,o,n,l)}function P(e,t,n){var r=e.datatype();if("number"===r||"BigNumber"===r||"Complex"===r)return r;for(var i=!1,a=!1,o=!1,s=0;s<n;s++)for(var u=0;u<n;u++){var l=t[s][u];if(jb(l)||Ub(l))i=!0;else if(Lb(l))a=!0;else{if(!Bb(l))throw TypeError("Unsupported type in Matrix: "+wx(l));o=!0}}if(a&&o&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),o){for(var c=0;c<n;c++)for(var h=0;h<n;h++)t[c][h]=w(t[c][h]);return"Complex"}if(a){for(var f=0;f<n;f++)for(var d=0;d<n;d++)t[f][d]=p(t[f][d]);return"BigNumber"}if(i){for(var m=0;m<n;m++)for(var g=0;g<n;g++)t[m][g]=x(t[m][g]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),MF="setSymDifference",AF=rw(MF,["typed","size","concat","subset","setDifference","Index"],e=>{var{typed:t,size:n,concat:r,subset:i,setDifference:a,Index:o}=e;return t(MF,{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(n(e),new o(0)))return Fw(t);if(0===i(n(t),new o(0)))return Fw(e);var s=Fw(e),u=Fw(t);return r(a(s,u),a(u,s))}})});function CF(e,t){var n,r=t.length,i=[];if(e)for(n=0;n<r;n++)i[e[n]]=t[n];else for(n=0;n<r;n++)i[n]=t[n];return i}var TF="lusolve",kF=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],IF=rw(TF,kF,e=>{var{typed:t,matrix:n,lup:r,slu:i,usolve:a,lsolve:o,DenseMatrix:s}=e,u=AD({DenseMatrix:s});return t(TF,{"Array, Array | Matrix":function(e,t){e=n(e);var i=r(e);return c(i.L,i.U,i.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var n=r(e);return c(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var n=r(e);return c(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,n,r){var a=i(e,n,r);return c(a.L,a.U,a.p,a.q,t)},"Object, Array | Matrix":function(e,t){return c(e.L,e.U,e.p,e.q,t)}});function l(e){if(Hb(e))return e;if(Vb(e))return n(e);throw new TypeError("Invalid Matrix LU decomposition")}function c(e,t,n,r,i){e=l(e),t=l(t),n&&((i=u(e,i,!0))._data=CF(n,i._data));var s=o(e,i),c=a(t,s);return r&&(c._data=CF(r,c._data)),c}}),OF="median",_F=["typed","add","divide","compare","partitionSelect"],DF=rw(OF,_F,e=>{var{typed:t,add:n,divide:r,compare:i,partitionSelect:a}=e;function o(e){try{var t=(e=Fw(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2===0){for(var n=t/2-1,r=a(e,n+1),o=e[n],l=0;l<n;++l)i(e[l],o)>0&&(o=e[l]);return u(o,r)}var c=a(e,(t-1)/2);return s(c)}catch(h){throw UE(h,"median")}}var s=t({"number | BigNumber | Complex | Unit":function(e){return e}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return r(n(e,t),2)}});return t(OF,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(EN(e))throw new TypeError("Scalar values expected in function median");return o(e)}})}),RF="setUnion",PF=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],FF=rw(RF,PF,e=>{var{typed:t,size:n,concat:r,subset:i,setIntersect:a,setSymDifference:o,Index:s}=e;return t(RF,{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(n(e),new s(0)))return Fw(t);if(0===i(n(t),new s(0)))return Fw(e);var u=Fw(e),l=Fw(t);return r(o(u,l),a(u,l))}})}),jF="kldivergence",LF=["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],BF=rw(jF,LF,e=>{var{typed:t,matrix:n,divide:r,sum:i,multiply:a,dotDivide:o,log:s,isNumeric:u}=e;return t(jF,{"Array, Array":function(e,t){return l(n(e),n(t))},"Matrix, Array":function(e,t){return l(e,n(t))},"Array, Matrix":function(e,t){return l(n(e),t)},"Matrix, Matrix":function(e,t){return l(e,t)}});function l(e,t){var n=t.size().length,l=e.size().length;if(n>1)throw new Error("first object must be one dimensional");if(l>1)throw new Error("second object must be one dimensional");if(n!==l)throw new Error("Length of two vectors must be equal");if(0===i(e))throw new Error("Sum of elements in first object must be non zero");if(0===i(t))throw new Error("Sum of elements in second object must be non zero");var c=r(e,i(e)),h=r(t,i(t)),f=i(a(c,s(o(c,h))));return u(f)?f:Number.NaN}}),UF="norm",zF=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],qF=rw(UF,zF,e=>{var{typed:t,abs:n,add:r,pow:i,conj:a,sqrt:o,multiply:s,equalScalar:u,larger:l,smaller:c,matrix:h,ctranspose:f,eigs:d}=e;return t(UF,{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return g(h(e),2)},Matrix:function(e){return g(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return this(e)},"Array, number | BigNumber | string":function(e,t){return g(h(e),t)},"Matrix, number | BigNumber | string":function(e,t){return g(e,t)}});function p(e,t){if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=0;return e.forEach(function(e){var r=n(e);l(r,t)&&(t=r)},!0),t}(e);if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return function(e){var t;return e.forEach(function(e){var r=n(e);t&&!c(r,t)||(t=r)},!0),t||0}(e);if("fro"===t)return g(e,2);if("number"===typeof t&&!isNaN(t)){if(!u(t,0)){var a=0;return e.forEach(function(e){a=r(i(n(e),t),a)},!0),i(a,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function m(e,t){if(1===t)return function(e){var t=[],i=0;return e.forEach(function(e,a){var o=a[1],s=r(t[o]||0,n(e));l(s,i)&&(i=s),t[o]=s},!0),i}(e);if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=[],i=0;return e.forEach(function(e,a){var o=a[0],s=r(t[o]||0,n(e));l(s,i)&&(i=s),t[o]=s},!0),i}(e);if("fro"===t)return function(e){var t=0;return e.forEach(function(e,n){t=r(t,s(e,a(e)))}),n(o(t))}(e);if(2===t)return function(e){var t=e.size();if(t[0]!==t[1])throw new RangeError("Invalid matrix dimensions");var r=f(e),i=s(r,e),a=d(i).values.toArray(),u=a[a.length-1];return n(o(u))}(e);throw new Error("Unsupported parameter value "+t)}function g(e,t){var n=e.size();if(1===n.length)return p(e,t);if(2===n.length){if(n[0]&&n[1])return m(e,t);throw new RangeError("Invalid matrix dimensions")}}}),VF="rotationMatrix",HF=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],WF=rw(VF,HF,e=>{var{typed:t,config:n,multiplyScalar:r,addScalar:i,unaryMinus:a,norm:o,BigNumber:s,matrix:u,DenseMatrix:l,SparseMatrix:c,cos:h,sin:f}=e;return t(VF,{"":function(){return"Matrix"===n.matrix?u([]):[]},string:function(e){return u(e)},"number | BigNumber | Complex | Unit":function(e){return d(e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(e,t){return d(e,t)},"number | BigNumber | Complex | Unit, Array":function(e,t){var n=u(t);return p(n),y(e,n,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(e,t){p(t);var r=t.storage()||("Matrix"===n.matrix?"dense":void 0);return y(e,t,r)},"number | BigNumber | Complex | Unit, Array, string":function(e,t,n){var r=u(t);return p(r),y(e,r,n)},"number | BigNumber | Complex | Unit, Matrix, string":function(e,t,n){return p(t),y(e,t,n)}});function d(e,t){var n=Lb(e)?new s(-1):-1,i=h(e),a=f(e);return g([[i,r(n,a)],[a,i]],t)}function p(e){var t=e.size();if(t.length<1||3!==t[0])throw new RangeError("Vector must be of dimensions 1x3")}function m(e){return e.reduce((e,t)=>r(e,t))}function g(e,t){if(t){if("sparse"===t)return new c(e);if("dense"===t)return new l(e);throw new TypeError('Unknown matrix type "'.concat(t,'"'))}return e}function y(e,t,n){var r=o(t);if(0===r)throw new RangeError("Rotation around zero vector");var u=Lb(e)?s:null,l=u?new u(1):1,c=u?new u(-1):-1,d=u?new u(t.get([0])/r):t.get([0])/r,p=u?new u(t.get([1])/r):t.get([1])/r,y=u?new u(t.get([2])/r):t.get([2])/r,v=h(e),b=i(l,a(v)),x=f(e);return g([[i(v,m([d,d,b])),i(m([d,p,b]),m([c,y,x])),i(m([d,y,b]),m([p,x]))],[i(m([d,p,b]),m([y,x])),i(v,m([p,p,b])),i(m([p,y,b]),m([c,d,x]))],[i(m([d,y,b]),m([c,p,x])),i(m([p,y,b]),m([d,x])),i(v,m([y,y,b]))]],n)}}),KF=["typed","abs","map","median","subtract"],GF=rw("mad",KF,e=>{var{typed:t,abs:n,map:r,median:i,subtract:a}=e;return t("mad",{"Array | Matrix":o,"...":function(e){return o(e)}});function o(e){if(0===(e=Fw(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=i(e);return i(r(e,function(e){return n(a(e,t))}))}catch(o){throw o instanceof TypeError&&-1!==o.message.indexOf("median")?new TypeError(o.message.replace("median","mad")):UE(o,"mad")}}}),YF="rotate",QF=["typed","multiply","rotationMatrix"],JF=rw(YF,QF,e=>{var{typed:t,multiply:n,rotationMatrix:r}=e;return t(YF,{"Array , number | BigNumber | Complex | Unit":function(e,t){return i(e,2),n(r(t),e).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(e,t){return i(e,2),n(r(t),e)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(e,t,a){return i(e,3),n(r(t,a),e)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(e,t,a){return i(e,3),n(r(t,a),e)}});function i(e,t){var n=Array.isArray(e)?Ew(e):e.size();if(n.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(t));if(2===n.length&&1!==n[1])throw new RangeError("Vector must be of dimensions 1x".concat(t));if(n[0]!==t)throw new RangeError("Vector must be of dimensions 1x".concat(t))}}),XF=$M({config:Fb}),ZF=uA({}),$F=SA({BigNumber:XF,config:Fb}),ej=vA({}),tj=eC({BigNumber:XF,config:Fb}),nj=VC({}),rj=_A({Complex:ZF}),ij=xA({BigNumber:XF,config:Fb}),aj=CA({BigNumber:XF,config:Fb}),oj=kA({BigNumber:XF,config:Fb}),sj=HC({}),uj=wA({BigNumber:XF,config:Fb}),lj=bA({}),cj=MA({BigNumber:XF,config:Fb}),hj=WC({}),fj=KC({}),dj=IA({BigNumber:XF,config:Fb}),pj=bC({BigNumber:XF,config:Fb}),mj=EA({BigNumber:XF,config:Fb}),gj=yA({}),yj=DA({}),vj=GC({Matrix:sj}),bj=lC({BigNumber:XF,config:Fb}),xj=AA({BigNumber:XF,config:Fb}),wj=NA({BigNumber:XF,config:Fb}),Nj=YC({}),Ej=OA({BigNumber:XF,config:Fb}),Sj=XC({BigNumber:XF,Complex:ZF,DenseMatrix:vj,Fraction:nj}),Mj=ST({BigNumber:XF,config:Fb,typed:Sj}),Aj=uC({BigNumber:XF,config:Fb}),Cj=MT({typed:Sj}),Tj=CT({Complex:ZF,config:Fb,typed:Sj}),kj=KT({BigNumber:XF,typed:Sj}),Ij=YT({BigNumber:XF,Complex:ZF,config:Fb,typed:Sj}),Oj=JT({typed:Sj}),_j=XT({typed:Sj}),Dj=$T({BigNumber:XF,Complex:ZF,config:Fb,typed:Sj}),Rj=ek({typed:Sj}),Pj=tk({typed:Sj}),Fj=rk({Complex:ZF,config:Fb,typed:Sj}),jj=ik({BigNumber:XF,typed:Sj}),Lj=Nk({typed:Sj}),Bj=Sk({typed:Sj}),Uj=Ak({typed:Sj}),zj=Ik({typed:Sj}),qj=_k({Complex:ZF,typed:Sj}),Vj=Rk({typed:Sj}),Hj=Fk({typed:Sj}),Wj=Lk({BigNumber:XF,typed:Sj}),Kj=Bk({BigNumber:XF,typed:Sj}),Gj=zk({typed:Sj}),Yj=Hk({config:Fb,typed:Sj}),Qj=Wk({typed:Sj}),Jj=Xk({typed:Sj}),Xj=$k({Complex:ZF,typed:Sj}),Zj=eI({typed:Sj}),$j=rI({typed:Sj}),eL=oI({typed:Sj}),tL=uI({typed:Sj}),nL=lI({format:eL,typed:Sj}),rL=cI({typed:Sj}),iL=fI({typed:Sj}),aL=bI({typed:Sj}),oL=wI({typed:Sj}),sL=EI({typed:Sj}),uL=TA({BigNumber:XF,config:Fb}),lL=OI({Complex:ZF,typed:Sj}),cL=DI({Complex:ZF,config:Fb,typed:Sj}),hL=PI({Complex:ZF,config:Fb,typed:Sj}),fL=FI({typed:Sj}),dL=LI({typed:Sj}),pL=HI({typed:Sj}),mL=WI({typed:Sj}),gL=KI({format:eL,typed:Sj}),yL=XI({config:Fb,typed:Sj}),vL=$I({typed:Sj}),bL=rO({config:Fb,typed:Sj}),xL=iO({typed:Sj}),wL=aO({BigNumber:XF,typed:Sj}),NL=sO({BigNumber:XF,Fraction:nj,complex:qj,typed:Sj}),EL=uO({typed:Sj}),SL=lO({Matrix:sj,equalScalar:Yj,typed:Sj}),ML=hO({typed:Sj}),AL=dO({typed:Sj}),CL=mO({typed:Sj}),TL=gO({typed:Sj}),kL=vO({typed:Sj}),IL=xO({Complex:ZF,config:Fb,typed:Sj}),OL=NO({BigNumber:XF,typed:Sj}),_L=wE({isInteger:iL,typed:Sj}),DL=SO({BigNumber:XF,Complex:ZF,config:Fb,typed:Sj}),RL=MO({format:eL,typed:Sj}),PL=CO({typed:Sj}),FL=kO({typed:Sj}),jL=OO({BigNumber:XF,typed:Sj}),LL=DO({typed:Sj}),BL=PO({typed:Sj}),UL=jO({config:Fb,typed:Sj}),zL=BO({BigNumber:XF,typed:Sj}),qL=zO({typed:Sj}),VL=VO({SparseMatrix:SL,typed:Sj}),HL=HO({Complex:ZF,config:Fb,typed:Sj}),WL=WO({typed:Sj}),KL=GO({typed:Sj}),GL=QO({BigNumber:XF,Complex:ZF,config:Fb,typed:Sj}),YL=JO({BigNumber:XF,typed:Sj}),QL=XO({Fraction:nj,typed:Sj}),JL=$O({typed:Sj}),XL=t_({DenseMatrix:vj,Matrix:sj,SparseMatrix:SL,typed:Sj}),ZL=r_({isZero:sL,matrix:XL,typed:Sj}),$L=h_({DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj}),eB=m_({BigNumber:XF,equalScalar:Yj,matrix:XL,typed:Sj}),tB=g_({bignumber:jj,fraction:QL,number:mL}),nB=y_({DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj}),rB=b_({config:Fb,multiplyScalar:dL,numeric:tB,typed:Sj}),iB=w_({isInteger:iL,matrix:XL,typed:Sj}),aB=E_({matrix:XL,config:Fb,typed:Sj}),oB=A_({DenseMatrix:vj,config:Fb,matrix:XL,typed:Sj}),sB=T_({matrix:XL,typed:Sj}),uB=IE({matrix:XL,typed:Sj}),lB=O_({DenseMatrix:vj,addScalar:Oj,equalScalar:Yj,matrix:XL,typed:Sj,unaryMinus:KL}),cB=D_({matrix:XL,typed:Sj}),hB=R_({matrix:XL,typed:Sj}),fB=F_({BigNumber:XF,config:Fb,matrix:XL,typed:Sj}),dB=L_({BigNumber:XF,config:Fb,matrix:XL,typed:Sj}),pB=B_({equalScalar:Yj,matrix:XL,not:pL,typed:Sj,zeros:dB}),mB=z_({equalScalar:Yj,matrix:XL,typed:Sj}),gB=V_({DenseMatrix:vj,matrix:XL,typed:Sj}),yB=W_({BigNumber:XF,Complex:ZF,Fraction:nj,config:Fb,isNegative:aL,matrix:XL,typed:Sj,unaryMinus:KL}),vB=G_({BigNumber:XF,DenseMatrix:vj,Fraction:nj,config:Fb,equalScalar:Yj,matrix:XL,typed:Sj}),bB=Q_({matrix:XL,typed:Sj}),xB=jE({isInteger:iL,matrix:XL,typed:Sj}),wB=X_({prod:rB,size:aB,typed:Sj}),NB=$_({conj:Vj,transpose:hB,typed:Sj}),EB=tD({DenseMatrix:vj,SparseMatrix:SL,matrix:XL,typed:Sj}),SB=rD({numeric:tB,typed:Sj}),MB=aD({DenseMatrix:vj,divideScalar:SB,equalScalar:Yj,matrix:XL,typed:Sj}),AB=sD({DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj}),CB=uD({addScalar:Oj,divideScalar:SB,exp:Jj,i:rj,matrix:XL,multiplyScalar:dL,tau:mj,typed:Sj}),TB=cD({matrix:XL,typed:Sj}),kB=fD({BigNumber:XF,DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj}),IB=pD({isNumeric:JL,typed:Sj}),OB=gD({abs:Cj,addScalar:Oj,divideScalar:SB,isPositive:oL,multiplyScalar:dL,smaller:oB,sqrt:HL,typed:Sj}),_B=vD({conj:Vj,dotDivide:MB,fft:CB,typed:Sj}),DB=xD({matrix:XL,multiplyScalar:dL,typed:Sj}),RB=ND({DenseMatrix:vj,config:Fb,matrix:XL,typed:Sj}),PB=MD({DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj,zeros:dB}),FB=TD({DenseMatrix:vj,divideScalar:SB,equalScalar:Yj,matrix:XL,multiplyScalar:dL,subtract:lB,typed:Sj}),jB=ID({flatten:TB,matrix:XL,size:aB,typed:Sj}),LB=WE({config:Fb,numeric:tB,smaller:oB,typed:Sj}),BB=_D({isNaN:LL,isNumeric:JL,typed:Sj}),UB=RD({Complex:ZF,config:Fb,divideScalar:SB,typed:Sj}),zB=PD({BigNumber:XF,config:Fb,matrix:XL,typed:Sj}),qB=jD({compare:vB,isNaN:LL,isNumeric:JL,typed:Sj}),VB=BD({config:Fb,matrix:XL}),HB=zD({DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj,zeros:dB}),WB=HD({BigNumber:XF,DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj,zeros:dB}),KB=KD({DenseMatrix:vj,config:Fb,matrix:XL,typed:Sj}),GB=YD({DenseMatrix:vj,config:Fb,equalScalar:Yj,matrix:XL,typed:Sj}),YB=JD({DenseMatrix:vj,divideScalar:SB,equalScalar:Yj,matrix:XL,multiplyScalar:dL,subtract:lB,typed:Sj}),QB=XD({DenseMatrix:vj,matrix:XL,typed:Sj}),JB=ZD({DenseMatrix:vj,SparseMatrix:SL,addScalar:Oj,equalScalar:Yj,matrix:XL,typed:Sj}),XB=tR({BigNumber:XF,DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj}),ZB=rR({DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj}),$B=aR({addScalar:Oj,combinations:zj,divideScalar:SB,isInteger:iL,isNegative:aL,multiplyScalar:dL,typed:Sj}),eU=uR({compare:vB,typed:Sj}),tU=$E({add:JB,typed:Sj,unaryPlus:Mj}),nU=cR({equal:AB,typed:Sj}),rU=ME({matrix:XL,number:mL,subtract:lB,typed:Sj}),iU=hR({addScalar:Oj,conj:Vj,multiplyScalar:dL,size:aB,typed:Sj}),aU=dR({compareText:bB,isZero:sL,typed:Sj}),oU=yR({DenseMatrix:vj,config:Fb,equalScalar:Yj,matrix:XL,round:WB,typed:Sj,zeros:dB}),sU=bR({BigNumber:XF,DenseMatrix:vj,SparseMatrix:SL,config:Fb,matrix:XL,typed:Sj}),uU=wR({BigNumber:XF,add:JB,config:Fb,equal:AB,isInteger:iL,mod:$L,smaller:oB,typed:Sj,xgcd:fB}),lU=ER({DenseMatrix:vj,config:Fb,matrix:XL,typed:Sj}),cU=SR({Complex:ZF,config:Fb,divideScalar:SB,typed:Sj}),hU=AR({DenseMatrix:vj,divideScalar:SB,equalScalar:Yj,matrix:XL,multiplyScalar:dL,subtract:lB,typed:Sj}),fU=TR({flatten:TB,matrix:XL,size:aB,typed:Sj}),dU=IR({addScalar:Oj,dot:iU,equalScalar:Yj,matrix:XL,multiplyScalar:dL,typed:Sj}),pU=OR({addScalar:Oj,complex:qj,conj:Vj,divideScalar:SB,equal:AB,identity:sU,isZero:sL,matrix:XL,multiplyScalar:dL,sign:NL,sqrt:HL,subtract:lB,typed:Sj,unaryMinus:KL,zeros:dB}),mU=YE({bignumber:jj,matrix:XL,config:Fb,larger:lU,largerEq:RB,smaller:oB,smallerEq:KB,typed:Sj}),gU=DR({DenseMatrix:vj,equalScalar:Yj,matrix:XL,typed:Sj,zeros:dB}),yU=PR({compareNatural:eU,typed:Sj}),vU=YR({SparseMatrix:SL,abs:Cj,add:JB,divideScalar:SB,larger:lU,largerEq:RB,multiply:dU,subtract:lB,transpose:hB,typed:Sj}),bU=JE({add:JB,config:Fb,numeric:tB,typed:Sj}),xU=QR({add:JB,matrix:XL,typed:Sj}),wU=XR({DenseMatrix:vj,divideScalar:SB,equalScalar:Yj,matrix:XL,multiplyScalar:dL,subtract:lB,typed:Sj}),NU=$R({Complex:ZF,config:Fb,typed:Sj}),EU=rP({DenseMatrix:vj,config:Fb,equalScalar:Yj,matrix:XL,round:WB,typed:Sj,zeros:dB}),SU=aP({addScalar:Oj,combinations:zj,isInteger:iL,isNegative:aL,isPositive:oL,larger:lU,typed:Sj}),MU=sP({matrix:XL,multiply:dU,subtract:lB,typed:Sj}),AU=uP({divideScalar:SB,isZero:sL,matrix:XL,multiply:dU,subtract:lB,typed:Sj,unaryMinus:KL}),CU=cP({abs:Cj,addScalar:Oj,divideScalar:SB,multiplyScalar:dL,sqrt:HL,subtract:lB,typed:Sj,unaryMinus:KL}),TU=fP({equalScalar:Yj,matrix:XL,multiplyScalar:dL,typed:Sj}),kU=dP({larger:lU,smaller:oB}),IU=yP({Complex:ZF,DenseMatrix:vj,ceil:EU,equalScalar:Yj,floor:oU,matrix:XL,typed:Sj,zeros:dB}),OU=vP({DenseMatrix:vj,smaller:oB}),_U=bP({ImmutableDenseMatrix:OU}),DU=xP({abs:Cj,add:JB,addScalar:Oj,config:Fb,divideScalar:SB,equalScalar:Yj,flatten:TB,isNumeric:JL,isZero:sL,matrix:XL,multiply:dU,multiplyScalar:dL,smaller:oB,subtract:lB,typed:Sj}),RU=wP({equalScalar:Yj,matrix:XL,typed:Sj}),PU=EP({Complex:ZF,config:Fb,divideScalar:SB,log:cU,typed:Sj}),FU=VE({config:Fb,larger:lU,numeric:tB,typed:Sj}),jU=SP({add:JB,compare:vB,multiply:dU,partitionSelect:qB,typed:Sj}),LU=nS({Index:_U,matrix:XL,range:mU,typed:Sj}),BU=AP({DenseMatrix:vj,Index:_U,compareNatural:eU,size:aB,subset:uB,typed:Sj}),UU=TP({DenseMatrix:vj,Index:_U,compareNatural:eU,size:aB,subset:uB,typed:Sj}),zU=IP({Index:_U,compareNatural:eU,size:aB,subset:uB,typed:Sj}),qU=_P({Index:_U,compareNatural:eU,size:aB,subset:uB,typed:Sj}),VU=RP({compare:vB,compareNatural:eU,matrix:XL,typed:Sj}),HU=aS({Index:_U,matrix:XL,range:mU,typed:Sj}),WU=FP({Index:_U,typed:Sj}),KU=jP({abs:Cj,addScalar:Oj,det:AU,divideScalar:SB,identity:sU,matrix:XL,multiply:dU,typed:Sj,unaryMinus:KL}),GU=BP({Complex:ZF,add:JB,ctranspose:NB,deepEqual:nU,divideScalar:SB,dot:iU,dotDivide:MB,equal:AB,inv:KU,matrix:XL,multiply:dU,typed:Sj}),YU=UP({Complex:ZF,config:Fb,fraction:QL,identity:sU,inv:KU,matrix:XL,multiply:dU,number:mL,typed:Sj}),QU=qP({DenseMatrix:vj,Index:_U,compareNatural:eU,size:aB,subset:uB,typed:Sj}),JU=HP({Index:_U,compareNatural:eU,size:aB,subset:uB,typed:Sj}),XU=WP({FibonacciHeap:kU,addScalar:Oj,equalScalar:Yj}),ZU=GP({abs:Cj,add:JB,identity:sU,inv:KU,max:FU,multiply:dU,size:aB,sqrt:HL,subtract:lB,typed:Sj}),$U=JP({BigNumber:XF,Complex:ZF,Fraction:nj,abs:Cj,addScalar:Oj,config:Fb,divideScalar:SB,equal:AB,fix:IU,format:eL,isNumeric:JL,multiplyScalar:dL,number:mL,pow:YU,round:WB,subtract:lB}),ez=zA({BigNumber:XF,Unit:$U,config:Fb}),tz=NC({BigNumber:XF,Unit:$U,config:Fb}),nz=cC({BigNumber:XF,Unit:$U,config:Fb}),rz=HA({BigNumber:XF,Unit:$U,config:Fb}),iz=fC({BigNumber:XF,Unit:$U,config:Fb}),az=WA({BigNumber:XF,Unit:$U,config:Fb}),oz=ZP({Unit:$U,typed:Sj}),sz=rC({BigNumber:XF,Unit:$U,config:Fb}),uz=eF({DenseMatrix:vj,equalScalar:Yj,matrix:XL,pow:YU,typed:Sj}),lz=UA({BigNumber:XF,Unit:$U,config:Fb}),cz=VA({BigNumber:XF,Unit:$U,config:Fb}),hz=nF({abs:Cj,add:JB,identity:sU,inv:KU,multiply:dU,typed:Sj}),fz=dC({BigNumber:XF,Unit:$U,config:Fb}),dz=pC({BigNumber:XF,Unit:$U,config:Fb}),pz=iF({BigNumber:XF,Complex:ZF,config:Fb,multiplyScalar:dL,pow:YU,typed:Sj}),mz=FA({BigNumber:XF,Unit:$U,config:Fb}),gz=tC({BigNumber:XF,Unit:$U,config:Fb}),yz=QA({BigNumber:XF,Unit:$U,config:Fb}),vz=mC({BigNumber:XF,Unit:$U,config:Fb}),bz=BA({BigNumber:XF,Unit:$U,config:Fb}),xz=EC({BigNumber:XF,Unit:$U,config:Fb}),wz=yC({BigNumber:XF,Unit:$U,config:Fb}),Nz=iC({BigNumber:XF,Unit:$U,config:Fb}),Ez=YA({BigNumber:XF,Unit:$U,config:Fb}),Sz=kC({BigNumber:XF,Unit:$U,config:Fb}),Mz=AC({BigNumber:XF,Unit:$U,config:Fb}),Az=IC({BigNumber:XF,Unit:$U,config:Fb}),Cz=nC({BigNumber:XF,Unit:$U,config:Fb}),Tz=LA({BigNumber:XF,Unit:$U,config:Fb}),kz=oC({BigNumber:XF,Unit:$U,config:Fb}),Iz=oF({DenseMatrix:vj,Index:_U,compareNatural:eU,size:aB,subset:uB,typed:Sj}),Oz=PA({BigNumber:XF,Unit:$U,config:Fb}),_z=wC({BigNumber:XF,Unit:$U,config:Fb}),Dz=sC({BigNumber:XF,Unit:$U,config:Fb}),Rz=hC({BigNumber:XF,Unit:$U,config:Fb}),Pz=JA({BigNumber:XF,Unit:$U,config:Fb}),Fz=qA({BigNumber:XF,Unit:$U,config:Fb}),jz=sF({divideScalar:SB,equalScalar:Yj,inv:KU,matrix:XL,multiply:dU,typed:Sj}),Lz=ZA({BigNumber:XF,Unit:$U,config:Fb}),Bz=lF({gamma:pz,typed:Sj}),Uz=MC({BigNumber:XF,Unit:$U,config:Fb}),zz=KA({BigNumber:XF,Unit:$U,config:Fb}),qz=cF({DenseMatrix:vj,Spa:XU,SparseMatrix:SL,abs:Cj,addScalar:Oj,divideScalar:SB,equalScalar:Yj,larger:lU,matrix:XL,multiplyScalar:dL,subtract:lB,typed:Sj,unaryMinus:KL}),Vz=GA({BigNumber:XF,Unit:$U,config:Fb}),Hz=SC({BigNumber:XF,Unit:$U,config:Fb}),Wz=fF({add:JB,divide:jz,factorial:Bz,isInteger:iL,isPositive:oL,multiply:dU,typed:Sj}),Kz=pF({factorial:Bz,typed:Sj}),Gz=CC({BigNumber:XF,Unit:$U,config:Fb}),Yz=aC({BigNumber:XF,Unit:$U,config:Fb}),Qz=xC({BigNumber:XF,Unit:$U,config:Fb}),Jz=yF({bignumber:jj,addScalar:Oj,combinations:zj,divideScalar:SB,factorial:Bz,isInteger:iL,isNegative:aL,larger:lU,multiplyScalar:dL,number:mL,pow:YU,subtract:lB,typed:Sj}),Xz=bF({Unit:$U,typed:Sj}),Zz=wF({addScalar:Oj,isInteger:iL,isNegative:aL,stirlingS2:Jz,typed:Sj}),$z=SF({abs:Cj,add:JB,addScalar:Oj,atan:Pj,bignumber:jj,column:HU,complex:qj,config:Fb,cos:FL,diag:EB,divideScalar:SB,dot:iU,equal:AB,flatten:TB,im:rL,inv:KU,larger:lU,matrix:XL,matrixFromColumns:jB,multiply:dU,multiplyScalar:dL,number:mL,qr:pU,re:xL,sin:EL,smaller:oB,sqrt:HL,subtract:lB,typed:Sj,usolve:YB,usolveAll:wU}),eq=$A({BigNumber:XF,Unit:$U,config:Fb}),tq=lS({add:JB,divide:jz,typed:Sj}),nq=vC({BigNumber:XF,Unit:$U,config:Fb}),rq=jA({BigNumber:XF,Unit:$U,config:Fb}),iq=AF({Index:_U,concat:xB,setDifference:QU,size:aB,subset:uB,typed:Sj}),aq=XA({BigNumber:XF,Unit:$U,config:Fb}),oq=IF({DenseMatrix:vj,lsolve:FB,lup:qz,matrix:XL,slu:vU,typed:Sj,usolve:YB}),sq=DF({add:JB,compare:vB,divide:jz,partitionSelect:qB,typed:Sj}),uq=FF({Index:_U,concat:xB,setIntersect:Iz,setSymDifference:iq,size:aB,subset:uB,typed:Sj}),lq=dS({add:JB,apply:_L,divide:jz,isNaN:LL,multiply:dU,subtract:lB,typed:Sj}),cq=BF({divide:jz,dotDivide:MB,isNumeric:JL,log:cU,matrix:XL,multiply:dU,sum:bU,typed:Sj}),hq=qF({abs:Cj,add:JB,conj:Vj,ctranspose:NB,eigs:$z,equalScalar:Yj,larger:lU,matrix:XL,multiply:dU,pow:YU,smaller:oB,sqrt:HL,typed:Sj}),fq=TC({BigNumber:XF,Unit:$U,config:Fb}),dq=WF({BigNumber:XF,DenseMatrix:vj,SparseMatrix:SL,addScalar:Oj,config:Fb,cos:FL,matrix:XL,multiplyScalar:dL,norm:hq,sin:EL,typed:Sj,unaryMinus:KL}),pq=gC({BigNumber:XF,Unit:$U,config:Fb}),mq=gS({sqrt:HL,typed:Sj,variance:lq}),gq=GF({abs:Cj,map:fL,median:sq,subtract:lB,typed:Sj}),yq=JF({multiply:dU,rotationMatrix:dq,typed:Sj}),vq={},bq={},xq={},wq=aw({math:vq}),Nq=bw({mathWithTransform:bq}),Eq=xw({Node:Nq}),Sq=nN({Node:Nq}),Mq=rN({Node:Nq}),Aq=iN({Node:Nq}),Cq=aN({Node:Nq}),Tq=oN({Node:Nq,ResultSet:fj}),kq=sN({Node:Nq}),Iq=uN({Node:Nq}),Oq=lN({Node:Nq}),_q=cN({classes:xq}),Dq=fN({Chain:wq,typed:Sj}),Rq=dN({Node:Nq,typed:Sj}),Pq=gN({Node:Nq,subset:uB}),Fq=yN({matrix:XL,Node:Nq,subset:uB}),jq=vN({Node:Nq,size:aB}),Lq=bN({Unit:$U,Node:Nq,math:vq}),Bq=wN({Node:Nq,SymbolNode:Lq,math:vq}),Uq=IN({AccessorNode:Pq,ArrayNode:Cq,AssignmentNode:Fq,BlockNode:Tq,ConditionalNode:kq,ConstantNode:Iq,FunctionAssignmentNode:Rq,FunctionNode:Bq,IndexNode:jq,ObjectNode:Eq,OperatorNode:Sq,ParenthesisNode:Mq,RangeNode:Oq,RelationalNode:Aq,SymbolNode:Lq,config:Fb,numeric:tB,typed:Sj}),zq=ON({ConstantNode:Iq,FunctionNode:Bq,OperatorNode:Sq,ParenthesisNode:Mq,parse:Uq}),qq=PN({AccessorNode:Pq,ArrayNode:Cq,ConstantNode:Iq,FunctionNode:Bq,IndexNode:jq,ObjectNode:Eq,OperatorNode:Sq,ParenthesisNode:Mq,SymbolNode:Lq,add:JB,divide:jz,equal:AB,isZero:sL,multiply:dU,pow:YU,subtract:lB}),Vq=jN({parse:Uq,typed:Sj}),Hq=LN({parse:Uq}),Wq=UN({parse:Uq,typed:Sj}),Kq=GN({bignumber:jj,fraction:QL,AccessorNode:Pq,ArrayNode:Cq,ConstantNode:Iq,FunctionNode:Bq,IndexNode:jq,ObjectNode:Eq,OperatorNode:Sq,ParenthesisNode:Mq,SymbolNode:Lq,add:JB,config:Fb,divide:jz,equal:AB,isZero:sL,mathWithTransform:bq,matrix:XL,multiply:dU,parse:Uq,pow:YU,resolve:zq,simplifyCore:qq,subtract:lB,typed:Sj}),Gq=JN({OperatorNode:Sq,parse:Uq,simplify:Kq,typed:Sj}),Yq=$N({parse:Uq,typed:Sj}),Qq=iE({Help:Hq,mathWithTransform:bq,typed:Sj}),Jq=aE({evaluate:Yq}),Xq=sE({bignumber:jj,fraction:QL,AccessorNode:Pq,ArrayNode:Cq,ConstantNode:Iq,FunctionNode:Bq,IndexNode:jq,ObjectNode:Eq,OperatorNode:Sq,ParenthesisNode:Mq,SymbolNode:Lq,add:JB,config:Fb,divide:jz,equal:AB,isZero:sL,mathWithTransform:bq,matrix:XL,multiply:dU,parse:Uq,pow:YU,simplify:Kq,simplifyCore:qq,subtract:lB,typed:Sj}),Zq=uE({ConstantNode:Iq,FunctionNode:Bq,OperatorNode:Sq,ParenthesisNode:Mq,SymbolNode:Lq,config:Fb,equal:AB,isZero:sL,numeric:tB,parse:Uq,simplify:Kq,typed:Sj}),$q=cE({Parser:Jq,typed:Sj});function eV(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function tV(e,t){if(null==e)return{};var n,r,i=eV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nV(){let e=[],t={addEventListener:(e,n,r,i)=>(e.addEventListener(n,r,i),t.add(()=>e.removeEventListener(n,r,i))),requestAnimationFrame(){let e=requestAnimationFrame(...arguments);return t.add(()=>cancelAnimationFrame(e))},nextFrame(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(){let e=setTimeout(...arguments);return t.add(()=>clearTimeout(e))},microTask(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i={current:!0};return function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}(()=>{i.current&&n[0]()}),t.add(()=>{i.current=!1})},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add(()=>{Object.assign(e.style,{[t]:r})})},group(e){let t=nV();return e(t),this.add(()=>t.dispose())},add:t=>(e.includes(t)||e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function rV(){let[e]=(0,t.useState)(nV);return(0,t.useEffect)(()=>()=>e.dispose(),[e]),e}_b(vq,{e:$F,false:ej,fineStructure:tj,i:rj,Infinity:ij,LN10:aj,LOG10E:oj,NaN:uj,null:lj,phi:cj,SQRT1_2:dj,sackurTetrode:pj,tau:mj,true:gj,E:$F,version:yj,efimovFactor:bj,LN2:xj,pi:wj,replacer:Nj,reviver:_q,SQRT2:Ej,typed:Sj,unaryPlus:Mj,PI:wj,weakMixingAngle:Aj,abs:Cj,acos:Tj,acot:kj,acsc:Ij,addScalar:Oj,arg:_j,asech:Dj,asinh:Rj,atan:Pj,atanh:Fj,bignumber:jj,bitNot:Lj,boolean:Bj,chain:Dq,clone:Uj,combinations:zj,complex:qj,conj:Vj,cosh:Hj,coth:Wj,csc:Kj,cube:Gj,equalScalar:Yj,erf:Qj,exp:Jj,expm1:Xj,filter:Zj,forEach:$j,format:eL,getMatrixDataType:tL,hex:nL,im:rL,isInteger:iL,isNegative:aL,isPositive:oL,isZero:sL,LOG2E:uL,lgamma:lL,log10:cL,log2:hL,map:fL,multiplyScalar:dL,not:pL,number:mL,oct:gL,pickRandom:yL,print:vL,random:bL,re:xL,sec:wL,sign:NL,sin:EL,splitUnit:ML,square:AL,string:CL,tan:TL,typeOf:kL,acosh:IL,acsch:OL,apply:_L,asec:DL,bin:RL,combinationsWithRep:PL,cos:FL,csch:jL,isNaN:LL,isPrime:BL,randomInt:UL,sech:zL,sinh:qL,sparse:VL,sqrt:HL,tanh:WL,unaryMinus:KL,acoth:GL,cot:YL,fraction:QL,isNumeric:JL,matrix:XL,matrixFromFunction:ZL,mod:$L,nthRoot:eB,numeric:tB,or:nB,prod:rB,reshape:iB,size:aB,smaller:oB,squeeze:sB,subset:uB,subtract:lB,to:cB,transpose:hB,xgcd:fB,zeros:dB,and:pB,bitAnd:mB,bitXor:gB,cbrt:yB,compare:vB,compareText:bB,concat:xB,count:wB,ctranspose:NB,diag:EB,divideScalar:SB,dotDivide:MB,equal:AB,fft:CB,flatten:TB,gcd:kB,hasNumericValue:IB,hypot:OB,ifft:_B,kron:DB,largerEq:RB,leftShift:PB,lsolve:FB,matrixFromColumns:jB,min:LB,mode:BB,nthRoots:UB,ones:zB,partitionSelect:qB,resize:VB,rightArithShift:HB,round:WB,smallerEq:KB,unequal:GB,usolve:YB,xor:QB,add:JB,atan2:XB,bitOr:ZB,catalan:$B,compareNatural:eU,cumsum:tU,deepEqual:nU,diff:rU,dot:iU,equalText:aU,floor:oU,identity:sU,invmod:uU,larger:lU,log:cU,lsolveAll:hU,matrixFromRows:fU,multiply:dU,qr:pU,range:mU,rightLogShift:gU,setSize:yU,slu:vU,sum:bU,trace:xU,usolveAll:wU,asin:NU,ceil:EU,composition:SU,cross:MU,det:AU,distance:CU,dotMultiply:TU,fix:IU,intersect:DU,lcm:RU,log1p:PU,max:FU,quantileSeq:jU,row:LU,setCartesian:BU,setDistinct:UU,setIsSubset:zU,setPowerset:qU,sort:VU,column:HU,index:WU,inv:KU,pinv:GU,pow:YU,setDifference:QU,setMultiplicity:JU,sqrtm:ZU,vacuumImpedance:ez,wienDisplacement:tz,atomicMass:nz,bohrMagneton:rz,boltzmann:iz,conductanceQuantum:az,createUnit:oz,deuteronMass:sz,dotPow:uz,electricConstant:lz,elementaryCharge:cz,expm:hz,faraday:fz,firstRadiation:dz,gamma:pz,gravitationConstant:mz,hartreeEnergy:gz,klitzing:yz,loschmidt:vz,magneticConstant:bz,molarMass:xz,molarPlanckConstant:wz,neutronMass:Nz,nuclearMagneton:Ez,planckCharge:Sz,planckLength:Mz,planckTemperature:Az,protonMass:Cz,reducedPlanckConstant:Tz,rydberg:kz,setIntersect:Iz,speedOfLight:Oz,stefanBoltzmann:_z,thomsonCrossSection:Dz,avogadro:Rz,bohrRadius:Pz,coulomb:Fz,divide:jz,electronMass:Lz,factorial:Bz,gravity:Uz,inverseConductanceQuantum:zz,lup:qz,magneticFluxQuantum:Vz,molarMassC12:Hz,multinomial:Wz,parse:Uq,permutations:Kz,planckMass:Gz,quantumOfCirculation:Yz,resolve:zq,secondRadiation:Qz,simplifyCore:qq,stirlingS2:Jz,unit:Xz,bellNumbers:Zz,compile:Vq,eigs:$z,fermiCoupling:eq,leafCount:Wq,mean:tq,molarVolume:nq,planckConstant:rq,setSymDifference:iq,simplify:Kq,symbolicEqual:Gq,classicalElectronRadius:aq,evaluate:Yq,help:Qq,lusolve:oq,median:sq,rationalize:Xq,setUnion:uq,variance:lq,derivative:Zq,kldivergence:cq,norm:hq,planckTime:fq,rotationMatrix:dq,gasConstant:pq,parser:$q,std:mq,mad:gq,rotate:yq,config:Fb}),_b(bq,vq,{filter:mE({typed:Sj}),forEach:yE({typed:Sj}),map:vE({typed:Sj}),apply:EE({isInteger:iL,typed:Sj}),diff:TE({bignumber:jj,matrix:XL,number:mL,subtract:lB,typed:Sj}),subset:PE({matrix:XL,typed:Sj}),concat:BE({isInteger:iL,matrix:XL,typed:Sj}),max:HE({config:Fb,larger:lU,numeric:tB,typed:Sj}),min:KE({config:Fb,numeric:tB,smaller:oB,typed:Sj}),range:QE({bignumber:jj,matrix:XL,config:Fb,larger:lU,largerEq:RB,smaller:oB,smallerEq:KB,typed:Sj}),sum:XE({add:JB,config:Fb,numeric:tB,typed:Sj}),cumsum:tS({add:JB,typed:Sj,unaryPlus:Mj}),row:rS({Index:_U,matrix:XL,range:mU,typed:Sj}),column:oS({Index:_U,matrix:XL,range:mU,typed:Sj}),index:sS({Index:_U}),mean:cS({add:JB,divide:jz,typed:Sj}),variance:mS({add:JB,apply:_L,divide:jz,isNaN:LL,multiply:dU,subtract:lB,typed:Sj}),std:yS({sqrt:HL,typed:Sj,variance:lq})}),_b(xq,{BigNumber:XF,Chain:wq,Complex:ZF,Fraction:nj,Matrix:sj,Node:Nq,ObjectNode:Eq,OperatorNode:Sq,ParenthesisNode:Mq,Range:hj,RelationalNode:Aq,ResultSet:fj,ArrayNode:Cq,BlockNode:Tq,ConditionalNode:kq,ConstantNode:Iq,DenseMatrix:vj,RangeNode:Oq,FunctionAssignmentNode:Rq,SparseMatrix:SL,AccessorNode:Pq,AssignmentNode:Fq,IndexNode:jq,FibonacciHeap:kU,ImmutableDenseMatrix:OU,Index:_U,Spa:XU,Unit:$U,SymbolNode:Lq,FunctionNode:Bq,Help:Hq,Parser:Jq}),wq.createProxy(vq);var iV=Object.defineProperty,aV=(e,t,n)=>(((e,t,n)=>{t in e?iV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let oV=new class{constructor(){aV(this,"current",this.detect()),aV(this,"handoffState","pending"),aV(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},sV=(e,n)=>{oV.isServer?(0,t.useEffect)(e,n):(0,t.useLayoutEffect)(e,n)};function uV(e){let n=(0,t.useRef)(e);return sV(()=>{n.current=e},[e]),n}let lV=function(e){let n=uV(e);return t.useCallback(function(){return n.current(...arguments)},[n])};function cV(){let e=function(){let e="undefined"==typeof document;return(e=>e.useSyncExternalStore)(r)(()=>()=>{},()=>!1,()=>!e)}(),[n,i]=t.useState(oV.isHandoffComplete);return n&&!1===oV.isHandoffComplete&&i(!1),t.useEffect(()=>{!0!==n&&i(!0)},[n]),t.useEffect(()=>oV.handoff(),[]),!e&&n}let hV=Symbol();function fV(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=(0,t.useRef)(n);(0,t.useEffect)(()=>{i.current=n},[n]);let a=lV(e=>{for(let t of i.current)null!=t&&("function"==typeof t?t(e):t.current=e)});return n.every(e=>null==e||(null==e?void 0:e[hV]))?void 0:a}var dV,pV;"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&"test"===(null==(dV=null==process?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})?void 0:dV.NODE_ENV)&&"undefined"==typeof(null==(pV=null==Element?void 0:Element.prototype)?void 0:pV.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join("\n")),[]});var mV=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(mV||{});function gV(e,n,r,i){let[a,o]=(0,t.useState)(r),{hasFlag:s,addFlag:u,removeFlag:l}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[n,r]=(0,t.useState)(e),i=(0,t.useCallback)(e=>r(e),[]),a=(0,t.useCallback)(e=>r(t=>t|e),[]),o=(0,t.useCallback)(e=>(n&e)===e,[n]),s=(0,t.useCallback)(e=>r(t=>t&~e),[]),u=(0,t.useCallback)(e=>r(t=>t^e),[]);return{flags:n,setFlag:i,addFlag:a,hasFlag:o,removeFlag:s,toggleFlag:u}}(e&&a?3:0),c=(0,t.useRef)(!1),h=(0,t.useRef)(!1),f=rV();return sV(()=>{var t;if(e)return r&&o(!0),n?(null==(t=null==i?void 0:i.start)||t.call(i,r),yV(n,{inFlight:c,prepare(){h.current?h.current=!1:h.current=c.current,c.current=!0,!h.current&&(r?(u(3),l(4)):(u(4),l(2)))},run(){h.current?r?(l(3),u(4)):(l(4),u(3)):r?l(1):u(1)},done(){var e;h.current&&function(e){var t,n;return(null!=(n=null==(t=e.getAnimations)?void 0:t.call(e))?n:[]).some(e=>e instanceof CSSTransition&&"finished"!==e.playState)}(n)||(c.current=!1,l(7),r||o(!1),null==(e=null==i?void 0:i.end)||e.call(i,r))}})):void(r&&u(3))},[e,r,n,f]),e?[a,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function yV(e,t){let{prepare:n,run:r,done:i,inFlight:a}=t,o=nV();return function(e,t){let{inFlight:n,prepare:r}=t;if(null!=n&&n.current)return void r();let i=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=i}(e,{prepare:n,inFlight:a}),o.nextFrame(()=>{r(),o.requestAnimationFrame(()=>{o.add(function(e,t){var n,r;let i=nV();if(!e)return i.dispose;let a=!1;i.add(()=>{a=!0});let o=null!=(r=null==(n=e.getAnimations)?void 0:n.call(e).filter(e=>e instanceof CSSTransition))?r:[];return 0===o.length?(t(),i.dispose):(Promise.allSettled(o.map(e=>e.finished)).then(()=>{a||t()}),i.dispose)}(e,i))})}),o.dispose}let vV=(0,t.createContext)(null);vV.displayName="OpenClosedContext";var bV=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(bV||{});function xV(){return(0,t.useContext)(vV)}function wV(e){let{value:n,children:r}=e;return t.createElement(vV.Provider,{value:n},r)}function NV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(new Set(t.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}function EV(e,t){if(e in t){let a=t[e];for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"function"==typeof a?a(...r):a}let a=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map(e=>'"'.concat(e,'"')).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,EV),a}const SV=["static"],MV=["unmount"],AV=["as","children","refName"];var CV=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(CV||{}),TV=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(TV||{});function kV(){let e=function(){let e=(0,t.useRef)([]),n=(0,t.useCallback)(t=>{for(let n of e.current)null!=n&&("function"==typeof n?n(t):n.current=t)},[]);return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(!r.every(e=>null==e))return e.current=r,n}}();return(0,t.useCallback)(t=>function(e){let{ourProps:t,theirProps:n,slot:r,defaultTag:i,features:a,visible:o=!0,name:s,mergeRefs:u}=e;u=null!=u?u:OV;let l=_V(n,t);if(o)return IV(l,r,i,s,u);let c=null!=a?a:0;if(2&c){let{static:e=!1}=l,t=tV(l,SV);if(e)return IV(t,r,i,s,u)}if(1&c){let{unmount:e=!0}=l,t=tV(l,MV);return EV(e?0:1,{0:()=>null,1:()=>IV(Ln(Ln({},t),{},{hidden:!0,style:{display:"none"}}),r,i,s,u)})}return IV(l,r,i,s,u)}(Ln({mergeRefs:e},t)),[e])}function IV(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=PV(e,["unmount","static"]),{as:s=r,children:u,refName:l="ref"}=o,c=tV(o,AV),h=void 0!==e.ref?{[l]:e.ref}:{},f="function"==typeof u?u(n):u;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(n)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let d={};if(n){let e=!1,t=[];for(let[r,i]of Object.entries(n))"boolean"==typeof i&&(e=!0),!0===i&&t.push(r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())));if(e){d["data-headlessui-state"]=t.join(" ");for(let e of t)d["data-".concat(e)]=""}}if(jV(s)&&(Object.keys(RV(c)).length>0||Object.keys(RV(d)).length>0)){if(!(!(0,t.isValidElement)(f)||Array.isArray(f)&&f.length>1||function(e){return jV(e.type)}(f))){let e=f.props,n=null==e?void 0:e.className,r="function"==typeof n?function(){return NV(n(...arguments),c.className)}:NV(n,c.className),i=r?{className:r}:{},o=_V(f.props,RV(PV(c,["ref"])));for(let t in d)t in o&&delete d[t];return(0,t.cloneElement)(f,Object.assign({},o,d,h,{ref:a(FV(f),h.ref)},i))}if(Object.keys(RV(c)).length>0)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(i,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(RV(c)).concat(Object.keys(RV(d))).map(e=>"  - ".concat(e)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>"  - ".concat(e)).join("\n")].join("\n"))}return(0,t.createElement)(s,Object.assign({},PV(c,["ref"]),!jV(s)&&h,!jV(s)&&d),f)}function OV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(e=>null==e)?void 0:e=>{for(let n of t)null!=n&&("function"==typeof n?n(e):n.current=e)}}function _V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},i={};for(let a of t)for(let e in a)e.startsWith("on")&&"function"==typeof a[e]?(null!=i[e]||(i[e]=[]),i[e].push(a[e])):r[e]=a[e];if(r.disabled||r["aria-disabled"])for(let a in i)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(i[a]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let a in i)Object.assign(r,{[a](e){let t=i[a];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(let i of t){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;i(e,...r)}}});return r}function DV(e){var n;return Object.assign((0,t.forwardRef)(e),{displayName:null!=(n=e.displayName)?n:e.name})}function RV(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function PV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function FV(e){return t.version.split(".")[0]>="19"?e.props.ref:e.ref}function jV(e){return e===t.Fragment||e===Symbol.for("react.fragment")}const LV=["transition","beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],BV=["show","appear","unmount"];function UV(e){var n;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!jV(null!=(n=e.as)?n:KV)||1===t.Children.count(e.children)}let zV=(0,t.createContext)(null);zV.displayName="TransitionContext";var qV=(e=>(e.Visible="visible",e.Hidden="hidden",e))(qV||{});let VV=(0,t.createContext)(null);function HV(e){return"children"in e?HV(e.children):e.current.filter(e=>{let{el:t}=e;return null!==t.current}).filter(e=>{let{state:t}=e;return"visible"===t}).length>0}function WV(e,n){let r=uV(e),i=(0,t.useRef)([]),a=function(){let e=(0,t.useRef)(!1);return sV(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),o=rV(),s=lV(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TV.Hidden,n=i.current.findIndex(t=>{let{el:n}=t;return n===e});-1!==n&&(EV(t,{[TV.Unmount](){i.current.splice(n,1)},[TV.Hidden](){i.current[n].state="hidden"}}),o.microTask(()=>{var e;!HV(i)&&a.current&&(null==(e=r.current)||e.call(r))}))}),u=lV(e=>{let t=i.current.find(t=>{let{el:n}=t;return n===e});return t?"visible"!==t.state&&(t.state="visible"):i.current.push({el:e,state:"visible"}),()=>s(e,TV.Unmount)}),l=(0,t.useRef)([]),c=(0,t.useRef)(Promise.resolve()),h=(0,t.useRef)({enter:[],leave:[]}),f=lV((e,t,r)=>{l.current.splice(0),n&&(n.chains.current[t]=n.chains.current[t].filter(t=>{let[n]=t;return n!==e})),null==n||n.chains.current[t].push([e,new Promise(e=>{l.current.push(e)})]),null==n||n.chains.current[t].push([e,new Promise(e=>{Promise.all(h.current[t].map(e=>{let[t,n]=e;return n})).then(()=>e())})]),"enter"===t?c.current=c.current.then(()=>null==n?void 0:n.wait.current).then(()=>r(t)):r(t)}),d=lV((e,t,n)=>{Promise.all(h.current[t].splice(0).map(e=>{let[t,n]=e;return n})).then(()=>{var e;null==(e=l.current.shift())||e()}).then(()=>n(t))});return(0,t.useMemo)(()=>({children:i,register:u,unregister:s,onStart:f,onStop:d,wait:c,chains:h}),[u,s,i,f,d,h,c])}VV.displayName="NestingContext";let KV=t.Fragment,GV=CV.RenderStrategy;let YV=DV(function(e,n){let{show:r,appear:i=!1,unmount:a=!0}=e,o=tV(e,BV),s=(0,t.useRef)(null),u=fV(...UV(e)?[s,n]:null===n?[]:[n]);cV();let l=xV();if(void 0===r&&null!==l&&(r=(l&bV.Open)===bV.Open),void 0===r)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,h]=(0,t.useState)(r?"visible":"hidden"),f=WV(()=>{r||h("hidden")}),[d,p]=(0,t.useState)(!0),m=(0,t.useRef)([r]);sV(()=>{!1!==d&&m.current[m.current.length-1]!==r&&(m.current.push(r),p(!1))},[m,r]);let g=(0,t.useMemo)(()=>({show:r,appear:i,initial:d}),[r,i,d]);sV(()=>{r?h("visible"):!HV(f)&&null!==s.current&&h("hidden")},[r,f]);let y={unmount:a},v=lV(()=>{var t;d&&p(!1),null==(t=e.beforeEnter)||t.call(e)}),b=lV(()=>{var t;d&&p(!1),null==(t=e.beforeLeave)||t.call(e)}),x=kV();return t.createElement(VV.Provider,{value:f},t.createElement(zV.Provider,{value:g},x({ourProps:Ln(Ln({},y),{},{as:t.Fragment,children:t.createElement(QV,Ln(Ln(Ln({ref:u},y),o),{},{beforeEnter:v,beforeLeave:b}))}),theirProps:{},defaultTag:t.Fragment,features:GV,visible:"visible"===c,name:"Transition"})))}),QV=DV(function(e,n){var r,i;let{transition:a=!0,beforeEnter:o,afterEnter:s,beforeLeave:u,afterLeave:l,enter:c,enterFrom:h,enterTo:f,entered:d,leave:p,leaveFrom:m,leaveTo:g}=e,y=tV(e,LV),[v,b]=(0,t.useState)(null),x=(0,t.useRef)(null),w=UV(e),N=fV(...w?[x,n,b]:null===n?[]:[n]),E=null==(r=y.unmount)||r?TV.Unmount:TV.Hidden,{show:S,appear:M,initial:A}=function(){let e=(0,t.useContext)(zV);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[C,T]=(0,t.useState)(S?"visible":"hidden"),k=function(){let e=(0,t.useContext)(VV);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:I,unregister:O}=k;sV(()=>I(x),[I,x]),sV(()=>{if(E===TV.Hidden&&x.current)return S&&"visible"!==C?void T("visible"):EV(C,{hidden:()=>O(x),visible:()=>I(x)})},[C,x,I,O,S,E]);let _=cV();sV(()=>{if(w&&_&&"visible"===C&&null===x.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,C,_,w]);let D=A&&!M,R=M&&S&&A,P=(0,t.useRef)(!1),F=WV(()=>{P.current||(T("hidden"),O(x))},k),j=lV(e=>{P.current=!0;let t=e?"enter":"leave";F.onStart(x,t,e=>{"enter"===e?null==o||o():"leave"===e&&(null==u||u())})}),L=lV(e=>{let t=e?"enter":"leave";P.current=!1,F.onStop(x,t,e=>{"enter"===e?null==s||s():"leave"===e&&(null==l||l())}),"leave"===t&&!HV(F)&&(T("hidden"),O(x))});(0,t.useEffect)(()=>{w&&a||(j(S),L(S))},[S,w,a]);let B=!(!a||!w||!_||D),[,U]=gV(B,v,S,{start:j,end:L}),z=RV(Ln({ref:N,className:(null==(i=NV(y.className,R&&c,R&&h,U.enter&&c,U.enter&&U.closed&&h,U.enter&&!U.closed&&f,U.leave&&p,U.leave&&!U.closed&&m,U.leave&&U.closed&&g,!U.transition&&S&&d))?void 0:i.trim())||void 0},function(e){let t={};for(let n in e)!0===e[n]&&(t["data-".concat(n)]="");return t}(U))),q=0;"visible"===C&&(q|=bV.Open),"hidden"===C&&(q|=bV.Closed),S&&"hidden"===C&&(q|=bV.Opening),!S&&"visible"===C&&(q|=bV.Closing);let V=kV();return t.createElement(VV.Provider,{value:F},t.createElement(wV,{value:q},V({ourProps:z,theirProps:y,defaultTag:KV,features:GV,visible:"visible"===C,name:"Transition.Child"})))}),JV=DV(function(e,n){let r=null!==(0,t.useContext)(zV),i=null!==xV();return t.createElement(t.Fragment,null,!r&&i?t.createElement(YV,Ln({ref:n},e)):t.createElement(QV,Ln({ref:n},e)))}),XV=Object.assign(YV,{Child:JV,Root:YV});var ZV=n(139),$V=n.n(ZV);const eH=e=>{let{isOpen:n,message:r,variant:i="warning"}=e;const a=$V()("fixed top-2.5 left-1/2 transform -translate-x-1/2 max-w-sm w-full shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden alertBox",{"bg-rose-200":"warning"===i,"bg-green-200":"success"===i});return(0,Bt.jsx)(XV,{show:n,as:t.Fragment,enter:"ease-out duration-300 transition",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,Bt.jsx)("div",{className:a,children:(0,Bt.jsx)("div",{className:"p-4 errorText",children:r})})})},tH=e=>{let{seconds:t,score:n}=e;return(0,Bt.jsxs)("div",{className:"gameBox",children:[(0,Bt.jsxs)("div",{className:"genBox timerBox",children:["Time left: ",Math.floor(t/60),":",Math.floor(t%60/10),t%60%10]}),(0,Bt.jsxs)("div",{className:"genBox scoreBox",children:["Score: ",n]})]})};const nH=function(e){let{currentGuess:t}=e;return(0,Bt.jsx)("div",{className:"input_container",children:(0,Bt.jsxs)("div",{className:"input",children:[t,"="]})})},rH=e=>{let{value:t,onValueInput:n,classes:r}=e;return(0,Bt.jsx)("div",{className:r,onClick:()=>{n(t)},children:t})},iH=e=>{let{puzzle:n,currentGuess:r,onChar:i,onDelete:a,onEnter:o}=e;const s=new Set(["+","-","*","/","(",")"]),u=e=>{const t=s.has(e),n=r.charAt(r.length-1),u=!(n>="0"&&n<="9");"Enter"===e?o():"Delete"===e?a():(t||u)&&i(e)};return(0,t.useEffect)(()=>{const e=e=>{if("Enter"===e.code)o();else if("Backspace"===e.code)a();else{const t=e.key;console.log(t);const n=s.has(t),r=e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105,a=n||r;1===t.length&&a&&i(t)}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[i,a,o]),(0,Bt.jsxs)("div",{className:"keyboard",children:[(0,Bt.jsxs)("div",{className:"numberKeyboard",children:[(0,Bt.jsx)(rH,{value:n[0],onValueInput:u,classes:$V()("numberKey")}),(0,Bt.jsx)(rH,{value:n[1],onValueInput:u,classes:$V()("numberKey")}),(0,Bt.jsx)(rH,{value:n[2],onValueInput:u,classes:$V()("numberKey")}),(0,Bt.jsx)(rH,{value:n[3],onValueInput:u,classes:$V()("numberKey")})]}),(0,Bt.jsxs)("div",{className:"operatorKeyboard",children:[(0,Bt.jsx)(rH,{value:"+",onValueInput:u,classes:$V()("operatorKey num1")}),(0,Bt.jsx)(rH,{value:"-",onValueInput:u,classes:$V()("operatorKey num2")}),(0,Bt.jsx)(rH,{value:"*",onValueInput:u,classes:$V()("operatorKey num3")}),(0,Bt.jsx)(rH,{value:"/",onValueInput:u,classes:$V()("operatorKey num4")}),(0,Bt.jsx)(rH,{value:"(",onValueInput:u,classes:$V()("operatorKey num5")}),(0,Bt.jsx)(rH,{value:")",onValueInput:u,classes:$V()("operatorKey num5")})]}),(0,Bt.jsxs)("div",{className:"modifierKeys",children:[(0,Bt.jsx)(rH,{value:"Enter",onValueInput:u,classes:$V()("modifierKey")}),(0,Bt.jsx)(rH,{value:"Delete",onValueInput:u,classes:$V()("modifierKey")})]})]})};function aH(e){return Ab({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"}}]})(e)}const oH=!("undefined"===typeof window||!window.document||!window.document.createElement);var sH=!1,uH=!1;try{var lH={get passive(){return sH=!0},get once(){return uH=sH=!0}};oH&&(window.addEventListener("test",lH,lH),window.removeEventListener("test",lH,!0))}catch(gA){}const cH=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!uH){var i=r.once,a=r.capture,o=n;!uH&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,sH?r:a)}e.addEventListener(t,n,r)};function hH(e){return e&&e.ownerDocument||document}const fH=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var dH;function pH(e){if((!dH&&0!==dH||e)&&oH){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),dH=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return dH}const mH=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)(()=>{n.current=e},[e]),n};function gH(e){const n=mH(e);return(0,t.useCallback)(function(){return n.current&&n.current(...arguments)},[n])}const yH=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const vH=function(e,n){return(0,t.useMemo)(()=>function(e,t){const n=yH(e),r=yH(t);return e=>{n&&n(e),r&&r(e)}}(e,n),[e,n])};function bH(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)(()=>()=>n.current(),[])}function xH(e,t){return function(e){var t=hH(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var wH=/([A-Z])/g;var NH=/^ms-/;function EH(e){return function(e){return e.replace(wH,"-$1").toLowerCase()}(e).replace(NH,"-ms-")}var SH=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const MH=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(EH(t))||xH(e).getPropertyValue(EH(t));Object.keys(t).forEach(function(i){var a=t[i];a||0===a?!function(e){return!(!e||!SH.test(e))}(i)?n+=EH(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(EH(i))}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};const AH=function(e,t,n,r){return cH(e,t,n,r),function(){fH(e,t,n,r)}};function CH(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout(function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)},t+n),a=AH(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function TH(e,t,n,r){null==n&&(n=function(e){var t=MH(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=CH(e,n,r),a=AH(e,"transitionend",t);return function(){i(),a()}}function kH(e){void 0===e&&(e=hH());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(gA){return e.body}}function IH(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function OH(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)(()=>()=>n.current(),[])}const _H=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)(()=>{n.current=e},[e]),n};function DH(e){const n=_H(e);return(0,t.useCallback)(function(){return n.current&&n.current(...arguments)},[n])}const RH=(PH="modal-open","".concat("data-rr-ui-").concat(PH));var PH;const FH=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(MH(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(RH,""),MH(r,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(RH),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},jH=(0,t.createContext)(oH?window:void 0);jH.Provider;function LH(){return(0,t.useContext)(jH)}const BH=(e,t)=>oH?null==e?(t||hH()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const UH=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const zH=function(e,n){return(0,t.useMemo)(()=>function(e,t){const n=UH(e),r=UH(t);return e=>{n&&n(e),r&&r(e)}}(e,n),[e,n])},qH="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,VH="undefined"!==typeof document||qH?t.useLayoutEffect:t.useEffect;function HH(e){if(!e||"function"===typeof e)return null;const{major:n}=function(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return n>=19?e.props.ref:e.ref}const WH=function(e){let{children:n,in:r,onExited:i,mountOnEnter:a,unmountOnExit:o}=e;const s=(0,t.useRef)(null),u=(0,t.useRef)(r),l=DH(i);(0,t.useEffect)(()=>{r?u.current=!0:l(s.current)},[r,l]);const c=zH(s,HH(n)),h=(0,t.cloneElement)(n,{ref:c});return r?h:o||!u.current&&a?null:h},KH=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const GH=["component"];const YH=t.forwardRef((e,n)=>{let{component:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,GH);const a=function(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:a,onExiting:o,onExited:s,addEndListener:u,children:l}=e,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,KH);const h=(0,t.useRef)(null),f=zH(h,HH(l)),d=e=>t=>{e&&h.current&&e(h.current,t)},p=(0,t.useCallback)(d(n),[n]),m=(0,t.useCallback)(d(r),[r]),g=(0,t.useCallback)(d(i),[i]),y=(0,t.useCallback)(d(a),[a]),v=(0,t.useCallback)(d(o),[o]),b=(0,t.useCallback)(d(s),[s]),x=(0,t.useCallback)(d(u),[u]);return Object.assign({},c,{nodeRef:h},n&&{onEnter:p},r&&{onEntering:m},i&&{onEntered:g},a&&{onExit:y},o&&{onExiting:v},s&&{onExited:b},u&&{addEndListener:x},{children:"function"===typeof l?(e,t)=>l(e,Object.assign({},t,{ref:f})):(0,t.cloneElement)(l,{ref:f})})}(i);return(0,Bt.jsx)(r,Object.assign({ref:n},a))}),QH=YH;function JH(e){let{children:n,in:r,onExited:i,onEntered:a,transition:o}=e;const[s,u]=(0,t.useState)(!r);r&&s&&u(!1);const l=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),a=(0,t.useRef)(!0),o=DH(r);return VH(()=>{if(!i.current)return;let e=!1;return o({in:n,element:i.current,initial:a.current,isStale:()=>e}),()=>{e=!0}},[n,o]),VH(()=>(a.current=!1,()=>{a.current=!0}),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(o(e)).then(()=>{e.isStale()||(e.in?null==a||a(e.element,e.initial):(u(!0),null==i||i(e.element)))},t=>{throw e.in||u(!0),t})}}),c=zH(l,HH(n));return s&&!r?null:(0,t.cloneElement)(n,{ref:c})}function XH(e,t,n){return e?(0,Bt.jsx)(QH,Object.assign({},n,{component:e})):t?(0,Bt.jsx)(JH,Object.assign({},n,{transition:t})):(0,Bt.jsx)(WH,Object.assign({},n))}const ZH=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let $H;function eW(e){const n=LH(),r=e||function(e){return $H||($H=new FH({ownerDocument:null==e?void 0:e.document})),$H}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)(e=>{i.current.dialog=e},[]),setBackdropRef:(0,t.useCallback)(e=>{i.current.backdrop=e},[])})}const tW=(0,t.forwardRef)((e,n)=>{let{show:r=!1,role:a="dialog",className:o,style:s,children:u,backdrop:l=!0,keyboard:c=!0,onBackdropClick:h,onEscapeKeyDown:f,transition:d,runTransition:p,backdropTransition:m,runBackdropTransition:g,autoFocus:y=!0,enforceFocus:v=!0,restoreFocus:b=!0,restoreFocusOptions:x,renderDialog:w,renderBackdrop:N=e=>(0,Bt.jsx)("div",Object.assign({},e)),manager:E,container:S,onShow:M,onHide:A=()=>{},onExit:C,onExited:T,onExiting:k,onEnter:I,onEntering:O,onEntered:_}=e,D=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ZH);const R=LH(),P=function(e,n){const r=LH(),[i,a]=(0,t.useState)(()=>BH(e,null==r?void 0:r.document));if(!i){const t=BH(e);t&&a(t)}return(0,t.useEffect)(()=>{n&&i&&n(i)},[n,i]),(0,t.useEffect)(()=>{const t=BH(e);t!==i&&a(t)},[e,i]),i}(S),F=eW(E),j=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)(()=>e.current);return(0,t.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),n.current}(),L=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{n.current=e}),n.current}(r),[B,U]=(0,t.useState)(!r),z=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,()=>F,[F]),oH&&!L&&r&&(z.current=kH(null==R?void 0:R.document)),r&&B&&U(!1);const q=DH(()=>{if(F.add(),Y.current=AH(document,"keydown",K),G.current=AH(document,"focus",()=>setTimeout(H),!0),M&&M(),y){var e,t;const n=kH(null!=(e=null==(t=F.dialog)?void 0:t.ownerDocument)?e:null==R?void 0:R.document);F.dialog&&n&&!IH(F.dialog,n)&&(z.current=n,F.dialog.focus())}}),V=DH(()=>{var e;(F.remove(),null==Y.current||Y.current(),null==G.current||G.current(),b)&&(null==(e=z.current)||null==e.focus||e.focus(x),z.current=null)});(0,t.useEffect)(()=>{r&&P&&q()},[r,P,q]),(0,t.useEffect)(()=>{B&&V()},[B,V]),OH(()=>{V()});const H=DH(()=>{if(!v||!j()||!F.isTopModal())return;const e=kH(null==R?void 0:R.document);F.dialog&&e&&!IH(F.dialog,e)&&F.dialog.focus()}),W=DH(e=>{e.target===e.currentTarget&&(null==h||h(e),!0===l&&A())}),K=DH(e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&F.isTopModal()&&(null==f||f(e),e.defaultPrevented||A())}),G=(0,t.useRef)(),Y=(0,t.useRef)();if(!P)return null;const Q=Object.assign({role:a,ref:F.setDialogRef,"aria-modal":"dialog"===a||void 0},D,{style:s,className:o,tabIndex:-1});let J=w?w(Q):(0,Bt.jsx)("div",Object.assign({},Q,{children:t.cloneElement(u,{role:"document"})}));J=XH(d,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:C,onExiting:k,onExited:function(){U(!0),null==T||T(...arguments)},onEnter:I,onEntering:O,onEntered:_,children:J});let X=null;return l&&(X=N({ref:F.setBackdropRef,onClick:W}),X=XH(m,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),(0,Bt.jsx)(Bt.Fragment,{children:i.createPortal((0,Bt.jsxs)(Bt.Fragment,{children:[X,J]}),P)})});tW.displayName="Modal";const nW=Object.assign(tW,{Manager:FH});var rW=Function.prototype.bind.call(Function.prototype.call,[].slice);function iW(e,t){return rW(e.querySelectorAll(t))}function aW(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const oW=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sW=".sticky-top",uW=".navbar-toggler";class lW extends FH{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,MH(t,{[e]:"".concat(parseFloat(MH(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],MH(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";iW(t,oW).forEach(t=>this.adjustAndStore(i,t,e.scrollBarWidth)),iW(t,sW).forEach(t=>this.adjustAndStore(a,t,-e.scrollBarWidth)),iW(t,uW).forEach(t=>this.adjustAndStore(a,t,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=aW(n.className,r):n.setAttribute("class",aW(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";iW(t,oW).forEach(e=>this.restore(i,e)),iW(t,sW).forEach(e=>this.restore(a,e)),iW(t,uW).forEach(e=>this.restore(a,e))}}let cW;function hW(e,t){return hW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hW(e,t)}const fW=!1,dW=t.createContext(null);var pW="unmounted",mW="exited",gW="entering",yW="entered",vW="exiting",bW=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=mW,r.appearStatus=gW):i=yW:i=t.unmountOnExit||t.mountOnEnter?pW:mW,r.state={status:i},r.nextCallback=null,r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hW(e,t)}(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===pW?{status:mW}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==gW&&n!==yW&&(t=gW):n!==gW&&n!==yW||(t=vW)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===gW){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===mW&&this.setState({status:pW})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],s=a[1],u=this.getTimeouts(),l=r?u.appear:u.enter;!e&&!n||fW?this.safeSetState({status:yW},function(){t.props.onEntered(o)}):(this.props.onEnter(o,s),this.safeSetState({status:gW},function(){t.props.onEntering(o,s),t.onTransitionEnd(l,function(){t.safeSetState({status:yW},function(){t.props.onEntered(o,s)})})}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!fW?(this.props.onExit(r),this.safeSetState({status:vW},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:mW},function(){e.props.onExited(r)})})})):this.safeSetState({status:mW},function(){e.props.onExited(r)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===pW)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,eV(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(dW.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function xW(){}bW.contextType=dW,bW.propTypes={},bW.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xW,onEntering:xW,onEntered:xW,onExit:xW,onExiting:xW,onExited:xW},bW.UNMOUNTED=pW,bW.EXITED=mW,bW.ENTERING=gW,bW.ENTERED=yW,bW.EXITING=vW;const wW=bW;function NW(e,t){const n=MH(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function EW(e,t){const n=NW(e,"transitionDuration"),r=NW(e,"transitionDelay"),i=TH(e,n=>{n.target===e&&(i(),t(n))},n+r)}const SW=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],MW=t.forwardRef((e,n)=>{let{onEnter:r,onEntering:a,onEntered:o,onExit:s,onExiting:u,onExited:l,addEndListener:c,children:h,childRef:f}=e,d=tV(e,SW);const p=(0,t.useRef)(null),m=vH(p,f),g=e=>{var t;m((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},y=e=>t=>{e&&p.current&&e(p.current,t)},v=(0,t.useCallback)(y(r),[r]),b=(0,t.useCallback)(y(a),[a]),x=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(s),[s]),N=(0,t.useCallback)(y(u),[u]),E=(0,t.useCallback)(y(l),[l]),S=(0,t.useCallback)(y(c),[c]);return(0,Bt.jsx)(wW,Ln(Ln({ref:n},d),{},{onEnter:v,onEntered:x,onEntering:b,onExit:w,onExited:E,onExiting:N,addEndListener:S,nodeRef:p,children:"function"===typeof h?(e,t)=>h(e,Ln(Ln({},t),{},{ref:g})):t.cloneElement(h,{ref:g})}))});MW.displayName="TransitionWrapper";const AW=MW,CW=["className","children","transitionClasses","onEnter"],TW={[gW]:"show",[yW]:"show"},kW=t.forwardRef((e,n)=>{let{className:r,children:i,transitionClasses:a={},onEnter:o}=e;const s=Ln({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},tV(e,CW)),u=(0,t.useCallback)((e,t)=>{!function(e){e.offsetHeight}(e),null==o||o(e,t)},[o]);return(0,Bt.jsx)(AW,Ln(Ln({ref:n,addEndListener:EW},s),{},{onEnter:u,childRef:HH(i),children:(e,n)=>t.cloneElement(i,Ln(Ln({},n),{},{className:$V()("fade",r,i.props.className,TW[e],a[e])}))}))});kW.displayName="Fade";const IW=kW,OW=["xxl","xl","lg","md","sm","xs"],_W="xs",DW=t.createContext({prefixes:{},breakpoints:OW,minBreakpoint:_W}),{Consumer:RW,Provider:PW}=DW;function FW(e,n){const{prefixes:r}=(0,t.useContext)(DW);return e||r[n]||n}const jW=["className","bsPrefix","as"],LW=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,a=tV(e,jW);return r=FW(r,"modal-body"),(0,Bt.jsx)(i,Ln({ref:t,className:$V()(n,r)},a))});LW.displayName="ModalBody";const BW=LW,UW=t.createContext({onHide(){}}),zW=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],qW=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:a,size:o,fullscreen:s,children:u,scrollable:l}=e,c=tV(e,zW);n=FW(n,"modal");const h="".concat(n,"-dialog"),f="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,Bt.jsx)("div",Ln(Ln({},c),{},{ref:t,className:$V()(h,r,o&&"".concat(n,"-").concat(o),a&&"".concat(h,"-centered"),l&&"".concat(h,"-scrollable"),s&&f),children:(0,Bt.jsx)("div",{className:$V()("".concat(n,"-content"),i),children:u})}))});qW.displayName="ModalDialog";const VW=qW,HW=["className","bsPrefix","as"],WW=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i="div"}=e,a=tV(e,HW);return r=FW(r,"modal-footer"),(0,Bt.jsx)(i,Ln({ref:t,className:$V()(n,r)},a))});WW.displayName="ModalFooter";const KW=WW;var GW=n(173),YW=n.n(GW);const QW=["className","variant","aria-label"],JW={"aria-label":YW().string,onClick:YW().func,variant:YW().oneOf(["white"])},XW=t.forwardRef((e,t)=>{let{className:n,variant:r,"aria-label":i="Close"}=e,a=tV(e,QW);return(0,Bt.jsx)("button",Ln({ref:t,type:"button",className:$V()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i},a))});XW.displayName="CloseButton",XW.propTypes=JW;const ZW=XW,$W=["closeLabel","closeVariant","closeButton","onHide","children"],eK=t.forwardRef((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:a=!1,onHide:o,children:s}=e,u=tV(e,$W);const l=(0,t.useContext)(UW),c=gH(()=>{null==l||l.onHide(),null==o||o()});return(0,Bt.jsxs)("div",Ln(Ln({ref:n},u),{},{children:[s,a&&(0,Bt.jsx)(ZW,{"aria-label":r,variant:i,onClick:c})]}))});eK.displayName="AbstractModalHeader";const tK=eK,nK=["bsPrefix","className","closeLabel","closeButton"],rK=t.forwardRef((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:a=!1}=e,o=tV(e,nK);return n=FW(n,"modal-header"),(0,Bt.jsx)(tK,Ln(Ln({ref:t},o),{},{className:$V()(r,n),closeLabel:i,closeButton:a}))});rK.displayName="ModalHeader";const iK=rK,aK=["className","bsPrefix","as"],oK=(sK="h4",t.forwardRef((e,t)=>(0,Bt.jsx)("div",Ln(Ln({},e),{},{ref:t,className:$V()(e.className,sK)}))));var sK;const uK=t.forwardRef((e,t)=>{let{className:n,bsPrefix:r,as:i=oK}=e,a=tV(e,aK);return r=FW(r,"modal-title"),(0,Bt.jsx)(i,Ln({ref:t,className:$V()(n,r)},a))});uK.displayName="ModalTitle";const lK=uK,cK=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","data-bs-theme","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function hK(e){return(0,Bt.jsx)(IW,Ln(Ln({},e),{},{timeout:null}))}function fK(e){return(0,Bt.jsx)(IW,Ln(Ln({},e),{},{timeout:null}))}const dK=t.forwardRef((e,n)=>{let{bsPrefix:r,className:i,style:a,dialogClassName:o,contentClassName:s,children:u,dialogAs:l=VW,"data-bs-theme":c,"aria-labelledby":h,"aria-describedby":f,"aria-label":d,show:p=!1,animation:m=!0,backdrop:g=!0,keyboard:y=!0,onEscapeKeyDown:v,onShow:b,onHide:x,container:w,autoFocus:N=!0,enforceFocus:E=!0,restoreFocus:S=!0,restoreFocusOptions:M,onEntered:A,onExit:C,onExiting:T,onEnter:k,onEntering:I,onExited:O,backdropClassName:_,manager:D}=e,R=tV(e,cK);const[P,F]=(0,t.useState)({}),[j,L]=(0,t.useState)(!1),B=(0,t.useRef)(!1),U=(0,t.useRef)(!1),z=(0,t.useRef)(null),[q,V]=(0,t.useState)(null),H=vH(n,V),W=gH(x),K=function(){const{dir:e}=(0,t.useContext)(DW);return"rtl"===e}();r=FW(r,"modal");const G=(0,t.useMemo)(()=>({onHide:W}),[W]);function Y(){return D||function(e){return cW||(cW=new lW(e)),cW}({isRTL:K})}function Q(e){if(!oH)return;const t=Y().getScrollbarWidth()>0,n=e.scrollHeight>hH(e).documentElement.clientHeight;F({paddingRight:t&&!n?pH():void 0,paddingLeft:!t&&n?pH():void 0})}const J=gH(()=>{q&&Q(q.dialog)});bH(()=>{fH(window,"resize",J),null==z.current||z.current()});const X=()=>{B.current=!0},Z=e=>{B.current&&q&&e.target===q.dialog&&(U.current=!0),B.current=!1},$=()=>{L(!0),z.current=TH(q.dialog,()=>{L(!1)})},ee=e=>{"static"!==g?U.current||e.target!==e.currentTarget?U.current=!1:null==x||x():(e=>{e.target===e.currentTarget&&$()})(e)},te=(0,t.useCallback)(e=>(0,Bt.jsx)("div",Ln(Ln({},e),{},{className:$V()("".concat(r,"-backdrop"),_,!m&&"show")})),[m,_,r]),ne=Ln(Ln({},a),P);ne.display="block";return(0,Bt.jsx)(UW.Provider,{value:G,children:(0,Bt.jsx)(nW,{show:p,ref:H,backdrop:g,container:w,keyboard:!0,autoFocus:N,enforceFocus:E,restoreFocus:S,restoreFocusOptions:M,onEscapeKeyDown:e=>{y?null==v||v(e):(e.preventDefault(),"static"===g&&$())},onShow:b,onHide:x,onEnter:(e,t)=>{e&&Q(e),null==k||k(e,t)},onEntering:(e,t)=>{null==I||I(e,t),cH(window,"resize",J)},onEntered:A,onExit:e=>{null==z.current||z.current(),null==C||C(e)},onExiting:T,onExited:e=>{e&&(e.style.display=""),null==O||O(e),fH(window,"resize",J)},manager:Y(),transition:m?hK:void 0,backdropTransition:m?fK:void 0,renderBackdrop:te,renderDialog:e=>(0,Bt.jsx)("div",Ln(Ln({role:"dialog"},e),{},{style:ne,className:$V()(i,r,j&&"".concat(r,"-static"),!m&&"show"),onClick:g?ee:void 0,onMouseUp:Z,"data-bs-theme":c,"aria-label":d,"aria-labelledby":h,"aria-describedby":f,children:(0,Bt.jsx)(l,Ln(Ln({},R),{},{onMouseDown:X,className:o,contentClassName:s,children:u}))}))})})});dK.displayName="Modal";const pK=Object.assign(dK,{Body:BW,Header:iK,Title:lK,Footer:KW,Dialog:VW,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),mK=e=>{let{isOpen:t,handleClose:n}=e;return(0,Bt.jsx)(pK,{show:t,onHide:n,className:"modal",children:(0,Bt.jsxs)(pK.Body,{children:[(0,Bt.jsxs)("div",{className:"modalHeader",children:[(0,Bt.jsx)("div",{className:"modalTitle",children:"About"}),(0,Bt.jsx)(aH,{className:"modalCloseButton",onClick:n})]}),(0,Bt.jsxs)("div",{className:"modalText",children:["This is a reactJS version of a favorite childhood game :) inspired by the game 24 and Wordle.",(0,Bt.jsx)("br",{}),"Thanks to Primel for a lot of the logic/styling, and 4nums for the puzzle list!"]})]})})},gK=e=>{let{isOpen:t,handleClose:n}=e;return(0,Bt.jsx)(pK,{show:t,onHide:n,className:"modal",children:(0,Bt.jsxs)(pK.Body,{children:[(0,Bt.jsxs)("div",{className:"modalHeader",children:[(0,Bt.jsx)("div",{className:"modalTitle",children:"How to play"}),(0,Bt.jsx)(aH,{className:"modalCloseButton",onClick:n})]}),(0,Bt.jsx)("div",{className:"helpModalText",children:"Make 24 with only four numbers!"}),(0,Bt.jsxs)("ul",{className:"pointList",children:[(0,Bt.jsx)("li",{className:"bulletPoint",children:"Solve as many puzzles as you can within the time limit!"}),(0,Bt.jsxs)("li",{children:["Each puzzle has 4 numbers that must ",(0,Bt.jsx)("b",{children:"be used once each"}),"."]}),(0,Bt.jsx)("li",{children:"Operators can be used multiple times."}),(0,Bt.jsx)("li",{children:"Order of operations applies."}),(0,Bt.jsx)("li",{children:"Everyone has the same order of puzzles, which resets at midnight."})]}),(0,Bt.jsxs)("div",{className:"gameExample",children:[(0,Bt.jsx)("div",{className:"numberKey",children:" 1 "}),(0,Bt.jsx)("div",{className:"numberKey",children:" 4 "}),(0,Bt.jsx)("div",{className:"numberKey",children:" 1 "}),(0,Bt.jsx)("div",{className:"numberKey",children:" 5 "})]}),(0,Bt.jsxs)("div",{className:"exampleText",children:["In this example, a solution could be:",(0,Bt.jsx)("br",{}),"(1 + 4) * 5 - 1 = 24",(0,Bt.jsx)("br",{}),"or",(0,Bt.jsx)("br",{}),"(1 + 5) * 4 * 1 = 24"]})]})})},yK=["as","disabled"];function vK(e){let{tagName:t,disabled:n,href:r,target:i,rel:a,role:o,onClick:s,tabIndex:u=0,type:l}=e;t||(t=null!=r||null!=i||null!=a?"a":"button");const c={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},c];const h=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:u,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},c]}const bK=t.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,yK);const[a,{tagName:o}]=vK(Object.assign({tagName:n,disabled:r},i));return(0,Bt.jsx)(o,Object.assign({},i,a,{ref:t}))});bK.displayName="Button";const xK=["as","bsPrefix","variant","size","active","disabled","className"],wK=t.forwardRef((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:a,active:o=!1,disabled:s=!1,className:u}=e,l=tV(e,xK);const c=FW(r,"btn"),[h,{tagName:f}]=vK(Ln({tagName:n,disabled:s},l)),d=f;return(0,Bt.jsx)(d,Ln(Ln(Ln({},h),l),{},{ref:t,disabled:s,className:$V()(u,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),l.href&&s&&"disabled")}))});wK.displayName="Button";const NK=wK,EK=(e,t,n,r)=>{let i="24 game - "+(()=>{var e=new Date,t=String(e.getDate()).padStart(2,"0");return String(e.getMonth()+1).padStart(2,"0")+"/"+t})()+"\nPuzzles solved: "+t+"\ud83d\ude24\n\n";for(let a=0;a<t&&a<4;a++)i+=n[a].join(" ")+" in "+(r[a]/1e3).toFixed(2)+"s\n";t>4&&(i+="...\n",i+=n[t-1].join(" ")+" in "+(r[t-1]/1e3).toFixed(2)+"s\n"),navigator.clipboard.writeText(i)},SK=e=>{let{isOpen:t,handleClose:n,handleShare:r,puzzle:i,score:a,completedPuzzles:o,completionTimes:s}=e;return(0,Bt.jsx)(pK,{show:t,onHide:n,className:"modal",children:(0,Bt.jsxs)(pK.Body,{children:[(0,Bt.jsxs)("div",{className:"modalHeader",children:[(0,Bt.jsx)("div",{className:"modalTitle",children:"Time's up! You solved:"}),(0,Bt.jsx)(aH,{className:"modalCloseButton",onClick:n})]}),(0,Bt.jsxs)("div",{className:"scoreText",children:[a," puzzles"]}),(0,Bt.jsxs)("div",{className:"successBox",children:[(0,Bt.jsx)("div",{className:"pusheenBox",children:(0,Bt.jsx)("img",{src:"https://media.giphy.com/media/04b8NVK7cTY61NIiz7/giphy.gif",className:"pusheenImg",alt:"cat"})}),(0,Bt.jsxs)("div",{className:"buttonBox",children:[(0,Bt.jsxs)(NK,{variant:"success",className:"linkButton shareButton",onClick:()=>{EK(0,a,o,s),r()},children:["Share!",(0,Bt.jsx)(Ob,{})]})," ",(0,Bt.jsxs)(NK,{variant:"primary",className:"linkButton websiteButton",onClick:()=>{navigator.clipboard.writeText("https://jfguan.github.io/"),r()},children:["Website Link",(0,Bt.jsx)(kb,{})]})," "]})]})]})})},MK=[[1,1,4,6],[1,1,3,8],[1,1,11,11],[1,1,1,8],[6,6,6,6],[1,1,2,12],[1,2,2,6],[1,1,10,12],[1,1,1,12],[2,2,10,10],[1,1,4,8],[1,1,2,8],[1,1,12,12],[4,6,11,11],[1,1,4,12],[1,1,5,8],[3,3,3,8],[1,1,3,12],[2,2,2,12],[11,11,12,12],[1,2,3,4],[1,1,2,6],[1,1,13,13],[1,1,2,11],[3,7,7,8],[1,2,4,12],[7,7,12,12],[1,1,5,6],[1,1,2,13],[4,6,7,7],[1,1,3,6],[1,1,11,13],[1,1,3,9],[4,4,4,6],[4,5,12,12],[4,6,13,13],[2,7,7,12],[2,11,11,12],[12,12,12,12],[1,6,6,12],[10,10,12,12],[1,1,11,12],[1,1,1,11],[1,8,8,8],[3,8,13,13],[11,11,11,12],[1,5,7,12],[2,9,9,12],[3,3,12,12],[1,1,4,5],[2,2,3,8],[8,8,12,12],[9,9,12,12],[1,1,5,5],[1,6,8,12],[3,8,11,11],[5,5,12,12],[5,6,12,12],[12,12,13,13],[1,1,12,13],[1,9,9,12],[11,12,12,12],[3,8,10,10],[2,5,5,12],[1,3,5,12],[3,4,4,8],[11,11,11,13],[3,8,9,9],[5,5,11,12],[1,4,10,10],[4,4,12,12],[1,2,5,8],[1,8,8,12],[2,3,3,12],[2,12,13,13],[1,1,3,7],[1,3,4,12],[1,6,7,12],[7,7,11,12],[1,4,7,12],[1,3,10,10],[1,1,1,13],[1,8,9,12],[6,7,12,12],[8,8,11,13],[1,1,10,13],[3,5,5,8],[2,3,3,8],[2,3,12,12],[1,1,4,7],[1,3,3,4],[1,2,5,12],[2,2,4,6],[3,7,8,8],[7,8,12,12],[9,9,11,12],[1,7,9,12],[2,7,7,8],[4,6,6,6],[1,6,6,11],[5,5,7,7],[4,5,11,12],[1,2,2,10],[2,2,12,12],[3,7,7,7],[4,4,11,13],[4,8,11,11],[1,7,7,10],[4,5,5,6],[1,6,9,12],[4,4,11,12],[1,1,2,10],[1,2,2,12],[3,3,11,12],[3,6,11,11],[3,3,4,6],[12,12,12,13],[2,8,9,9],[2,2,2,3],[8,9,12,12],[1,5,8,8],[3,8,8,8],[6,6,11,13],[6,6,12,12],[7,7,11,13],[3,4,4,6],[1,8,10,12],[2,2,3,12],[1,4,6,12],[1,4,4,12],[9,9,11,13],[1,4,8,12],[3,8,12,13],[1,5,6,12],[3,6,7,7],[6,6,10,13],[4,8,10,10],[11,13,13,13],[4,5,12,13],[4,6,9,9],[4,6,10,11],[4,6,6,7],[1,2,11,11],[1,3,6,12],[3,6,13,13],[2,10,10,12],[3,4,11,13],[10,10,11,13],[10,11,12,12],[1,6,7,10],[1,6,12,12],[1,3,3,12],[1,4,5,12],[2,8,10,10],[1,2,6,6],[1,12,13,13],[2,4,4,12],[2,4,11,11],[4,6,8,8],[1,1,3,13],[1,11,11,12],[1,7,8,9],[2,8,8,12],[3,7,10,10],[4,5,5,5],[5,5,5,5],[1,3,6,8],[3,6,6,8],[3,8,10,11],[9,10,12,12],[1,2,6,12],[1,7,8,10],[1,2,4,4],[4,8,13,13],[1,2,10,12],[1,3,9,12],[1,2,4,8],[1,6,8,9],[4,6,10,10],[5,6,11,12],[1,2,6,8],[4,7,12,12],[1,5,7,11],[1,5,8,12],[1,7,8,8],[1,10,10,12],[2,2,11,13],[3,8,12,12],[3,9,9,9],[4,7,7,8],[1,1,4,4],[1,1,6,6],[2,8,13,13],[1,1,3,4],[2,11,12,12],[3,3,4,8],[3,4,12,12],[10,13,13,13],[1,1,9,13],[2,2,11,12],[2,11,11,11],[1,5,7,13],[5,6,12,13],[1,7,7,12],[1,2,3,10],[1,4,6,8],[1,10,12,12],[3,3,3,6],[5,5,12,13],[1,4,7,8],[1,5,5,12],[3,3,11,13],[4,4,10,13],[5,5,11,13],[1,2,3,8],[2,13,13,13],[3,8,11,12],[11,12,13,13],[1,4,8,8],[3,3,3,12],[2,2,4,5],[2,3,11,12],[7,7,12,13],[7,9,11,11],[8,8,11,12],[10,10,11,12],[1,2,2,8],[1,2,13,13],[1,8,10,13],[1,1,5,7],[1,5,10,10],[1,3,8,9],[3,11,11,12],[1,3,11,11],[5,5,5,6],[1,5,8,9],[6,7,11,12],[1,2,3,12],[2,2,2,8],[4,4,5,6],[1,2,8,8],[2,7,8,12],[1,4,4,5],[1,4,12,12],[9,9,12,13],[1,2,10,11],[2,12,12,13],[3,6,7,8],[4,8,9,9],[1,5,7,8],[1,8,8,9],[4,6,12,13],[1,2,12,12],[1,3,5,8],[8,8,8,10],[1,3,3,7],[1,6,9,9],[2,8,11,11],[3,4,5,8],[4,5,13,13],[1,3,6,6],[1,6,7,11],[4,4,4,4],[1,6,6,13],[2,11,13,13],[3,6,10,11],[2,5,6,12],[2,12,12,12],[4,5,9,9],[1,7,8,12],[2,8,10,11],[3,7,9,9],[2,6,6,12],[10,10,10,13],[1,3,3,5],[1,4,4,7],[3,12,13,13],[6,6,11,12],[1,1,3,11],[1,9,12,12],[1,5,10,12],[4,5,6,6],[1,6,8,10],[1,9,11,12],[1,4,6,13],[1,5,8,10],[2,8,8,13],[3,3,3,3],[5,6,6,7],[6,10,10,10],[1,2,5,6],[1,4,7,13],[2,2,2,11],[2,3,11,13],[4,6,7,8],[7,8,11,12],[1,2,4,6],[1,3,3,9],[2,4,5,12],[3,7,13,13],[12,13,13,13],[2,2,8,12],[2,10,11,12],[3,5,11,11],[3,7,11,11],[3,9,9,12],[1,3,13,13],[3,10,10,12],[4,4,12,13],[4,6,12,12],[1,5,6,6],[1,7,7,11],[4,4,5,5],[1,2,10,13],[3,4,10,13],[10,11,11,13],[1,2,3,6],[1,2,5,5],[3,8,9,10],[2,3,4,6],[2,5,6,11],[1,10,11,12],[3,6,6,7],[4,6,11,12],[1,1,6,12],[1,6,6,10],[2,2,5,5],[5,6,7,7],[6,7,12,13],[1,4,8,13],[2,8,9,12],[4,5,11,11],[5,7,10,12],[2,2,2,13],[5,6,13,13],[1,2,5,7],[3,3,12,13],[1,3,3,3],[1,12,12,12],[2,3,12,13],[2,4,4,8],[4,5,7,7],[1,1,2,7],[4,7,7,7],[6,8,10,12],[1,2,11,13],[9,9,10,13],[3,7,7,12],[7,7,10,13],[3,4,5,7],[2,2,2,4],[4,7,13,13],[11,12,12,13],[1,1,3,5],[3,3,5,6],[2,6,6,8],[4,7,10,11],[6,8,11,11],[9,11,11,11],[1,1,2,9],[1,6,8,11],[2,11,11,13],[5,7,11,11],[6,9,12,12],[1,3,10,11],[2,4,13,13],[4,6,9,10],[1,3,4,4],[5,5,10,10],[6,8,8,8],[8,9,10,13],[1,1,4,9],[1,9,10,12],[4,4,4,8],[4,8,8,8],[7,9,13,13],[2,5,12,12],[4,5,10,10],[5,6,11,11],[3,3,3,7],[9,12,12,12],[2,8,12,12],[8,9,11,12],[9,10,11,12],[1,3,6,7],[1,11,12,12],[3,3,3,10],[4,7,8,8],[8,9,12,13],[1,8,8,11],[1,2,2,11],[1,2,4,10],[1,2,7,10],[1,8,8,10],[8,8,9,11],[2,6,10,12],[7,8,12,13],[2,6,7,13],[4,4,4,12],[6,6,6,11],[2,5,5,8],[1,1,8,8],[5,5,11,11],[1,2,6,7],[1,3,7,13],[2,2,12,13],[2,4,5,8],[6,7,10,13],[2,2,10,13],[3,6,6,12],[5,5,6,6],[5,5,13,13],[8,8,10,13],[1,3,10,12],[1,7,8,11],[2,5,5,13],[2,9,9,11],[1,2,11,12],[3,5,5,6],[3,7,12,13],[4,8,11,12],[5,6,9,9],[11,11,12,13],[3,3,4,4],[3,8,8,9],[8,8,12,13],[1,7,7,9],[1,3,9,11],[1,6,8,8],[2,3,5,5],[7,8,8,9],[1,3,7,8],[2,2,7,13],[2,6,7,12],[1,3,5,13],[2,5,9,12],[2,9,9,13],[3,6,9,9],[1,7,10,12],[2,3,3,13],[5,5,10,13],[8,10,11,11],[1,3,4,11],[1,10,12,13],[2,8,8,8],[3,7,11,12],[4,7,12,13],[10,10,12,13],[1,5,6,9],[1,2,3,5],[2,6,10,10],[2,9,10,12],[3,4,8,10],[3,4,11,12],[4,6,6,8],[1,2,2,13],[2,7,7,13],[3,8,8,12],[6,6,12,13],[10,12,12,13],[1,5,9,9],[2,6,7,9],[5,9,10,10],[3,6,11,12],[7,10,12,12],[10,11,11,12],[1,7,9,13],[2,4,10,12],[3,3,9,9],[3,4,5,12],[1,12,12,13],[1,3,4,5],[1,8,11,12],[3,5,13,13],[3,7,7,9],[4,5,11,13],[5,10,11,11],[7,9,10,12],[4,7,11,11],[5,5,7,8],[6,8,13,13],[2,7,8,13],[3,9,10,11],[1,1,6,8],[1,6,8,13],[5,8,8,10],[5,8,12,12],[1,8,9,11],[4,5,5,8],[4,8,10,12],[5,5,9,9],[7,10,10,11],[1,11,12,13],[2,2,3,9],[1,6,6,9],[3,5,5,12],[3,6,6,6],[3,9,13,13],[6,6,6,9],[2,5,6,8],[5,6,11,13],[3,3,4,5],[3,9,11,11],[1,4,4,4],[3,5,6,8],[5,6,8,8],[2,10,10,11],[8,8,8,12],[2,3,3,11],[2,3,7,12],[3,6,8,8],[4,4,5,8],[4,8,12,13],[5,10,13,13],[2,6,9,11],[4,4,7,9],[1,2,3,9],[1,8,9,13],[2,6,6,13],[4,4,4,7],[5,5,10,11],[1,2,3,7],[1,5,5,6],[2,2,6,6],[1,7,9,9],[2,2,4,7],[3,5,10,12],[3,6,10,12],[2,4,8,10],[3,7,9,10],[2,8,12,13],[5,7,13,13],[1,4,5,5],[2,6,6,6],[3,3,5,5],[2,10,10,13],[3,5,6,12],[3,5,5,7],[6,7,11,13],[9,11,13,13],[4,4,8,8],[9,10,10,13],[3,3,10,13],[3,4,4,7],[4,7,9,9],[1,2,2,4],[2,7,8,8],[1,2,4,13],[6,6,7,10],[2,4,5,13],[5,6,10,10],[2,2,7,8],[3,4,9,12],[1,3,8,12],[3,9,12,12],[1,4,9,12],[1,9,11,11],[2,4,4,13],[2,3,5,6],[1,2,12,13],[2,2,4,10],[2,6,6,11],[3,3,8,9],[3,4,4,12],[3,6,12,12],[1,2,9,12],[1,6,9,13],[2,6,8,11],[3,5,8,11],[4,7,9,10],[4,5,7,8],[1,4,10,11],[2,3,4,12],[2,4,4,11],[3,3,4,12],[3,6,6,9],[4,8,10,11],[2,6,11,13],[4,4,4,5],[6,6,9,12],[6,6,10,12],[8,11,12,12],[3,4,4,9],[3,3,4,7],[1,4,4,9],[2,2,2,10],[1,2,2,5],[1,3,5,11],[1,2,6,9],[3,4,7,9],[3,6,10,10],[1,5,6,10],[4,5,10,11],[1,4,8,11],[5,6,6,6],[3,9,10,10],[5,6,7,8],[2,5,6,13],[4,8,9,10],[8,9,11,13],[2,6,8,10],[5,8,8,13],[1,3,12,12],[2,2,6,12],[1,2,4,11],[2,4,6,10],[2,2,9,11],[5,6,10,11],[1,4,4,10],[2,3,3,6],[5,8,8,9],[2,2,4,8],[2,5,5,11],[3,4,5,5],[6,7,8,10],[2,3,5,11],[3,6,7,9],[4,10,12,12],[8,10,13,13],[1,2,5,9],[3,7,12,12],[3,4,12,13],[3,12,12,12],[3,12,12,13],[2,2,3,7],[2,7,7,11],[2,7,8,11],[4,5,8,9],[3,5,8,8],[8,10,10,12],[10,12,13,13],[10,11,12,13],[1,4,6,11],[3,4,10,12],[3,9,12,13],[2,2,3,3],[2,5,6,7],[2,4,8,8],[4,6,8,9],[4,4,10,12],[4,4,6,12],[5,5,8,8],[6,8,8,10],[7,8,11,13],[1,3,4,13],[1,3,6,9],[2,4,9,13],[3,4,9,11],[4,8,8,9],[3,7,10,11],[1,4,9,11],[3,6,9,10],[1,5,9,10],[2,8,8,9],[1,1,7,10],[2,2,6,10],[2,7,11,12],[4,5,9,10],[2,3,4,8],[2,4,8,11],[2,7,9,10],[4,4,8,11],[2,8,9,13],[5,5,8,9],[9,10,12,13],[4,6,8,12],[4,7,9,12],[1,4,5,11],[1,8,11,13],[3,4,5,10],[3,7,8,12],[1,6,11,12],[3,5,6,6],[1,3,4,9],[1,5,5,13],[2,5,10,11],[5,8,11,13],[2,4,4,4],[5,8,9,11],[2,2,4,11],[2,4,8,12],[5,6,9,10],[6,6,7,9],[1,3,6,13],[2,8,9,10],[4,4,4,9],[4,4,7,12],[7,8,8,11],[2,4,7,10],[6,8,8,11],[3,4,7,10],[4,4,6,11],[1,2,2,7],[1,2,8,9],[3,3,7,11],[2,9,10,11],[2,4,9,9],[6,6,8,11],[4,7,8,9],[5,7,8,8],[1,2,6,13],[1,6,12,13],[4,4,9,11],[2,9,10,13],[4,4,4,11],[6,8,10,13],[6,6,9,11],[1,2,7,8],[2,3,3,7],[1,3,4,10],[2,8,8,11],[2,10,11,13],[3,3,8,12],[6,6,8,9],[1,4,9,10],[4,5,9,13],[1,4,6,7],[2,9,12,13],[5,6,10,13],[1,11,13,13],[2,2,3,13],[4,5,6,7],[1,6,10,13],[3,11,12,12],[2,4,6,9],[3,6,8,9],[3,7,7,13],[2,6,6,10],[6,8,9,13],[1,2,9,13],[2,2,8,10],[2,4,7,11],[3,6,7,12],[3,7,10,13],[2,3,10,13],[4,6,10,12],[1,2,3,11],[4,4,8,10],[2,2,4,13],[2,4,6,6],[2,8,11,12],[1,2,3,3],[4,8,9,11],[1,2,5,13],[1,3,4,7],[6,6,8,13],[6,6,8,10],[1,3,9,13],[4,5,8,12],[1,2,6,11],[2,3,7,11],[2,9,11,11],[4,12,12,12],[1,3,8,8],[2,8,9,11],[2,6,7,8],[2,3,5,9],[2,4,10,13],[6,8,12,12],[3,4,7,7],[3,9,9,10],[5,5,9,10],[4,8,8,12],[5,6,6,10],[4,11,12,13],[9,10,11,13],[1,5,5,9],[2,2,5,6],[4,4,5,10],[4,5,8,8],[8,8,9,13],[3,9,10,12],[2,5,8,13],[3,4,4,5],[3,5,9,12],[3,10,11,12],[4,4,8,13],[2,5,7,10],[6,6,6,12],[2,2,3,6],[2,3,9,9],[1,2,4,9],[2,3,4,13],[1,2,4,5],[1,4,5,10],[2,2,5,7],[7,8,10,13],[1,1,3,10],[3,5,6,7],[3,5,6,9],[1,3,5,10],[2,10,11,11],[4,7,10,10],[5,5,6,7],[5,10,10,12],[1,3,3,10],[1,4,6,9],[3,4,7,11],[3,6,12,13],[4,5,5,9],[5,11,12,12],[2,3,4,11],[4,7,7,11],[2,5,8,9],[2,11,12,13],[3,3,6,11],[6,8,11,13],[1,7,12,12],[5,6,7,12],[1,3,5,7],[7,12,12,13],[1,5,9,11],[2,3,6,10],[1,5,6,8],[8,8,8,13],[1,1,4,10],[2,2,3,11],[1,5,10,13],[2,3,8,12],[3,4,6,10],[2,3,3,9],[2,2,6,8],[2,8,8,10],[1,2,7,9],[2,3,4,4],[3,4,5,9],[3,7,7,10],[2,2,5,11],[3,3,3,9],[3,5,5,9],[4,5,7,11],[3,7,8,9],[5,8,9,12],[4,5,7,12],[2,7,9,13],[5,7,8,9],[4,5,5,7],[4,5,10,13],[2,5,6,10],[4,9,12,12],[1,6,9,10],[1,9,11,13],[3,3,4,9],[5,6,8,9],[5,9,9,11],[3,4,6,12],[6,6,6,8],[2,4,4,7],[2,4,5,9],[3,9,11,12],[2,3,6,11],[2,3,8,11],[2,6,8,8],[3,7,8,13],[3,8,9,12],[3,3,5,9],[6,7,9,12],[3,5,9,13],[4,7,8,13],[4,7,11,12],[6,6,8,12],[4,4,5,7],[3,3,6,9],[2,2,4,9],[6,6,8,8],[2,2,2,5],[3,8,8,11],[2,4,6,13],[1,5,5,11],[2,3,4,10],[2,3,9,13],[4,9,9,10],[3,3,7,9],[5,6,9,12],[3,3,7,12],[3,3,3,5],[6,11,11,12],[1,2,5,10],[2,4,5,11],[6,9,10,11],[3,6,9,11],[1,5,6,13],[2,6,12,12],[4,6,7,10],[7,8,9,13],[4,4,6,13],[1,7,9,10],[3,3,6,10],[6,8,9,11],[6,12,13,13],[3,3,6,13],[5,7,9,13],[3,4,8,11],[3,4,4,13],[3,4,5,6],[4,5,6,10],[4,6,6,9],[5,5,5,9],[6,10,12,12],[5,5,6,11],[2,5,8,11],[1,11,11,13],[5,6,7,13],[1,3,5,9],[4,7,9,13],[2,4,12,12],[4,9,11,12],[1,2,4,7],[2,3,6,9],[2,4,6,7],[6,7,8,9],[2,2,7,12],[6,8,9,9],[2,4,6,12],[1,4,4,8],[1,5,9,13],[4,5,7,9],[6,7,8,11],[5,5,8,10],[6,6,7,12],[6,9,9,11],[1,6,6,6],[1,8,10,11],[5,8,11,12],[7,9,9,13],[1,5,10,11],[3,4,6,11],[5,6,8,12],[1,3,3,11],[2,4,8,9],[1,4,5,13],[6,9,12,13],[5,6,8,10],[3,6,9,12],[1,2,8,13],[3,3,6,7],[3,4,9,13],[4,5,10,12],[2,2,8,8],[2,7,12,13],[1,3,9,9],[6,11,12,13],[2,6,8,12],[2,5,10,10],[2,6,8,13],[1,2,2,9],[1,2,7,11],[5,6,6,8],[7,8,8,12],[8,8,10,12],[1,3,6,11],[6,10,12,13],[2,3,9,10],[4,4,7,10],[1,4,4,11],[1,5,12,12],[6,7,10,12],[1,2,3,13],[2,2,5,12],[2,3,6,6],[4,5,6,8],[1,7,10,13],[3,4,6,8],[1,9,10,13],[3,9,10,13],[2,3,6,13],[5,10,12,13],[1,3,8,13],[1,3,7,10],[2,5,7,7],[2,3,4,7],[1,2,6,10],[3,3,4,11],[1,7,9,11],[5,8,8,8],[2,3,10,12],[3,4,6,6],[3,5,7,10],[1,2,7,12],[2,5,6,6],[6,8,8,12],[3,3,9,12],[4,4,8,12],[7,7,8,11],[4,10,12,13],[2,2,8,9],[5,9,12,12],[2,3,3,10],[2,3,4,9],[3,4,8,12],[2,4,5,6],[2,4,6,11],[2,3,4,5],[4,8,11,13],[5,5,8,13],[4,4,9,12],[2,6,7,11],[2,4,4,6],[5,8,10,11],[4,4,5,11],[3,3,5,12],[1,5,6,7],[4,9,10,13],[3,6,7,13],[7,8,10,10],[6,7,9,9],[4,5,6,13],[3,3,6,12],[3,4,6,9],[4,8,9,13],[1,3,4,8],[2,4,6,8],[2,4,9,12],[3,3,5,13],[3,7,9,12],[3,7,8,11],[8,9,9,12],[1,6,7,9],[4,6,8,13],[3,7,9,11],[2,5,11,12],[3,5,7,9],[2,3,5,7],[2,3,7,13],[2,6,10,13],[6,8,9,12],[4,8,8,10],[1,3,7,7],[1,3,7,12],[1,4,8,9],[2,9,11,13],[1,4,7,7],[1,5,7,9],[4,6,6,12],[4,6,7,12],[3,5,6,10],[3,3,3,11],[2,2,2,7],[2,7,9,11],[7,8,9,10],[1,3,3,6],[2,5,7,13],[4,5,5,10],[3,5,10,13],[3,3,6,8],[3,4,8,9],[5,5,8,12],[6,9,9,12],[4,9,10,11],[5,8,10,12],[1,5,8,11],[2,3,5,13],[2,4,4,5],[2,5,8,10],[6,9,10,12],[2,6,6,7],[2,5,5,7],[3,3,3,4],[4,4,6,9],[4,10,11,13],[7,10,10,12],[2,4,4,10],[3,4,9,9],[2,3,6,12],[2,5,7,11],[5,7,11,13],[6,9,11,13],[5,6,10,12],[7,9,10,11],[3,5,11,12],[2,4,5,7],[3,5,6,11],[4,7,10,12],[4,4,7,8],[1,4,5,7],[3,3,9,13],[4,5,8,13],[4,6,9,13],[7,7,9,10],[2,3,3,3],[5,7,7,9],[1,5,8,13],[4,4,6,8],[2,4,8,13],[1,4,6,6],[4,4,6,10],[3,3,5,10],[1,4,7,9],[4,4,5,12],[6,9,11,12],[4,8,12,12],[2,5,10,13],[2,2,2,9],[5,9,10,13],[1,4,5,9],[1,4,5,8],[2,3,8,8],[3,5,6,13],[1,1,6,9],[6,7,7,10],[5,7,10,10],[2,7,10,11],[1,5,6,11],[5,5,7,10],[2,3,5,10],[3,5,7,8],[2,8,10,13],[4,10,10,12],[4,5,8,10],[6,8,11,12],[6,12,12,12],[2,2,5,9],[3,6,11,13],[1,3,6,10],[6,7,10,10],[2,3,7,8],[7,10,11,13],[3,8,9,11],[3,5,9,9],[2,4,7,9],[2,3,8,9],[2,10,12,13],[4,5,8,11],[4,4,5,13],[3,3,9,11],[5,5,9,11],[2,4,9,10],[3,4,4,11],[5,7,9,11],[3,5,5,11],[6,10,10,13],[2,6,9,12],[5,9,9,12],[1,3,7,9],[3,3,8,10],[3,4,4,10],[4,4,4,10],[3,5,12,12],[2,5,9,10],[3,4,7,12],[3,3,4,13],[1,3,5,6],[4,6,9,12],[5,6,6,12],[5,7,8,10],[7,7,7,12],[2,2,5,10],[2,5,9,11],[2,6,12,13],[3,4,10,10],[2,2,7,7],[4,6,8,10],[1,5,11,12],[7,9,12,12],[4,7,8,12],[2,4,10,11],[3,6,8,13],[3,6,8,12],[5,5,5,12],[1,5,5,10],[1,4,4,6],[4,7,8,11],[4,5,7,13],[2,5,8,8],[3,3,9,10],[2,2,3,4],[2,6,11,12],[3,6,6,13],[1,3,8,10],[2,6,6,9],[2,3,8,10],[5,6,9,13],[2,5,5,9],[6,8,9,10],[1,3,12,13],[5,7,12,12],[2,3,6,7],[6,10,11,12],[3,3,8,13],[1,3,11,12],[2,2,6,7],[4,9,9,12],[1,4,10,12],[3,10,11,13],[2,6,10,11],[3,9,9,13],[8,8,8,11],[5,5,6,8],[10,12,12,12],[6,6,6,10],[2,4,4,9],[6,6,9,10],[3,5,7,12],[2,3,7,10],[2,2,9,12],[2,3,7,7],[2,7,10,10],[9,9,9,12],[3,9,9,11],[3,8,9,13]];var AK=n(334);const CK=(()=>{var e=new Date,t=String(e.getDate()).padStart(2,"0");return String(e.getMonth()+1).padStart(2,"0")+"/"+t+"/"+e.getFullYear()})();AK(CK,{global:!0});const TK=()=>{const e=function(e){return Math.floor(Math.random()*e)}(MK.length);return MK[e]};const kK=function(){const[e,n]=(0,t.useState)(180),[r,i]=(0,t.useState)(TK),[a,o]=(0,t.useState)([]),[s,u]=(0,t.useState)(0),[l,c]=(0,t.useState)([]),[h,f]=(0,t.useState)(!1),[d,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)([]),[b,x]=(0,t.useState)("0"),[w,N]=(0,t.useState)(!1),[E,S]=(0,t.useState)(!1),[M,A]=(0,t.useState)(!0),[C,T]=(0,t.useState)(!1),[k,I]=(0,t.useState)(!1),[O,_]=(0,t.useState)(!1),[D,R]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let t=null;return h?t=setInterval(()=>{e>0?n(e=>e-1):(N(!0),f(!1))},1e3):h||0===e||clearInterval(t),()=>clearInterval(t)},[h,e]);const P=(e,t)=>F(e.replace(/\D/g,""))===F(t.join(""));function F(e){return[...e].sort((e,t)=>e.localeCompare(t)).join("")}return(0,Bt.jsxs)("div",{className:"App",children:[(0,Bt.jsx)("div",{className:"Homepage-return-button",children:(0,Bt.jsx)(Ft,{to:"/",className:"Homepage-link",children:"Home"})}),(0,Bt.jsx)(eH,{message:"Invalid equation",isOpen:k}),(0,Bt.jsx)(eH,{message:"Use each number once",isOpen:O}),(0,Bt.jsx)(eH,{message:"Puzzle solved!",isOpen:C,variant:"success"}),(0,Bt.jsx)(eH,{message:"Copied to clipboard!",isOpen:D,variant:"success"}),(0,Bt.jsxs)("div",{className:"Header",children:[(0,Bt.jsx)("div",{className:"Title",children:"24"}),(0,Bt.jsxs)("div",{className:"IconBox",children:[(0,Bt.jsx)(Tb,{onClick:()=>S(!0)}),(0,Bt.jsx)(Ib,{onClick:()=>A(!0)})]})]}),(0,Bt.jsx)(tH,{seconds:e,score:d}),(0,Bt.jsxs)("div",{className:"mathBox",children:[(0,Bt.jsx)(nH,{currentGuess:m}),(0,Bt.jsx)("div",{className:"EquationOutput",children:b})]}),(0,Bt.jsx)(iH,{puzzle:r,currentGuess:m,onChar:e=>{m.length<15&&(g("".concat(m).concat(e)),v(t=>[...t,e]))},onDelete:()=>{const e=y.slice(0,-1);v(e),g(e.join(""))},onEnter:()=>{if(!P(m,r))return _(!0),setTimeout(()=>{_(!1)},2e3);try{const e=Yq(m);if(x(e),24===e){console.log("Equation solved!"),p(e=>e+1),T(!0),setTimeout(()=>{T(!1)},1e3),o(e=>[...e,r]);const e=Date.now()-s;return console.log(e),c(t=>[...t,e]),u(Date.now()),g(""),v([]),x(0),void i(TK())}}catch(e){return console.log(e),I(!0),setTimeout(()=>{I(!1)},2e3)}}}),(0,Bt.jsx)(mK,{isOpen:E,handleClose:()=>S(!1)}),(0,Bt.jsx)(gK,{isOpen:M,handleClose:()=>{A(!1),u(Date.now()),n(180),f(!0)}}),(0,Bt.jsx)(SK,{isOpen:w,handleClose:()=>N(!1),handleShare:()=>(N(!1),R(!0),setTimeout(()=>{R(!1)},2e3)),puzzle:r,score:d,completedPuzzles:a,completionTimes:l})]})};class IK{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e){const t=this.animations.map(t=>t.attachTimeline(e));return()=>{t.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return OK(this.animations,"duration")}get iterationDuration(){return OK(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function OK(e,t){let n=0;for(let r=0;r<e.length;r++){const i=e[r][t];null!==i&&i>n&&(n=i)}return n}class _K extends IK{then(e,t){return this.finished.finally(e).then(()=>{})}}function DK(e,t){-1===e.indexOf(t)&&e.push(t)}function RK(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const PK=(e,t,n)=>n>t?t:n<e?e:n,FK=e=>1e3*e,jK=e=>e/1e3,LK=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(1e4*e(a/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},BK=2e4;function UK(e){let t=0;let n=e.next(t);for(;!n.done&&t<BK;)t+=50,n=e.next(t);return t>=BK?1/0:t}function zK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(Ln(Ln({},e),{},{keyframes:[0,t]})),r=Math.min(UK(n),BK);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:jK(r)}}function qK(e,t){return t?e*(1e3/t):0}function VK(e,t,n){const r=Math.max(t-5,0);return qK(n-e(r),t-r)}const HK={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};let WK=()=>{};const KK=.001;function GK(e){let t,n,{duration:r=HK.duration,bounce:i=HK.bounce,velocity:a=HK.velocity,mass:o=HK.mass}=e;FK(HK.maxDuration);let s=1-i;s=PK(HK.minDamping,HK.maxDamping,s),r=PK(HK.minDuration,HK.maxDuration,jK(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-a,o=QK(e,s),u=Math.exp(-n);return KK-i/o*u},n=e=>{const n=e*s*r,i=n*a+a,o=Math.pow(s,2)*Math.pow(e,2)*r,u=Math.exp(-n),l=QK(Math.pow(e,2),s);return(-t(e)+KK>0?-1:1)*((i-o)*u)/l}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(a-e)));const u=function(e,t,n){let r=n;for(let i=1;i<YK;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=FK(r),isNaN(u))return{stiffness:HK.stiffness,damping:HK.damping,duration:r};{const e=Math.pow(u,2)*o;return{stiffness:e,damping:2*s*Math.sqrt(o*e),duration:r}}}const YK=12;function QK(e,t){return e*Math.sqrt(1-t*t)}const JK=["duration","bounce"],XK=["stiffness","damping","mass"];function ZK(e,t){return t.some(t=>void 0!==e[t])}function $K(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HK.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HK.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:u,damping:l,mass:c,duration:h,velocity:f,isResolvedFromDuration:d}=function(e){let t=Ln({velocity:HK.velocity,stiffness:HK.stiffness,damping:HK.damping,mass:HK.mass,isResolvedFromDuration:!1},e);if(!ZK(e,XK)&&ZK(e,JK))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,a=2*PK(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=Ln(Ln({},t),{},{mass:HK.mass,stiffness:i,damping:a})}else{const n=GK(e);t=Ln(Ln(Ln({},t),n),{},{mass:HK.mass}),t.isResolvedFromDuration=!0}return t}(Ln(Ln({},n),{},{velocity:-jK(n.velocity||0)})),p=f||0,m=l/(2*Math.sqrt(u*c)),g=o-a,y=jK(Math.sqrt(u/c)),v=Math.abs(g)<5;let b;if(r||(r=v?HK.restSpeed.granular:HK.restSpeed.default),i||(i=v?HK.restDelta.granular:HK.restDelta.default),m<1){const e=QK(y,m);b=t=>{const n=Math.exp(-m*y*t);return o-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>o-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return o-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:d&&h||null,next:e=>{const t=b(e);if(d)s.done=e>=h;else{let n=0===e?p:0;m<1&&(n=0===e?FK(p):VK(b,e,t));const a=Math.abs(n)<=r,u=Math.abs(o-t)<=i;s.done=a&&u}return s.value=s.done?o:t,s},toString:()=>{const e=Math.min(UK(x),BK),t=LK(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}$K.applyToOptions=e=>{const t=zK(e,100,$K);return e.ease=t.ease,e.duration=FK(t.duration),e.type="keyframes",e};const eG=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},tG=(e,t,n)=>e+(t-e)*n;function nG(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=eG(0,t,r);e.push(tG(n,1,i))}}function rG(e){const t=[0];return nG(t,e.length-1),t}function iG(e){return"function"===typeof e&&"applyToOptions"in e}const aG=e=>Boolean(e&&e.getVelocity),oG=e=>Array.isArray(e)&&"number"!==typeof e[0];function sG(e,t){return oG(e)?e[((e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e})(0,e.length,t)]:e}function uG(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const a=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function lG(e){return"object"===typeof e&&!Array.isArray(e)}function cG(e,t,n,r){return"string"===typeof e&&lG(t)?uG(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function hG(e,t,n){return e*(t+1)}function fG(e,t,n,r){return"number"===typeof t?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):"<"===t?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):null!==(i=r.get(t))&&void 0!==i?i:e;var i}function dG(e,t,n,r,i,a){!function(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(RK(e,i),r--)}}(e,i,a);for(let o=0;o<t.length;o++)e.push({value:t[o],at:tG(i,a,r[o]),easing:sG(n,o)})}function pG(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function mG(e,t){return e.at===t.at?null===e.value?1:null===t.value?-1:0:e.at-t.at}const gG=["defaultTransition"],yG=["delay","times","type","repeat","repeatType","repeatDelay"];function vG(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function bG(e,t){return t[e]||(t[e]=[]),t[e]}function xG(e){return Array.isArray(e)?e:[e]}function wG(e,t){return e&&e[t]?Ln(Ln({},e),e[t]):Ln({},e)}const NG=e=>"number"===typeof e,EG=e=>e.every(NG),SG=new WeakMap;function MG(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const AG=e=>e,CG={},TG=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],kG={value:null,addProjectionMetrics:null};function IG(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=TG.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},u=0;function l(t){o.has(t)&&(c.schedule(t),e()),u++,t(s)}const c={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{s=e,i?a=!0:(i=!0,[n,r]=[r,n],n.forEach(l),t&&kG.value&&kG.value.frameloop[t].push(u),u=0,n.clear(),i=!1,a&&(a=!1,c.process(e)))}};return c}(a,t?n:void 0),e),{}),{setup:s,read:u,resolveKeyframes:l,preUpdate:c,update:h,preRender:f,render:d,postRender:p}=o,m=()=>{const a=CG.useManualTiming?i.timestamp:performance.now();n=!1,CG.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),u.process(i),l.process(i),c.process(i),h.process(i),f.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=TG.reduce((t,a)=>{const s=o[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(m)),s.schedule(t,a,o)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<TG.length;t++)o[TG[t]].cancel(e)},state:i,steps:o}}const{schedule:OG,cancel:_G,state:DG,steps:RG}=IG("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:AG,!0),PG=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],FG=(()=>new Set(PG))(),jG=new Set(["width","height","top","left","right","bottom",...PG]);class LG{constructor(){this.subscriptions=[]}add(e){return DK(this.subscriptions,e),()=>RK(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let BG;function UG(){BG=void 0}const zG={now:()=>(void 0===BG&&zG.set(DG.isProcessing||CG.useManualTiming?DG.timestamp:performance.now()),BG),set:e=>{BG=e,queueMicrotask(UG)}},qG={current:void 0};class VG{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=zG.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=zG.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new LG);const n=this.events[e].add(t);return"change"===e?()=>{n(),OG.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return qG.current&&qG.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=zG.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return qK(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function HG(e,t){return new VG(e,t)}const WG=e=>Array.isArray(e);function KG(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function GG(e,t,n,r){if("function"===typeof t){const[i,a]=KG(r);t=t(void 0!==n?n:e.custom,i,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,a]=KG(r);t=t(void 0!==n?n:e.custom,i,a)}return t}function YG(e,t,n){const r=e.getProps();return GG(r,t,void 0!==n?n:r.custom,e)}const QG=["transitionEnd","transition"];function JG(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,HG(n))}function XG(e){return WG(e)?e[e.length-1]||0:e}function ZG(e,t){const n=e.getValue("willChange");if(r=n,Boolean(aG(r)&&r.add))return n.add(t);if(!n&&CG.WillChange){const n=new CG.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const $G=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),eY="data-"+$G("framerAppearId");function tY(e){return e.props[eY]}function nY(e){e.duration=0,e.type="keyframes"}const rY=(e,t)=>n=>t(e(n)),iY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(rY)},aY={layout:0,mainThread:0,waapi:0},oY=e=>t=>"string"===typeof t&&t.startsWith(e),sY=oY("--"),uY=oY("var(--"),lY=e=>!!uY(e)&&cY.test(e.split("/*")[0].trim()),cY=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,hY={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},fY=Ln(Ln({},hY),{},{transform:e=>PK(0,1,e)}),dY=Ln(Ln({},hY),{},{default:1}),pY=e=>Math.round(1e5*e)/1e5,mY=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const gY=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,yY=(e,t)=>n=>Boolean("string"===typeof n&&gY.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),vY=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,a,o,s]=r.match(mY);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:void 0!==s?parseFloat(s):1}},bY=Ln(Ln({},hY),{},{transform:e=>Math.round((e=>PK(0,255,e))(e))}),xY={test:yY("rgb","red"),parse:vY("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+bY.transform(t)+", "+bY.transform(n)+", "+bY.transform(r)+", "+pY(fY.transform(i))+")"}};const wY={test:yY("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:xY.transform},NY=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),EY=NY("deg"),SY=NY("%"),MY=NY("px"),AY=NY("vh"),CY=NY("vw"),TY=(()=>Ln(Ln({},SY),{},{parse:e=>SY.parse(e)/100,transform:e=>SY.transform(100*e)}))(),kY={test:yY("hsl","hue"),parse:vY("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+SY.transform(pY(n))+", "+SY.transform(pY(r))+", "+pY(fY.transform(i))+")"}},IY={test:e=>xY.test(e)||wY.test(e)||kY.test(e),parse:e=>xY.test(e)?xY.parse(e):kY.test(e)?kY.parse(e):wY.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?xY.transform(e):kY.transform(e),getAnimatableNone:e=>{const t=IY.parse(e);return t.alpha=0,IY.transform(t)}},OY=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const _Y="number",DY="color",RY=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function PY(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(RY,e=>(IY.test(e)?(r.color.push(a),i.push(DY),n.push(IY.parse(e))):e.startsWith("var(")?(r.var.push(a),i.push("var"),n.push(e)):(r.number.push(a),i.push(_Y),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:o,indexes:r,types:i}}function FY(e){return PY(e).values}function jY(e){const{split:t,types:n}=PY(e),r=t.length;return e=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],void 0!==e[a]){const t=n[a];i+=t===_Y?pY(e[a]):t===DY?IY.transform(e[a]):e[a]}return i}}const LY=e=>"number"===typeof e?0:IY.test(e)?IY.getAnimatableNone(e):e;const BY={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(mY))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(OY))||void 0===n?void 0:n.length)||0)>0},parse:FY,createTransformer:jY,getAnimatableNone:function(e){const t=FY(e);return jY(e)(t.map(LY))}};function UY(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function zY(e,t){return n=>n>0?t:e}const qY=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},VY=[wY,xY,kY];function HY(e){const t=(e=>VY.find(t=>t.test(e)))(e);if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let n=t.parse(e);return t===kY&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let a=0,o=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;a=UY(i,e,t+1/3),o=UY(i,e,t),s=UY(i,e,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}const WY=(e,t)=>{const n=HY(e),r=HY(t);if(!n||!r)return zY(e,t);const i=Ln({},n);return e=>(i.red=qY(n.red,r.red,e),i.green=qY(n.green,r.green,e),i.blue=qY(n.blue,r.blue,e),i.alpha=tG(n.alpha,r.alpha,e),xY.transform(i))},KY=new Set(["none","hidden"]);function GY(e,t){return n=>tG(e,t,n)}function YY(e){return"number"===typeof e?GY:"string"===typeof e?lY(e)?zY:IY.test(e)?WY:XY:Array.isArray(e)?QY:"object"===typeof e?IY.test(e)?WY:JY:zY}function QY(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>YY(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function JY(e,t){const n=Ln(Ln({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=YY(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const XY=(e,t)=>{const n=BY.createTransformer(t),r=PY(e),i=PY(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?KY.has(e)&&!i.values.length||KY.has(t)&&!r.values.length?function(e,t){return KY.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):iY(QY(function(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){var i;const o=t.types[a],s=e.indexes[o][r[o]],u=null!==(i=e.values[s])&&void 0!==i?i:0;n[a]=u,r[o]++}return n}(r,i),i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),zY(e,t))};function ZY(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return tG(e,t,n);return YY(e)(e,t)}const $Y=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return OG.update(t,e)},stop:()=>_G(t),now:()=>DG.isProcessing?DG.timestamp:zG.now()}};function eQ(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:s,min:u,max:l,restDelta:c=.5,restSpeed:h}=e;const f=t[0],d={done:!1,value:f},p=e=>void 0===u?l:void 0===l||Math.abs(u-e)<Math.abs(l-e)?u:l;let m=r*n;const g=f+m,y=void 0===s?g:s(g);y!==g&&(m=y-f);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);d.done=Math.abs(t)<=c,d.value=d.done?y:n};let w,N;const E=e=>{(e=>void 0!==u&&e<u||void 0!==l&&e>l)(d.value)&&(w=e,N=$K({keyframes:[d.value,p(d.value)],velocity:VK(b,e,d.value),damping:a,stiffness:o,restDelta:c,restSpeed:h}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return N||void 0!==w||(t=!0,x(e),E(e)),void 0!==w&&e>=w?N.next(e-w):(!t&&x(e),d)}}}const tQ=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function nQ(e,t,n,r){if(e===t&&n===r)return AG;const i=t=>function(e,t,n,r,i){let a,o,s=0;do{o=t+(n-t)/2,a=tQ(o,r,i)-e,a>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:tQ(i(e),t,r)}const rQ=nQ(.42,0,1,1),iQ=nQ(0,0,.58,1),aQ=nQ(.42,0,.58,1),oQ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sQ=e=>t=>1-e(1-t),uQ=nQ(.33,1.53,.69,.99),lQ=sQ(uQ),cQ=oQ(lQ),hQ=e=>(e*=2)<1?.5*lQ(e):.5*(2-Math.pow(2,-10*(e-1))),fQ=e=>1-Math.sin(Math.acos(e)),dQ=sQ(fQ),pQ=oQ(fQ),mQ=e=>Array.isArray(e)&&"number"===typeof e[0],gQ={linear:AG,easeIn:rQ,easeInOut:aQ,easeOut:iQ,circIn:fQ,circInOut:pQ,circOut:dQ,backIn:lQ,backInOut:cQ,backOut:uQ,anticipate:hQ},yQ=e=>{if(mQ(e)){e.length;const[t,n,r,i]=e;return nQ(t,n,r,i)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),gQ[e]):e};function vQ(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||CG.mix||ZY,a=e.length-1;for(let o=0;o<a;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||AG:t;n=iY(e,n)}r.push(n)}return r}(t,r,i),u=s.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(u>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=eG(e[r],e[r+1],n);return s[r](i)};return n?t=>l(PK(e[0],e[a-1],t)):l}function bQ(e,t){return e.map(()=>t||aQ).splice(0,e.length-1)}function xQ(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const a=oG(i)?i.map(yQ):yQ(i),o={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:rG(n),t),u=vQ(s,n,{ease:Array.isArray(a)?a:bQ(n,a)});return{calculatedDuration:t,next:e=>(o.value=u(e),o.done=e>=t,o)}}const wQ=e=>null!==e;function NQ(e,t,n){let{repeat:r,repeatType:i="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.filter(wQ),s=a<0||r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}const EQ={decay:eQ,inertia:eQ,tween:xQ,keyframes:xQ,spring:$K};function SQ(e){"string"===typeof e.type&&(e.type=EQ[e.type])}class MQ{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const AQ=e=>e/100;class CQ extends MQ{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==zG.now()&&this.tick(zG.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},aY.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;SQ(e);const{type:t=xQ,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const s=t||xQ;s!==xQ&&"number"!==typeof o[0]&&(this.mixKeyframes=iY(AQ,ZY(o[0],o[1])),o=[0,100]);const u=s(Ln(Ln({},e),{},{keyframes:o}));"mirror"===i&&(this.mirroredGenerator=s(Ln(Ln({},e),{},{keyframes:[...o].reverse(),velocity:-a}))),null===u.calculatedDuration&&(u.calculatedDuration=UK(u));const{calculatedDuration:l}=u;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:u=0,keyframes:l,repeat:c,repeatType:h,repeatDelay:f,type:d,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,b=n;if(c){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,c+1);Boolean(t%2)&&("reverse"===h?(n=1-n,f&&(n-=f/o)):"mirror"===h&&(b=a)),v=PK(0,1,n)*o}const x=y?{done:!1,value:l[0]}:b.next(v);i&&(x.value=i(x.value));let{done:w}=x;y||null===s||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const N=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return N&&d!==eQ&&(x.value=NQ(l,this.options,m,this.speed)),p&&p(x.value),N&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return jK(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jK(e)}get time(){return jK(this.currentTime)}set time(e){var t;e=FK(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zG.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=jK(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=$Y,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zG.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,aY.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const TQ=e=>180*e/Math.PI,kQ=e=>{const t=TQ(Math.atan2(e[1],e[0]));return OQ(t)},IQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:kQ,rotateZ:kQ,skewX:e=>TQ(Math.atan(e[1])),skewY:e=>TQ(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},OQ=e=>((e%=360)<0&&(e+=360),e),_Q=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),DQ=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),RQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_Q,scaleY:DQ,scale:e=>(_Q(e)+DQ(e))/2,rotateX:e=>OQ(TQ(Math.atan2(e[6],e[5]))),rotateY:e=>OQ(TQ(Math.atan2(-e[2],e[0]))),rotateZ:kQ,rotate:kQ,skewX:e=>TQ(Math.atan(e[4])),skewY:e=>TQ(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function PQ(e){return e.includes("scale")?1:0}function FQ(e,t){if(!e||"none"===e)return PQ(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=RQ,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=IQ,i=t}if(!i)return PQ(t);const a=r[t],o=i[1].split(",").map(jQ);return"function"===typeof a?a(o):o[a]}function jQ(e){return parseFloat(e.trim())}const LQ=e=>e===hY||e===MY,BQ=new Set(["x","y","z"]),UQ=PG.filter(e=>!BQ.has(e));const zQ={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return FQ(n,"x")},y:(e,t)=>{let{transform:n}=t;return FQ(n,"y")}};zQ.translateX=zQ.x,zQ.translateY=zQ.y;const qQ=new Set;let VQ=!1,HQ=!1,WQ=!1;function KQ(){if(HQ){const e=Array.from(qQ).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return UQ.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}HQ=!1,VQ=!1,qQ.forEach(e=>e.complete(WQ)),qQ.clear()}function GQ(){qQ.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(HQ=!0)})}class YQ{constructor(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(qQ.add(this),VQ||(VQ=!0,OG.read(GQ),OG.resolveKeyframes(KQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,a);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qQ.delete(this)}cancel(){"scheduled"===this.state&&(qQ.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function QQ(e){let t;return()=>(void 0===t&&(t=e()),t)}const JQ=QQ(()=>void 0!==window.ScrollTimeline),XQ={};function ZQ(e,t){const n=QQ(e);return()=>{var e;return null!==(e=XQ[t])&&void 0!==e?e:n()}}const $Q=ZQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(gA){return!1}return!0},"linearEasing"),eJ=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},tJ={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eJ([0,.65,.55,1]),circOut:eJ([.55,0,1,.45]),backIn:eJ([.31,.01,.66,-.59]),backOut:eJ([.33,1.53,.69,.99])};function nJ(e,t){return e?"function"===typeof e?$Q()?LK(e,t):"ease-out":mQ(e)?eJ(e):Array.isArray(e)?e.map(e=>nJ(e,t)||tJ.easeOut):tJ[e]:void 0}function rJ(e,t,n){let{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:u}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const c={[t]:n};u&&(c.offset=u);const h=nJ(s,i);Array.isArray(h)&&(c.easing=h),kG.value&&aY.waapi++;const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:"reverse"===o?"alternate":"normal"};l&&(f.pseudoElement=l);const d=e.animate(c,f);return kG.value&&d.finished.finally(()=>{aY.waapi--}),d}const iJ=["type"];class aJ extends MQ{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=a,this.options=e,e.type;const u=function(e){let{type:t}=e,n=tV(e,iJ);return iG(t)&&$Q()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var r,i}(e);this.animation=rJ(t,n,r,u,i),!1===u.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=NQ(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===s||void 0===s||s(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(gA){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return jK(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jK(e)}get time(){return jK(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=FK(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&JQ()?(this.animation.timeline=t,AG):n(this)}}const oJ={anticipate:hQ,backInOut:cQ,circInOut:pQ};function sJ(e){"string"===typeof e.ease&&e.ease in oJ&&(e.ease=oJ[e.ease])}const uJ=["motionValue","onUpdate","onComplete","element"];class lJ extends aJ{constructor(e){sJ(e),SQ(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:i,onComplete:a,element:o}=n,s=tV(n,uJ);if(!r)return;if(void 0!==e)return void r.set(e);const u=new CQ(Ln(Ln({},s),{},{autoplay:!1})),l=FK(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(u.sample(l-10).value,u.sample(l).value,10),u.stop()}}const cJ=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!BY.test(e)&&"0"!==e||e.startsWith("url(")));const hJ=new Set(["opacity","clipPath","filter","transform"]),fJ=QQ(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const dJ=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class pJ extends MQ{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:s="loop",keyframes:u,name:l,motionValue:c,element:h}=e,f=tV(e,dJ);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=zG.now();const d=Ln({autoplay:n,delay:r,type:i,repeat:a,repeatDelay:o,repeatType:s,name:l,motionValue:c,element:h},f),p=(null===h||void 0===h?void 0:h.KeyframeResolver)||YQ;this.keyframeResolver=new p(u,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),l,c,h),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:s,isHandoff:u,onUpdate:l}=n;this.resolvedAt=zG.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],o=cJ(i,t),s=cJ(a,t);return"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(a,'". "').concat(o?a:i,'" is not an animatable value.'),!(!o||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||iG(n))&&r)}(e,i,a,o)||(!CG.instantAnimations&&s||null===l||void 0===l||l(NQ(e,n,t)),e[0]=e[e.length-1],nY(n),n.repeat=0);const c=Ln(Ln({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),h=!u&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:o,type:s}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=n.owner.getProps();return fJ()&&r&&hJ.has(r)&&("transform"!==r||!l)&&!u&&!i&&"mirror"!==a&&0!==o&&"inertia"!==s}(c)?new lJ(Ln(Ln({},c),{},{element:c.motionValue.owner.current})):new CQ(c);h.finished.then(()=>this.notifyFinished()).catch(AG),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),WQ=!0,GQ(),KQ(),WQ=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const mJ=e=>null!==e;const gJ={type:"spring",stiffness:500,damping:25,restSpeed:10},yJ={type:"keyframes",duration:.8},vJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bJ=(e,t)=>{let{keyframes:n}=t;return n.length>2?yJ:FG.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:gJ:vJ},xJ=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const wJ=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return o=>{const s=MG(r,e)||{},u=s.delay||r.delay||0;let{elapsed:l=0}=r;l-=FK(u);const c=Ln(Ln({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},s),{},{delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:s,repeatDelay:u,from:l,elapsed:c}=e,h=tV(e,xJ);return!!Object.keys(h).length})(s)||Object.assign(c,bJ(e,c)),c.duration&&(c.duration=FK(c.duration)),c.repeatDelay&&(c.repeatDelay=FK(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if((!1===c.type||0===c.duration&&!c.repeatDelay)&&(nY(c),0===c.delay&&(h=!0)),(CG.instantAnimations||CG.skipAnimations)&&(h=!0,nY(c),c.delay=0),c.allowFlatten=!s.type&&!s.ease,h&&!a&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const a=e.filter(mJ),o=r&&"loop"!==i&&r%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}(c.keyframes,s);if(void 0!==e)return void OG.update(()=>{c.onUpdate(e),c.onComplete()})}return s.isSync?new CQ(c):new pJ(c)}},NJ=["transition","transitionEnd"];function EJ(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function SJ(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:o}=t,s=tV(t,NJ);r&&(a=r);const u=[],l=i&&e.animationState&&e.animationState.getState()[i];for(const h in s){var c;const t=e.getValue(h,null!==(c=e.latestValues[h])&&void 0!==c?c:null),r=s[h];if(void 0===r||l&&EJ(l,h))continue;const i=Ln({delay:n},MG(a||{},h)),o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!i.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=tY(e);if(t){const e=window.MotionHandoffAnimation(t,h,OG);null!==e&&(i.startTime=e,f=!0)}}ZG(e,h),t.start(wJ(h,t,r,e.shouldReduceMotion&&jG.has(h)?{type:!1}:i,e,f));const d=t.animation;d&&u.push(d)}return o&&Promise.all(u).then(()=>{OG.update(()=>{o&&function(e,t){let n=YG(e,t)||{},{transitionEnd:r={},transition:i={}}=n,a=tV(n,QG);a=Ln(Ln({},a),r);for(const o in a)JG(e,o,XG(a[o]))}(e,o)})}),u}function MJ(e){return"object"===typeof e&&null!==e}function AJ(e){return MJ(e)&&"ownerSVGElement"in e}function CJ(e){return AJ(e)&&"svg"===e.tagName}function TJ(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function kJ(e){return void 0===e||1===e}function IJ(e){let{scale:t,scaleX:n,scaleY:r}=e;return!kJ(t)||!kJ(n)||!kJ(r)}function OJ(e){return IJ(e)||_J(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _J(e){return DJ(e.x)||DJ(e.y)}function DJ(e){return e&&"0%"!==e}function RJ(e,t,n){return n+t*(e-n)}function PJ(e,t,n,r,i){return void 0!==i&&(e=RJ(e,i,r)),RJ(e,n,r)+t}function FJ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=PJ(e.min,t,n,r,i),e.max=PJ(e.max,t,n,r,i)}function jJ(e,t){let{x:n,y:r}=t;FJ(e.x,n.translate,n.scale,n.originPoint),FJ(e.y,r.translate,r.scale,r.originPoint)}const LJ=.999999999999,BJ=1.0000000000001;function UJ(e,t){e.min=e.min+t,e.max=e.max+t}function zJ(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;FJ(e,t,n,tG(e.min,e.max,i),r)}function qJ(e,t){zJ(e.x,t.x,t.scaleX,t.scale,t.originX),zJ(e.y,t.y,t.scaleY,t.scale,t.originY)}function VJ(e,t){return TJ(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const HJ=e=>t=>t.test(e),WJ=[hY,MY,SY,EY,CY,AY,{test:e=>"auto"===e,parse:e=>e}],KJ=e=>WJ.find(HJ(e)),GJ=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),YJ=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function QJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,i]=function(e){const t=YJ.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return GJ(e)?parseFloat(e):e}return lY(i)?QJ(i,t,n+1):i}const JJ=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function XJ(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||JJ(e))}const ZJ=new Set(["brightness","contrast","saturate","opacity"]);function $J(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(mY)||[];if(!r)return e;const i=n.replace(r,"");let a=ZJ.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const eX=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,tX=Ln(Ln({},BY),{},{getAnimatableNone:e=>{const t=e.match(eX);return t?t.map($J).join(" "):e}}),nX=Ln(Ln({},hY),{},{transform:Math.round}),rX=Ln(Ln({borderWidth:MY,borderTopWidth:MY,borderRightWidth:MY,borderBottomWidth:MY,borderLeftWidth:MY,borderRadius:MY,radius:MY,borderTopLeftRadius:MY,borderTopRightRadius:MY,borderBottomRightRadius:MY,borderBottomLeftRadius:MY,width:MY,maxWidth:MY,height:MY,maxHeight:MY,top:MY,right:MY,bottom:MY,left:MY,padding:MY,paddingTop:MY,paddingRight:MY,paddingBottom:MY,paddingLeft:MY,margin:MY,marginTop:MY,marginRight:MY,marginBottom:MY,marginLeft:MY,backgroundPositionX:MY,backgroundPositionY:MY},{rotate:EY,rotateX:EY,rotateY:EY,rotateZ:EY,scale:dY,scaleX:dY,scaleY:dY,scaleZ:dY,skew:EY,skewX:EY,skewY:EY,distance:MY,translateX:MY,translateY:MY,translateZ:MY,x:MY,y:MY,z:MY,perspective:MY,transformPerspective:MY,opacity:fY,originX:TY,originY:TY,originZ:MY}),{},{zIndex:nX,fillOpacity:fY,strokeOpacity:fY,numOctaves:nX}),iX=Ln(Ln({},rX),{},{color:IY,backgroundColor:IY,outlineColor:IY,fill:IY,stroke:IY,borderColor:IY,borderTopColor:IY,borderRightColor:IY,borderBottomColor:IY,borderLeftColor:IY,filter:tX,WebkitFilter:tX}),aX=e=>iX[e];function oX(e,t){let n=aX(e);return n!==tX&&(n=BY),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sX=new Set(["auto","none","0"]);class uX extends YQ{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),lY(n))){const r=QJ(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!jG.has(n)||2!==e.length)return;const[r,i]=e,a=KJ(r),o=KJ(i);if(a!==o)if(LQ(a)&&LQ(o))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else zQ[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||XJ(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!sX.has(t)&&PY(t).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=oX(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zQ[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=zQ[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const lX=[...WJ,IY,BY],{schedule:cX,cancel:hX}=IG(queueMicrotask,!1),fX={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dX={};for(const n in fX)dX[n]={isEnabled:e=>fX[n].some(t=>!!e[t])};const pX=()=>({x:{min:0,max:0},y:{min:0,max:0}}),mX="undefined"!==typeof window,gX={current:null},yX={current:!1};function vX(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function bX(e){return"string"===typeof e||Array.isArray(e)}const xX=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wX=["initial",...xX];function NX(e){return vX(e.animate)||wX.some(t=>bX(e[t]))}function EX(e){return Boolean(NX(e)||e.variants)}const SX=["willChange"],MX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AX{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=YQ,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=zG.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,OG.render(this.render,!1,!0))};const{latestValues:u,renderState:l}=o;this.latestValues=u,this.baseTarget=Ln({},u),this.initialValues=n.initial?Ln({},u):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=NX(n),this.isVariantNode=EX(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=c,f=tV(c,SX);for(const d in f){const e=f[d];void 0!==u[d]&&aG(e)&&e.set(u[d])}}mount(e){var t;this.current=e,SG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),yX.current||function(){if(yX.current=!0,mX)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gX.current=e.matches;e.addEventListener("change",t),t()}else gX.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||gX.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),_G(this.notifyUpdate),_G(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=FG.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&OG.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in dX){const t=dX[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<MX.length;n++){const t=MX[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],a=n[r];if(aG(i))e.addValue(r,i);else if(aG(a))e.addValue(r,HG(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,HG(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=HG(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(GJ(r)||JJ(r))?r=parseFloat(r):!(e=>lX.find(HJ(e)))(r)&&BY.test(t)&&(r=oX(e,t)),this.setBaseTarget(e,aG(r)?r.get():r)),aG(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=GG(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||aG(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new LG),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){cX.render(this.render)}}class CX extends AX{constructor(){super(...arguments),this.KeyframeResolver=uX}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;aG(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const TX=(e,t)=>t&&"number"===typeof e?t.transform(e):e,kX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IX=PG.length;function OX(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,s=!1;for(const u in t){const e=t[u];if(FG.has(u))o=!0;else if(sY(u))i[u]=e;else{const t=TX(e,rX[u]);u.startsWith("origin")?(s=!0,a[u]=t):r[u]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let a=0;a<IX;a++){const o=PG[a],s=e[o];if(void 0===s)continue;let u=!0;if(u="number"===typeof s?s===(o.startsWith("scale")?1:0):0===parseFloat(s),!u||n){const e=TX(s,rX[o]);u||(i=!1,r+="".concat(kX[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function _X(e,t,n,r){let{style:i,vars:a}=t;const o=e.style;let s;for(s in i)o[s]=i[s];for(s in null===r||void 0===r||r.applyProjectionStyles(o,n),a)o.setProperty(s,a[s])}const DX={};function RX(e,t){let{layout:n,layoutId:r}=t;return FG.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!DX[e]||"opacity"===e)}function PX(e,t,n){const{style:r}=e,i={};for(const o in r){var a;(aG(r[o])||t.style&&aG(t.style[o])||RX(o,e)||void 0!==(null===n||void 0===n||null===(a=n.getValue(o))||void 0===a?void 0:a.liveStyle))&&(i[o]=r[o])}return i}class FX extends CX{constructor(){super(...arguments),this.type="html",this.renderInstance=_X}readValueFromInstance(e,t){var n,r;if(FG.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?PQ(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return FQ(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(sY(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return VJ(e,n)}build(e,t,n){OX(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return PX(e,t,n)}}class jX extends AX{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,t){if(function(e,t){return e in t}(t,e)){const n=e[t];if("string"===typeof n||"number"===typeof n)return n}}getBaseTargetFromProps(){}removeValueFromRenderState(e,t){delete t.output[e]}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}build(e,t){Object.assign(e.output,t)}renderInstance(e,t){let{output:n}=t;Object.assign(e,n)}sortInstanceNodePosition(){return 0}}const LX={offset:"stroke-dashoffset",array:"stroke-dasharray"},BX={offset:"strokeDashoffset",array:"strokeDasharray"};const UX=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function zX(e,t,n,r,i){let{attrX:a,attrY:o,attrScale:s,pathLength:u,pathSpacing:l=1,pathOffset:c=0}=t;if(OX(e,tV(t,UX),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;var d,p;(h.transform&&(f.transform=h.transform,delete h.transform),f.transform||h.transformOrigin)&&(f.transformOrigin=null!==(d=h.transformOrigin)&&void 0!==d?d:"50% 50%",delete h.transformOrigin);f.transform&&(f.transformBox=null!==(p=null===i||void 0===i?void 0:i.transformBox)&&void 0!==p?p:"fill-box",delete h.transformBox);void 0!==a&&(h.x=a),void 0!==o&&(h.y=o),void 0!==s&&(h.scale=s),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=i?LX:BX;e[a.offset]=MY.transform(-r);const o=MY.transform(t),s=MY.transform(n);e[a.array]="".concat(o," ").concat(s)}(h,u,l,c,!1)}const qX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),VX=e=>"string"===typeof e&&"svg"===e.toLowerCase();function HX(e,t,n){const r=PX(e,t,n);for(const i in e)if(aG(e[i])||aG(t[i])){r[-1!==PG.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}class WX extends CX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pX}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(FG.has(t)){const e=aX(t);return e&&e.default||0}return t=qX.has(t)?t:$G(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return HX(e,t,n)}build(e,t,n){zX(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){_X(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(qX.has(i)?i:$G(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=VX(e.tagName),super.mount(e)}}function KX(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=AJ(e)&&!CJ(e)?new WX(t):new FX(t);n.mount(e),SG.set(e,n)}function GX(e){const t=new jX({presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}});t.mount(e),SG.set(e,t)}function YX(e,t,n){const r=aG(e)?e:HG(e);return r.start(wJ("",r,t,n)),r.animation}function QX(e,t,n,r){const i=[];if(function(e,t){return aG(e)||"number"===typeof e||"string"===typeof e&&!lG(t)}(e,t))i.push(YX(e,lG(t)&&t.default||t,n&&n.default||n));else{const a=cG(e,t,r),o=a.length;Boolean(o);for(let e=0;e<o;e++){const r=a[e];WK();const s=r instanceof Element?KX:GX;SG.has(r)||s(r);const u=SG.get(r),l=Ln({},n);"delay"in l&&"function"===typeof l.delay&&(l.delay=l.delay(e,o)),i.push(...SJ(u,Ln(Ln({},t),{},{transition:l}),{}))}}return i}function JX(e,t,n){const r=[],i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{defaultTransition:n={}}=t,r=tV(t,gG),i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;const o=n.duration||.3,s=new Map,u=new Map,l={},c=new Map;let h=0,f=0,d=0;for(let p=0;p<e.length;p++){const t=e[p];if("string"===typeof t){c.set(t,f);continue}if(!Array.isArray(t)){c.set(t.name,fG(f,t.at,h,c));continue}let[r,s,m={}]=t;void 0!==m.at&&(f=fG(f,m.at,h,c));let g=0;const y=function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const u=xG(e),{delay:l=0,times:c=rG(u),type:h="keyframes",repeat:p,repeatType:m,repeatDelay:y=0}=t,v=tV(t,yG);let{ease:b=n.ease||"easeOut",duration:x}=t;const w="function"===typeof l?l(i,s):l,N=u.length,E=iG(h)?h:null===a||void 0===a?void 0:a[h||"keyframes"];if(N<=2&&E){let e=100;if(2===N&&EG(u)){const t=u[1]-u[0];e=Math.abs(t)}const t=Ln({},v);void 0!==x&&(t.duration=FK(x));const n=zK(t,e,E);b=n.ease,x=n.duration}null!==x&&void 0!==x||(x=o);const S=f+w;1===c.length&&0===c[0]&&(c[1]=1);const M=c.length-u.length;if(M>0&&nG(c,M),1===u.length&&u.unshift(null),p){x=hG(x,p);const e=[...u],t=[...c];b=Array.isArray(b)?[...b]:[b];const n=[...b];for(let r=0;r<p;r++){u.push(...e);for(let i=0;i<e.length;i++)c.push(t[i]+(r+1)),b.push(0===i?"linear":sG(n,i-1))}pG(c,p)}const A=S+x;dG(r,u,b,c,S,A),g=Math.max(w+x,g),d=Math.max(A,d)};if(aG(r))y(s,m,bG("default",vG(r,u)));else{const e=cG(r,s,i,l),t=e.length;for(let n=0;n<t;n++){const r=vG(e[n],u);for(const e in s)y(s[e],wG(m,e),bG(e,r),n,t)}}h=f,f+=g}return u.forEach((e,t)=>{for(const i in e){const a=e[i];a.sort(mG);const o=[],u=[],l=[];for(let e=0;e<a.length;e++){const{at:t,value:n,easing:r}=a[e];o.push(n),u.push(eG(0,d,t)),l.push(r||"easeOut")}0!==u[0]&&(u.unshift(0),o.unshift(o[0]),l.unshift("easeInOut")),1!==u[u.length-1]&&(u.push(1),o.push(null)),s.has(t)||s.set(t,{keyframes:{},transition:{}});const c=s.get(t);c.keyframes[i]=o,c.transition[i]=Ln(Ln({},n),{},{duration:d,ease:l,times:u},r)}}),s}(e,t,n,{spring:$K});return i.forEach((e,t)=>{let{keyframes:n,transition:i}=e;r.push(...QX(t,n,i))}),r}const XX=["onComplete"];const ZX=function(e,t,n){let r,i=[];if(a=e,Array.isArray(a)&&a.some(Array.isArray))i=JX(e,t,$X);else{const a=n||{},{onComplete:o}=a;"function"===typeof o&&(r=o),i=QX(e,t,tV(a,XX),$X)}var a;const o=new _K(i);return r&&o.finished.then(r),$X&&($X.animations.push(o),o.finished.then(()=>{RK($X.animations,o)})),o};var $X;const eZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tZ(e){return"string"===typeof e&&!e.includes("-")&&!!(eZ.indexOf(e)>-1||/[A-Z]/.test(e))}const nZ=(e,n)=>tZ(e)?new WX(n):new FX(n,{allowProjection:e!==t.Fragment}),rZ=(0,t.createContext)({}),iZ=(0,t.createContext)({strict:!1}),aZ=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),oZ=(0,t.createContext)({});function sZ(e){const{initial:n,animate:r}=function(e,t){if(NX(e)){const{initial:t,animate:n}=e;return{initial:!1===t||bX(t)?t:void 0,animate:bX(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(oZ));return(0,t.useMemo)(()=>({initial:n,animate:r}),[uZ(n),uZ(r)])}function uZ(e){return Array.isArray(e)?e.join(" "):e}const lZ=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cZ(e,t,n){for(const r in t)aG(t[r])||RX(r,n)||(e[r]=t[r])}function hZ(e,n){const r={};return cZ(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return OX(e,n,r),Object.assign({},e.vars,e.style)},[n])}(e,n)),r}function fZ(e,t){const n={},r=hZ(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const dZ=()=>Ln(Ln({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function pZ(e,n,r,i){const a=(0,t.useMemo)(()=>{const t=dZ();return zX(t,n,VX(i),e.transformTemplate,e.style),Ln(Ln({},t.attrs),{},{style:Ln({},t.style)})},[n]);if(e.style){const t={};cZ(t,e.style,e),a.style=Ln(Ln({},t),a.style)}return a}const mZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gZ(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mZ.has(e)}let yZ=e=>!gZ(e);try{"function"===typeof(vZ=require("@emotion/is-prop-valid").default)&&(yZ=e=>e.startsWith("on")?!gZ(e):vZ(e))}catch(Y2){}var vZ;function bZ(e,n,r,i,a){let{latestValues:o}=i,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const u=(tZ(e)?pZ:fZ)(n,o,a,e),l=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(yZ(i)||!0===n&&gZ(i)||!t&&!gZ(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof e,s),c=e!==t.Fragment?Ln(Ln(Ln({},l),u),{},{ref:r}):{},{children:h}=n,f=(0,t.useMemo)(()=>aG(h)?h.get():h,[h]);return(0,t.createElement)(e,Ln(Ln({},c),{},{children:f}))}const xZ=(0,t.createContext)(null);function wZ(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}function NZ(e){return aG(e)?e.get():e}const EZ=["transitionEnd","transition"];function SZ(e,t,n,r){const i={},a=r(e,{});for(const f in a)i[f]=NZ(a[f]);let{initial:o,animate:s}=e;const u=NX(e),l=EX(e);t&&l&&!u&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===s&&(s=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const h=c?s:o;if(h&&"boolean"!==typeof h&&!vX(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=GG(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=tV(r,EZ);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[c?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const MZ=e=>(n,r)=>{const i=(0,t.useContext)(oZ),a=(0,t.useContext)(xZ),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:a}=e;return{latestValues:SZ(t,n,r,i),renderState:a()}}(e,n,i,a);return r?o():wZ(o)},AZ=MZ({scrapeMotionValuesFromProps:PX,createRenderState:lZ}),CZ=MZ({scrapeMotionValuesFromProps:HX,createRenderState:dZ});const TZ=Symbol.for("motionComponentSymbol");function kZ(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function IZ(e,n,r){return(0,t.useCallback)(t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):kZ(r)&&(r.current=t))},[n])}const OZ=(0,t.createContext)({}),_Z=mX?t.useLayoutEffect:t.useEffect;function DZ(e,n,r,i,a){var o,s,u,l;const{visualElement:c}=(0,t.useContext)(oZ),h=(0,t.useContext)(iZ),f=(0,t.useContext)(xZ),d=(0,t.useContext)(aZ).reducedMotion,p=(0,t.useRef)(null);i=i||h.renderer,!p.current&&i&&(p.current=i(e,{visualState:n,parent:c,props:r,presenceContext:f,blockInitialAnimation:!!f&&!1===f.initial,reducedMotionConfig:d}));const m=p.current,g=(0,t.useContext)(OZ);!m||m.projection||!a||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:u,layoutRoot:l,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RZ(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(o)||s&&kZ(s),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:u,layoutRoot:l})}(p.current,r,a,g);const y=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{m&&y.current&&m.update(r,f)});const v=r[eY],b=(0,t.useRef)(Boolean(v)&&!(null!==(o=(s=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(s,v))&&(null===(u=(l=window).MotionHasOptimisedAnimation)||void 0===u?void 0:u.call(l,v)));return _Z(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),(0,t.useEffect)(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),b.current=!1),m.enteringChildren=void 0)}),m}function RZ(e){if(e)return!1!==e.options.allowProjection?e.projection:RZ(e.parent)}function PZ(e){var n,r;let{forwardMotionProps:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)dX[t]=Ln(Ln({},dX[t]),e[t])}(a);const s=tZ(e)?CZ:AZ;function u(n,r){let a;const u=Ln(Ln(Ln({},(0,t.useContext)(aZ)),n),{},{layoutId:FZ(n)}),{isStatic:l}=u,c=sZ(n),h=s(n,l);if(!l&&mX){!function(){(0,t.useContext)(iZ).strict;0}();const n=function(e){const{drag:t,layout:n}=dX;if(!t&&!n)return{};const r=Ln(Ln({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(u);a=n.MeasureLayout,c.visualElement=DZ(e,h,u,o,n.ProjectionNode)}return(0,Bt.jsxs)(oZ.Provider,{value:c,children:[a&&c.visualElement?(0,Bt.jsx)(a,Ln({visualElement:c.visualElement},u)):null,bZ(e,n,IZ(h,c.visualElement,r),h,l,i)]})}u.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(n=null!==(r=e.displayName)&&void 0!==r?r:e.name)&&void 0!==n?n:"",")"));const l=(0,t.forwardRef)(u);return l[TZ]=e,l}function FZ(e){let{layoutId:n}=e;const r=(0,t.useContext)(rZ).id;return r&&void 0!==n?r+"-"+n:n}function jZ(e,t){if("undefined"===typeof Proxy)return PZ;const n=new Map,r=(n,r)=>PZ(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>"create"===a?r:(n.has(a)||n.set(a,PZ(a,void 0,e,t)),n.get(a))})}function LZ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return"function"===typeof n?n(a,o):1===i?a*r:s-a*r}function BZ(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=YG(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const o=i?()=>Promise.all(SJ(e,i,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:o,staggerDirection:s}=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const s=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),s.push(BZ(u,t,Ln(Ln({},o),{},{delay:n+("function"===typeof r?0:r)+LZ(e.variantChildren,u,r,i,a)})).then(()=>u.notify("AnimationComplete",t)));return Promise.all(s)}(e,t,n,i,o,s,r)}:()=>Promise.resolve(),{when:u}=a;if(u){const[e,t]="beforeChildren"===u?[o,s]:[s,o];return e().then(()=>t())}return Promise.all([o(),s(r.delay)])}function UZ(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const zZ=wX.length;function qZ(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&qZ(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<zZ;n++){const r=wX[n],i=e.props[r];(bX(i)||!1===i)&&(t[r]=i)}return t}const VZ=["transition","transitionEnd"],HZ=[...xX].reverse(),WZ=xX.length;function KZ(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>BZ(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=BZ(e,t,r);else{const i="function"===typeof t?YG(e,t,r.custom):t;n=Promise.all(SJ(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function GZ(e){let t=KZ(e),n=JZ(),r=!0;const i=t=>(n,r)=>{var i;const a=YG(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,r=tV(a,VZ);n=Ln(Ln(Ln({},n),r),t)}return n};function a(a){const{props:o}=e,s=qZ(e.parent)||{},u=[],l=new Set;let c={},h=1/0;for(let t=0;t<WZ;t++){const f=HZ[t],d=n[f],p=void 0!==o[f]?o[f]:s[f],m=bX(p),g=f===a?d.isActive:null;!1===g&&(h=t);let y=p===s[f]&&p!==o[f]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),d.protectedKeys=Ln({},c),!d.isActive&&null===g||!p&&!d.prevProp||vX(p)||"boolean"===typeof p)continue;const v=YZ(d.prevProp,p);let b=v||f===a&&d.isActive&&!y&&m||t>h&&m,x=!1;const w=Array.isArray(p)?p:[p];let N=w.reduce(i(f),{});!1===g&&(N={});const{prevResolvedValues:E={}}=d,S=Ln(Ln({},E),N),M=t=>{b=!0,l.has(t)&&(x=!0,l.delete(t)),d.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=N[e],n=E[e];if(c.hasOwnProperty(e))continue;let r=!1;r=WG(t)&&WG(n)?!UZ(t,n):t!==n,r?void 0!==t&&null!==t?M(e):l.add(e):void 0!==t&&l.has(e)?M(e):d.protectedKeys[e]=!0}d.prevProp=p,d.prevResolvedValues=N,d.isActive&&(c=Ln(Ln({},c),N)),r&&e.blockInitialAnimation&&(b=!1);const A=y&&v;b&&(!A||x)&&u.push(...w.map(t=>{const n={type:f};if("string"===typeof t&&r&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=YG(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=LZ(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(l.size){const t={};if("boolean"!==typeof o.initial){const n=YG(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}l.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),u.push({animation:t})}let f=Boolean(u.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(u):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=a(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=JZ()}}}function YZ(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!UZ(t,e)}function QZ(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JZ(){return{animate:QZ(!0),whileInView:QZ(),whileHover:QZ(),whileTap:QZ(),whileDrag:QZ(),whileFocus:QZ(),exit:QZ()}}class XZ{constructor(e){this.isMounted=!1,this.node=e}update(){}}let ZZ=0;const $Z={animation:{Feature:class extends XZ{constructor(e){super(e),e.animationState||(e.animationState=GZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vX(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends XZ{constructor(){super(...arguments),this.id=ZZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},e$={x:!1,y:!1};function t$(){return e$.x||e$.y}function n$(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const r$=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function i$(e){return{point:{x:e.pageX,y:e.pageY}}}function a$(e,t,n,r){return n$(e,t,(e=>t=>r$(t)&&e(t,i$(t)))(n),r)}function o$(e){return e.max-e.min}function s$(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=tG(t.min,t.max,e.origin),e.scale=o$(n)/o$(t),e.translate=tG(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function u$(e,t,n,r){s$(e.x,t.x,n.x,r?r.originX:void 0),s$(e.y,t.y,n.y,r?r.originY:void 0)}function l$(e,t,n){e.min=n.min+t.min,e.max=e.min+o$(t)}function c$(e,t,n){e.min=t.min-n.min,e.max=e.min+o$(t)}function h$(e,t,n){c$(e.x,t.x,n.x),c$(e.y,t.y,n.y)}function f$(e){return[e("x"),e("y")]}const d$=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},p$=(e,t)=>Math.abs(e-t);class m${constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=v$(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=p$(e.x,t.x),r=p$(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=DG;this.history.push(Ln(Ln({},r),{},{timestamp:i}));const{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=g$(t,this.transformPagePoint),OG.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=v$("pointercancel"===e.type?this.lastMoveEventInfo:g$(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!r$(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const o=g$(i$(e),this.transformPagePoint),{point:s}=o,{timestamp:u}=DG;this.history=[Ln(Ln({},s),{},{timestamp:u})];const{onSessionStart:l}=t;l&&l(e,v$(o,this.history)),this.removeListeners=iY(a$(this.contextWindow,"pointermove",this.handlePointerMove),a$(this.contextWindow,"pointerup",this.handlePointerUp),a$(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_G(this.updatePoint)}}function g$(e,t){return t?{point:t(e.point)}:e}function y$(e,t){return{x:e.x-t.x,y:e.y-t.y}}function v$(e,t){let{point:n}=e;return{point:n,delta:y$(n,x$(t)),offset:y$(n,b$(t)),velocity:w$(t,.1)}}function b$(e){return e[0]}function x$(e){return e[e.length-1]}function w$(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=x$(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>FK(t)));)n--;if(!r)return{x:0,y:0};const a=jK(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function N$(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function E$(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const S$=.35;function M$(e,t,n){return{min:A$(e,t),max:A$(e,n)}}function A$(e,t){return"number"===typeof e?e:e[t]||0}const C$=new WeakMap;class T${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new m$(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(i$(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?e$[a]?null:(e$[a]=!0,()=>{e$[a]=!1}):e$.x||e$.y?null:(e$.x=e$.y=!0,()=>{e$.x=e$.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),f$(e=>{let t=this.getAxisMotionValue(e).get()||0;if(SY.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=o$(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&OG.postRender(()=>i(e,t)),ZG(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>f$(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:d$(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&OG.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!k$(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?tG(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?tG(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&kZ(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:a}=t;return{x:N$(e.x,r,a),y:N$(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S$;return!1===e?e=0:!0===e&&(e=S$),{x:M$(e,"left","right"),y:M$(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&f$(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!kZ(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=VJ(e,n),{scroll:i}=t;return i&&(UJ(r.x,i.offset.x),UJ(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:E$(e.x,t.x),y:E$(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=TJ(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},u=f$(o=>{if(!k$(o,t,this.currentDirection))return;let u=s&&s[o]||{};a&&(u={min:0,max:0});const l=r?200:1e6,c=r?40:1e7,h=Ln(Ln({type:"inertia",velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10},i),u);return this.startAxisValueAnimation(o,h)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ZG(this.visualElement,e),n.start(wJ(e,n,0,t,this.visualElement,!1))}stopAnimation(){f$(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){f$(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){f$(t=>{const{drag:n}=this.getProps();if(!k$(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-tG(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!kZ(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};f$(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=o$(e),i=o$(t);return i>r?n=eG(t.min,t.max-r,e.min):r>i&&(n=eG(e.min,e.max-i,t.min)),PK(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),f$(t=>{if(!k$(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(tG(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;C$.set(this.visualElement,this);const e=a$(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();kZ(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),OG.read(t);const i=n$(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(f$(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=S$,dragMomentum:o=!0}=e;return Ln(Ln({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o})}}function k$(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const I$=e=>(t,n)=>{e&&OG.postRender(()=>e(t,n))};function O$(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(xZ);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=n,o=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return a(o)},[e]);const s=(0,t.useCallback)(()=>e&&i&&i(o),[o,i,e]);return!r&&i?[!1,s]:[!0]}const _$={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function D$(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const R$={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!MY.test(e))return e;e=parseFloat(e)}const n=D$(e,t.target.x),r=D$(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},P$={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,a=BY.parse(e);if(a.length>5)return i;const o=BY.createTransformer(e),s="number"!==typeof a[0]?1:0,u=r.x.scale*n.x,l=r.y.scale*n.y;a[0+s]/=u,a[1+s]/=l;const c=tG(u,l,.5);return"number"===typeof a[2+s]&&(a[2+s]/=c),"number"===typeof a[3+s]&&(a[3+s]/=c),o(a)}};let F$=!1;class j$ extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)DX[t]=e[t],sY(t)&&(DX[t].isCSSVariable=!0)}(B$),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),F$&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(Ln(Ln({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),_$.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,F$=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||OG.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cX.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;F$=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L$(e){const[n,r]=O$(),i=(0,t.useContext)(rZ);return(0,Bt.jsx)(j$,Ln(Ln({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(OZ),isPresent:n,safeToRemove:r}))}const B$={borderRadius:Ln(Ln({},R$),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:R$,borderTopRightRadius:R$,borderBottomLeftRadius:R$,borderBottomRightRadius:R$,boxShadow:P$},U$=(e,t)=>e.depth-t.depth;class z${constructor(){this.children=[],this.isDirty=!1}add(e){DK(this.children,e),this.isDirty=!0}remove(e){RK(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(U$),this.isDirty=!1,this.children.forEach(e)}}function q$(e,t){const n=zG.now(),r=i=>{let{timestamp:a}=i;const o=a-n;o>=t&&(_G(r),e(o-t))};return OG.setup(r,!0),()=>_G(r)}const V$=["TopLeft","TopRight","BottomLeft","BottomRight"],H$=V$.length,W$=e=>"string"===typeof e?parseFloat(e):e,K$=e=>"number"===typeof e||MY.test(e);function G$(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Y$=J$(0,.5,dQ),Q$=J$(.5,.95,AG);function J$(e,t,n){return r=>r<e?0:r>t?1:n(eG(e,t,r))}function X$(e,t){e.min=t.min,e.max=t.max}function Z$(e,t){X$(e.x,t.x),X$(e.y,t.y)}function $$(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function e0(e,t,n,r,i){return e=RJ(e-=t,1/n,r),void 0!==i&&(e=RJ(e,1/i,r)),e}function t0(e,t,n,r,i){let[a,o,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;SY.test(t)&&(t=parseFloat(t),t=tG(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let s=tG(a.min,a.max,r);e===a&&(s-=t),e.min=e0(e.min,t,n,s,i),e.max=e0(e.max,t,n,s,i)}(e,t[a],t[o],t[s],t.scale,r,i)}const n0=["x","scaleX","originX"],r0=["y","scaleY","originY"];function i0(e,t,n,r){t0(e.x,t,n0,n?n.x:void 0,r?r.x:void 0),t0(e.y,t,r0,n?n.y:void 0,r?r.y:void 0)}function a0(e){return 0===e.translate&&1===e.scale}function o0(e){return a0(e.x)&&a0(e.y)}function s0(e,t){return e.min===t.min&&e.max===t.max}function u0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function l0(e,t){return u0(e.x,t.x)&&u0(e.y,t.y)}function c0(e){return o$(e.x)/o$(e.y)}function h0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class f0{constructor(){this.members=[]}add(e){DK(this.members,e),e.scheduleRender()}remove(e){if(RK(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const d0={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},p0=["","X","Y","Z"];let m0=0;function g0(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function y0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=tY(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",OG,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&y0(r)}function v0(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=m0++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kG.value&&(d0.nodes=d0.calculatedTargetDeltas=d0.calculatedProjections=0),this.nodes.forEach(w0),this.nodes.forEach(T0),this.nodes.forEach(k0),this.nodes.forEach(N0),kG.addProjectionMetrics&&kG.addProjectionMetrics(d0)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new z$)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new LG),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;this.isSVG=AJ(e)&&!CJ(e),this.instance=e;const{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),t){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;OG.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=q$(i,250),_$.hasAnimatedSinceResize&&(_$.hasAnimatedSinceResize=!1,this.nodes.forEach(C0)))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&i&&(n||r)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:a}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||i.getDefaultTransition()||P0,{onLayoutAnimationStart:s,onLayoutAnimationComplete:u}=i.getProps(),l=!this.targetLayout||!l0(this.targetLayout,a),c=!n&&r;if(this.options.layoutRoot||this.resumeFrom||c||n&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=Ln(Ln({},MG(o,"layout")),{},{onPlay:s,onComplete:u});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,c)}else n||C0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_G(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I0),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(S0);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(M0);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(A0),this.nodes.forEach(b0),this.nodes.forEach(x0)):this.nodes.forEach(M0),this.clearAllSnapshots();const e=zG.now();DG.delta=PK(0,1e3/60,e-DG.timestamp),DG.timestamp=e,DG.isProcessing=!0,RG.update.process(DG),RG.preRender.process(DG),RG.render.process(DG),DG.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cX.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(E0),this.sharedNodes.forEach(O0)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,OG.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){OG.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||o$(this.snapshot.measuredBox.x)||o$(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!o0(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||OJ(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),L0((r=n).x),L0(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(U0))){const{scroll:e}=this.root;e&&(UJ(n.x,e.offset.x),UJ(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Z$(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:a}=t;t!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&Z$(n,e),UJ(n.x,i.offset.x),UJ(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Z$(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&qJ(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),OJ(e.latestValues)&&qJ(n,e.latestValues)}return OJ(this.latestValues)&&qJ(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Z$(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!OJ(e.latestValues))continue;IJ(e.latestValues)&&e.updateSnapshot();const r=pX();Z$(r,e.measurePageBox()),i0(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return OJ(this.latestValues)&&i0(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Ln(Ln(Ln({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==DG.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=DG.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},h$(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Z$(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,s,u;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,s=this.relativeTarget,u=this.relativeParent.target,l$(o.x,s.x,u.x),l$(o.y,s.y,u.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Z$(this.target,this.layout.layoutBox),jJ(this.target,this.targetDelta)):Z$(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},h$(this.relativeTargetOrigin,this.target,e.target),Z$(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kG.value&&d0.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!IJ(this.parent.latestValues)&&!_J(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===DG.timestamp&&(r=!1),r)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;Z$(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let a,o;t.x=t.y=1;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qJ(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,jJ(e,o)),r&&OJ(a.latestValues)&&qJ(e,a.latestValues))}t.x<BJ&&t.x>LJ&&(t.x=1),t.y<BJ&&t.y>LJ&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:u}=t;u?(this.projectionDelta&&this.prevProjectionDelta?($$(this.prevProjectionDelta.x,this.projectionDelta.x),$$(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),u$(this.projectionDelta,this.layoutCorrected,u,this.latestValues),this.treeScale.x===o&&this.treeScale.y===s&&h0(this.projectionDelta.x,this.prevProjectionDelta.x)&&h0(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u)),kG.value&&d0.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=Ln({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),l=!u||u.members.length<=1,c=Boolean(s&&!l&&!0===this.options.crossfade&&!this.path.some(R0));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;_0(a.x,e.x,n),_0(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(h$(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){D0(e.x,t.x,n.x,r),D0(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(e,t){return s0(e.x,t.x)&&s0(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Z$(h,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,a){var o,s;if(i)e.opacity=tG(0,null!==(o=n.opacity)&&void 0!==o?o:1,Y$(r)),e.opacityExit=tG(null!==(s=t.opacity)&&void 0!==s?s:1,0,Q$(r));else if(a){var u,l;e.opacity=tG(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(l=n.opacity)&&void 0!==l?l:1,r)}for(let c=0;c<H$;c++){const i="border".concat(V$[c],"Radius");let a=G$(t,i),o=G$(n,i);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||K$(a)===K$(o)?(e[i]=Math.max(tG(W$(a),W$(o),r),0),(SY.test(o)||SY.test(a))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=tG(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,c,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(_G(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=OG.update(()=>{_$.hasAnimatedSinceResize=!0,aY.layout++,this.motionValue||(this.motionValue=HG(0)),this.currentAnimation=YX(this.motionValue,[0,1e3],Ln(Ln({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{aY.layout--},onComplete:()=>{aY.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&B0(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=o$(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=o$(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Z$(t,n),qJ(t,i),u$(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new f0);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&g0("z",e,r,this.animationValues);for(let i=0;i<p0.length;i++)g0("rotate".concat(p0[i]),e,r,this.animationValues),g0("skew".concat(p0[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=NZ(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=NZ(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!OJ(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||a||o)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),a&&(r+="rotateY(".concat(a,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,u=e.y.scale*t.y;return 1===s&&1===u||(r+="scale(".concat(s,", ").concat(u,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;const{x:o,y:s}=this.projectionDelta;var u,l;(e.transformOrigin="".concat(100*o.origin,"% ").concat(100*s.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(u=null!==(l=i.opacity)&&void 0!==l?l:this.latestValues.opacity)&&void 0!==u?u:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in DX){if(void 0===i[c])continue;const{correct:t,applyTo:n,isCSSVariable:o}=DX[c],s="none"===a?i[c]:t(i[c],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=s}else o?this.options.visualElement.renderState.vars[c]=s:e[c]=s}this.options.layoutId&&(e.pointerEvents=r===this?NZ(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(S0),this.root.sharedNodes.clear()}}}function b0(e){e.updateLayout()}function x0(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;"size"===i?f$(e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],i=o$(r);r.min=t[e].min,r.max=r.min+i}):B0(i,n.layoutBox,t)&&f$(r=>{const i=a?n.measuredBox[r]:n.layoutBox[r],o=o$(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};u$(o,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?u$(s,e.applyTransform(r,!0),n.measuredBox):u$(s,t,n.layoutBox);const u=!o0(o);let l=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const o={x:{min:0,max:0},y:{min:0,max:0}};h$(o,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};h$(s,t,a.layoutBox),l0(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:l})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function w0(e){kG.value&&d0.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function N0(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function E0(e){e.clearSnapshot()}function S0(e){e.clearMeasurements()}function M0(e){e.isLayoutDirty=!1}function A0(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function C0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function T0(e){e.resolveTargetDelta()}function k0(e){e.calcProjection()}function I0(e){e.resetSkewAndRotation()}function O0(e){e.removeLeadSnapshot()}function _0(e,t,n){e.translate=tG(t.translate,0,n),e.scale=tG(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function D0(e,t,n,r){e.min=tG(t.min,n.min,r),e.max=tG(t.max,n.max,r)}function R0(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const P0={duration:.45,ease:[.4,0,.1,1]},F0=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),j0=F0("applewebkit/")&&!F0("chrome/")?Math.round:AG;function L0(e){e.min=j0(e.min),e.max=j0(e.max)}function B0(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=c0(t),i=c0(n),a=.2,!(Math.abs(r-i)<=a));var r,i,a}function U0(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const z0=v0({attachResizeListener:(e,t)=>n$(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),q0={current:void 0},V0=v0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!q0.current){const e=new z0({});e.mount(window),e.setOptions({layoutScroll:!0}),q0.current=e}return q0.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),H0={pan:{Feature:class extends XZ{constructor(){super(...arguments),this.removePointerDownListener=AG}onPointerDown(e){this.session=new m$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:I$(e),onStart:I$(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&OG.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=a$(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends XZ{constructor(e){super(e),this.removeGroupControls=AG,this.removeListeners=AG,this.controls=new T$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||AG}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:V0,MeasureLayout:L$}};function W0(e,t){const n=uG(e),r=new AbortController;return[n,Ln(Ln({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function K0(e){return!("touch"===e.pointerType||t$())}function G0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&OG.postRender(()=>i(t,i$(t)))}function Y0(e){return MJ(e)&&"offsetHeight"in e}const Q0=(e,t)=>!!t&&(e===t||Q0(e,t.parentElement)),J0=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const X0=new WeakSet;function Z0(e){return t=>{"Enter"===t.key&&e(t)}}function $0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function e1(e){return r$(e)&&!t$()}function t1(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,a]=W0(e,n),o=e=>{const r=e.currentTarget;if(!e1(e))return;X0.add(r);const a=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",u),X0.has(r)&&X0.delete(r),e1(e)&&"function"===typeof a&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||Q0(r,e.target))},u=e=>{o(e,!1)};window.addEventListener("pointerup",s,i),window.addEventListener("pointercancel",u,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),Y0(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Z0(()=>{if(X0.has(n))return;$0(n,"down");const e=Z0(()=>{$0(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>$0(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,J0.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function n1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&OG.postRender(()=>i(t,i$(t)))}const r1=["root"],i1=new WeakMap,a1=new WeakMap,o1=e=>{const t=i1.get(e.target);t&&t(e)},s1=e=>{e.forEach(o1)};function u1(e,t,n){const r=function(e){let{root:t}=e,n=tV(e,r1);const r=t||document;a1.has(r)||a1.set(r,{});const i=a1.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(s1,Ln({root:t},n))),i[a]}(t);return i1.set(e,n),r.observe(e),()=>{i1.delete(e),r.unobserve(e)}}const l1={some:0,all:1};const c1={inView:{Feature:class extends XZ{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:l1[r]};return u1(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends XZ{mount(){const{current:e}=this.node;e&&(this.unmount=t1(e,(e,t)=>(n1(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return n1(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends XZ{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(gA){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iY(n$(this.node.current,"focus",()=>this.onFocus()),n$(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends XZ{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,a]=W0(e,n),o=e=>{if(!K0(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const a=e=>{K0(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return r.forEach(e=>{e.addEventListener("pointerenter",o,i)}),a}(e,(e,t)=>(G0(this.node,t,"Start"),e=>G0(this.node,e,"End"))))}unmount(){}}}},h1={layout:{ProjectionNode:V0,MeasureLayout:L$}},f1=jZ(Ln(Ln(Ln(Ln({},$Z),c1),H0),h1),nZ);function d1(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function p1(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=d1(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():d1(t[e],null)}}}}(...n),n)}class m1 extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=Y0(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function g1(e){let{children:n,isPresent:r,anchorX:i,root:a}=e;const o=(0,t.useId)(),s=(0,t.useRef)(null),u=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,t.useContext)(aZ),c=p1(s,null===n||void 0===n?void 0:n.ref);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:c,right:h}=u.current;if(r||!s.current||!e||!t)return;const f="left"===i?"left: ".concat(c):"right: ".concat(h);s.current.dataset.motionPopId=o;const d=document.createElement("style");l&&(d.nonce=l);const p=null!==a&&void 0!==a?a:document.head;return p.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(f,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{p.contains(d)&&p.removeChild(d)}},[r]),(0,Bt.jsx)(m1,{isPresent:r,childRef:s,sizeRef:u,children:t.cloneElement(n,{ref:c})})}const y1=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:a,custom:o,presenceAffectsLayout:s,mode:u,anchorX:l,root:c}=e;const h=wZ(v1),f=(0,t.useId)();let d=!0,p=(0,t.useMemo)(()=>(d=!1,{id:f,initial:r,isPresent:i,custom:o,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;a&&a()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[i,h,a]);return s&&d&&(p=Ln({},p)),(0,t.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[i]),t.useEffect(()=>{!i&&!h.size&&a&&a()},[i]),"popLayout"===u&&(n=(0,Bt.jsx)(g1,{isPresent:i,anchorX:l,root:c,children:n})),(0,Bt.jsx)(xZ.Provider,{value:p,children:n})};function v1(){return new Map}const b1=e=>e.key||"";function x1(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}const w1=e=>{let{children:n,custom:r,initial:i=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:s="sync",propagate:u=!1,anchorX:l="left",root:c}=e;const[h,f]=O$(u),d=(0,t.useMemo)(()=>x1(n),[n]),p=u&&!h?[]:d.map(b1),m=(0,t.useRef)(!0),g=(0,t.useRef)(d),y=wZ(()=>new Map),[v,b]=(0,t.useState)(d),[x,w]=(0,t.useState)(d);_Z(()=>{m.current=!1,g.current=d;for(let e=0;e<x.length;e++){const t=b1(x[e]);p.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[x,p.length,p.join("-")]);const N=[];if(d!==v){let e=[...d];for(let t=0;t<x.length;t++){const n=x[t],r=b1(n);p.includes(r)||(e.splice(t,0,n),N.push(n))}return"wait"===s&&N.length&&(e=N),w(x1(e)),b(d),null}const{forceRender:E}=(0,t.useContext)(rZ);return(0,Bt.jsx)(Bt.Fragment,{children:x.map(e=>{const t=b1(e),n=!(u&&!h)&&(d===x||p.includes(t));return(0,Bt.jsx)(y1,{isPresent:n,initial:!(m.current&&!i)&&void 0,custom:r,presenceAffectsLayout:o,mode:s,root:c,onExitComplete:n?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null===E||void 0===E||E(),w(g.current),u&&(null===f||void 0===f||f()),a&&a())},anchorX:l,children:e},t)})})};function N1(e){const n=wZ(()=>HG(e)),{isStatic:r}=(0,t.useContext)(aZ);if(r){const[,r]=(0,t.useState)(e);(0,t.useEffect)(()=>n.on("change",r),[])}return n}function E1(e,t){const n=N1(t()),r=()=>n.set(t());return r(),_Z(()=>{const t=()=>OG.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),_G(r)}}),n}function S1(e,t,n,r){if("function"===typeof e)return function(e){qG.current=[],e();const t=E1(qG.current,e);return qG.current=void 0,t}(e);const i="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],r=vQ(1+t<0||arguments.length<=1+t?void 0:arguments[1+t],2+t<0||arguments.length<=2+t?void 0:arguments[2+t],3+t<0||arguments.length<=3+t?void 0:arguments[3+t]);return e?r(n):r}(t,n,r);return Array.isArray(e)?M1(e,i):M1([e],e=>{let[t]=e;return i(t)})}function M1(e,t){const n=wZ(()=>[]);return E1(e,()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}const A1=.4,C1=.3,T1=.5,k1={hidden:{opacity:0},visible:{opacity:1}},I1=e=>({initial:{opacity:0},enter:{opacity:1,transition:{delay:e,duration:e}},exit:{opacity:0,transition:{duration:e}}}),O1={hidden:{opacity:0,height:0},visible:{opacity:1,height:"auto"}},_1=Br({apiKey:"AIzaSyCzCe2TiOCupH84FxClAAVdEJp9BuWedFI",authDomain:"habitgambling.firebaseapp.com",projectId:"habitgambling",storageBucket:"habitgambling.appspot.com",messagingSenderId:"60788841107",appId:"1:60788841107:web:8affc98f8c54619fd40b66"}),D1=pb(_1),R1=Am(_1),P1="resolutions_app_habits",F1="resolutions_app_completions",j1="resolutions_app_reward",L1="resolutions_app_affirmations",B1="resolutions_app_affirmations_volume",U1="resolutions_app_background_rain_volume",z1="resolutions_app_pomodoro_settings",q1=864e5,V1={getHabits:async()=>{const e=localStorage.getItem(P1);return e?JSON.parse(e):[]},saveHabits:async e=>{localStorage.setItem(P1,JSON.stringify(e))},addHabit:async(e,t,n)=>{const r=[e,...t];V1.saveHabits(r),n(r)},updateHabit:async(e,t,n)=>{const r=t.map(t=>t.id===e.id?e:t);V1.saveHabits(r),n(r)},deleteHabit:async(e,t,n)=>{const r=t.filter(t=>t.id!==e);return V1.saveHabits(r),n(r),r},getCompletions:async()=>{const e=localStorage.getItem(F1);return e?JSON.parse(e):[]},saveCompletions:async e=>{localStorage.setItem(F1,JSON.stringify(e))},createHabitCompletions:async(e,t,n)=>{const r=Ln({},t);r[e]={},V1.saveCompletions(r),n(r)},deleteHabitCompletions:async(e,t,n)=>{const r=Ln({},t);delete r[e],V1.saveCompletions(r),n(r)},toggleHabitCompletion:(e,t,n,r)=>{const i=t.toLocaleDateString("en-CA"),a=Ln({},n);return a[e][i]?delete a[e][i]:a[e][i]=!0,V1.saveCompletions(a),r(a),a},calculateHabitHealth:(e,t)=>{const n=t[e.id]||{};let r=0,i=0;const a=new Date,o=new Date(a.getTime()-(e.duration-1)*q1);for(let s=0;s<e.duration;s++){const e=s+1;i+=e,n[new Date(o.getTime()+s*q1).toLocaleDateString("en-CA")]&&(r+=e)}return r/i*100},getRewardData:async()=>{const e=localStorage.getItem(j1);return e?JSON.parse(e):{balance:0,item:"",cost:""}},saveRewardData:async e=>{localStorage.setItem(j1,JSON.stringify(e))},getAffirmationsData:async()=>localStorage.getItem(L1),saveAffirmationsData:async e=>{localStorage.setItem(L1,e)},getAffirmationsVolume:()=>{const e=localStorage.getItem(B1);return e?parseInt(e):50},saveAffirmationsVolume:e=>{localStorage.setItem(B1,e.toString())},getBackgroundRainVolume:()=>{const e=localStorage.getItem(U1);return e?parseInt(e):50},saveBackgroundRainVolume:e=>{localStorage.setItem(U1,e.toString())},getPomodoroSettings:()=>{const e=localStorage.getItem(z1);return e?JSON.parse(e):{pomodoroDuration:25,breakDuration:5,volume:50}},savePomodoroSettings:e=>{localStorage.setItem(z1,JSON.stringify(e))}},H1={unsubscribers:[],init:async(e,t,n)=>{H1.db=e,H1.userId=t;const r=await og(Nm(e,"users",t,"habits","data")),i=await og(Nm(e,"users",t,"completions","data")),a=await og(Nm(e,"users",t,"reward","data"));n.setHabits(r.exists()&&r.data().habits||[]),n.setCompletions(i.exists()&&i.data().completions||{}),n.setReward(a.exists()?a.data():{balance:0,item:"",cost:""});const o=lg(Nm(e,"users",t,"habits","data"),e=>{n.setHabits(e.exists()&&e.data().habits||[])});H1.unsubscribers.push(o);const s=lg(Nm(e,"users",t,"completions","data"),e=>{n.setCompletions(e.exists()&&e.data().completions||{})});H1.unsubscribers.push(s);const u=lg(Nm(e,"users",t,"reward","data"),e=>{n.setReward(e.exists()?e.data():{balance:0,item:"",cost:""})});H1.unsubscribers.push(u)},cleanup:()=>{H1.unsubscribers.forEach(e=>e()),H1.unsubscribers=[]},addHabit:async(e,t)=>{const n=[e,...t];await ug(Nm(H1.db,"users",H1.userId,"habits","data"),{habits:n})},updateHabit:async(e,t)=>{const n=t.map(t=>t.id===e.id?e:t);await ug(Nm(H1.db,"users",H1.userId,"habits","data"),{habits:n})},deleteHabit:async(e,t)=>{const n=t.filter(t=>t.id!==e);return await ug(Nm(H1.db,"users",H1.userId,"habits","data"),{habits:n}),n},toggleHabitCompletion:async(e,t,n,r)=>{const i=t.toLocaleDateString("en-CA"),a=Ln({},n);a[e]||(a[e]={}),a[e][i]?delete a[e][i]:a[e][i]=!0,await ug(Nm(H1.db,"users",H1.userId,"completions","data"),{completions:a})},createHabitCompletions:async(e,t)=>{const n=Ln({},t);n[e]={},await ug(Nm(H1.db,"users",H1.userId,"completions","data"),{completions:n})},deleteHabitCompletions:async(e,t)=>{const n=Ln({},t);delete n[e],await ug(Nm(H1.db,"users",H1.userId,"completions","data"),{completions:n})},calculateHabitHealth:(e,t)=>V1.calculateHabitHealth(e,t),getRewardData:async()=>{const e=Nm(H1.db,"users",H1.userId,"reward","data"),t=await og(e);return t.exists()?t.data():{balance:0,item:"",cost:""}},saveRewardData:async e=>{await ug(Nm(H1.db,"users",H1.userId,"reward","data"),e)}};const W1=n.p+"static/media/check.9f50b639f741860415706ad78713abc6.svg";const K1=n.p+"static/media/green_check.e52d0eca129eb5f612fd7a21801d8dce.svg";const G1=n.p+"static/media/square.fa0726eb434010dba83d5455fd1b2429.svg";const Y1=n.p+"static/media/left_arrow.44804ee12c3e20dcccca667e388b8469.svg";const Q1=n.p+"static/media/right_arrow.a18418bf2ab9fbb539939d7a8416dd82.svg";const J1=n.p+"static/media/down_arrow.eb02a4044becf65876b7ab0b053ab212.svg";const X1=n.p+"static/media/red_circle.362f406c7616f1a17acfd1b3ad163c19.svg";const Z1=n.p+"static/media/green_circle.38f1c99fadd10edb6038f38084f8f2d3.svg";const $1=n.p+"static/media/calendar.c63c9edb199ba55d9879b28bd390ead7.svg";const e2=n.p+"static/media/bag.893a7db5b2810ff3f458812ab60857c6.svg";const t2=n.p+"static/media/mic.1fb5af3c86f08fcebc2ff0f87b0a2380.svg";const n2=n.p+"static/media/mic_red.bc17253b226fdebf661e4c691dd3bb98.svg";const r2=n.p+"static/media/terminal.4acac3c33923d142d72625ccafa52067.svg";const i2=n.p+"static/media/play.a61b135db74590fa4bf39cc9586c90dd.svg";const a2=n.p+"static/media/pause.4ccad238938be4af3084bd420c42bff5.svg";const o2=n.p+"static/media/stop.6fddda46e755f023b91dadd03507f265.svg";const s2=n.p+"static/media/clock.e9680eee0abaf53013907e36f276c5d7.svg";const u2=n.p+"static/media/flowers.2e18c317aef9c32ccc8842e4a67f73d5.svg",l2=n.p+"static/media/cat_getting_treat.f175015966ecd97889b8.png",c2=n.p+"static/media/affirmations_hero.9744c3fbb1c44e88057b.jpg";const h2=n.p+"static/media/affirmations_wave_0.aa6d2b41e62e95418fead6e7f09eaacc.svg";const f2=n.p+"static/media/affirmations_wave_1.aef7986cf4b60e7442a8b31e3694724d.svg";const d2=n.p+"static/media/affirmations_wave_2.fdf7d83c72715dd4f8e35c5dc6e99ad6.svg",p2=n.p+"static/media/background_rain.ee7c27257141f72394ea.m4a",m2=n.p+"static/media/landscape.e8bdc5d179937fa81afb.jpg",g2=n.p+"static/media/abstract.7ad25b5815f744ed8ce0.jpg",y2=n.p+"static/media/bells.a8aca034a9e5c8f93d1a.wav",v2="/resolutions",b2="/resolutions/read-this",x2="/resolutions/account",w2="intro",N2="creation",E2="view",S2="en-CA",M2=e=>{let{habits:n,setHabits:r,completions:i,setCompletions:a,currentService:o}=e;const s=0===n.length?w2:E2,[u,l]=t.useState(s);return(0,Bt.jsxs)("div",{className:"habits-module",id:"habits",children:[(0,Bt.jsx)("div",{className:"section-title",children:"habits"}),(0,Bt.jsx)("div",{className:"section-explanation",children:'to avoid habit collapse, the health score is recency weighted to avoid the feeling of "starting over", an issue with streaks. for solid foundations, creating a new habit requires a previous health score over 95%.'}),(0,Bt.jsxs)(w1,{mode:"wait",children:[u===w2&&(0,Bt.jsx)(A2,{setHabitModuleState:l},"intro"),u===N2&&(0,Bt.jsx)(T2,{setHabitModuleState:l,habits:n,setHabits:r,completions:i,setCompletions:a,currentService:o},"creation"),u===E2&&(0,Bt.jsx)(O2,{setHabitModuleState:l,habits:n,setHabits:r,completions:i,setCompletions:a,currentService:o},"view")]})]})},A2=e=>{let{setHabitModuleState:t}=e;return(0,Bt.jsx)(f1.div,{className:"intro",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:T1},children:(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsx)("div",{className:"habits-image-container",children:(0,Bt.jsx)("img",{src:u2,className:"habits-image"})}),(0,Bt.jsxs)("div",{className:"habit-box",children:[(0,Bt.jsxs)("div",{className:"quote-box",children:["in the eye of cacophony, time slows.",(0,Bt.jsx)("br",{}),"distill the moment to a single step."]}),(0,Bt.jsxs)("div",{className:"habit-content-box",children:[(0,Bt.jsx)("p",{className:"question-section",children:"are you running too fast?"}),(0,Bt.jsxs)("p",{className:"question-section",children:["what is the ",(0,Bt.jsx)("b",{children:"single"})," most important",(0,Bt.jsx)("br",{}),"habit in your life?"]}),(0,Bt.jsxs)("p",{className:"question-section",children:["think deeply. ",(0,Bt.jsx)("br",{}),"everything else fades to noise"]}),(0,Bt.jsxs)("p",{className:"question-section",children:["this is not a result",(0,Bt.jsx)("br",{}),"this is a process",(0,Bt.jsx)("br",{}),"this is ",(0,Bt.jsx)("b",{children:"you"}),"."]}),(0,Bt.jsxs)("p",{className:"question-section",children:["who are you",(0,Bt.jsx)("br",{}),"why do you want this?"]})]}),(0,Bt.jsxs)("div",{className:"button-nav",children:[(0,Bt.jsx)("div",{}),(0,Bt.jsx)(f1.button,{className:"habits-button",whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>t(N2),children:"continue"})]})]})]})})},C2=e=>{let{placeholder:t="",maxLength:n="60",value:r,onChange:i}=e;return(0,Bt.jsx)("textarea",{className:"habit-input",placeholder:t,maxLength:n,value:r,onChange:i,rows:"2"})},T2=e=>{let{setHabitModuleState:n,habits:r,setHabits:i,completions:a,setCompletions:o,currentService:s}=e;const[u,l]=t.useState(""),[c,h]=t.useState(""),[f,d]=t.useState(""),[p,m]=t.useState(""),[g,y]=t.useState(String(90));return(0,Bt.jsx)(f1.div,{className:"creation",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:T1},children:(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsxs)("div",{className:"habits-image-container-creation",children:[(0,Bt.jsx)("img",{src:u2,className:"habits-image-creation"}),(0,Bt.jsxs)("div",{className:"suggestions-box",children:[(0,Bt.jsx)("div",{className:"suggestions-title",children:"guidelines"}),(0,Bt.jsx)("div",{className:"suggestions-subtitle",children:"life is limited"}),(0,Bt.jsxs)("ul",{className:"suggestions-list",children:[(0,Bt.jsx)("li",{children:"do I have enough time and energy?"}),(0,Bt.jsx)("li",{children:"is this sustainable with my commitments?"}),(0,Bt.jsx)("li",{children:"am I willing to trade off other commitments?"}),(0,Bt.jsx)("li",{children:"will I keep this habit for many years?"})]}),(0,Bt.jsx)("div",{className:"suggestions-subtitle",children:"minimally difficult (for now)"}),(0,Bt.jsxs)("ul",{className:"suggestions-list",children:[(0,Bt.jsx)("li",{children:"[optional] under 3 minutes"}),(0,Bt.jsx)("li",{children:"can this be made any easier without feeling like a waste of time?"})]}),(0,Bt.jsx)("div",{className:"suggestions-subtitle",children:"commitment duration is correct"}),(0,Bt.jsx)("ul",{className:"suggestions-list",children:(0,Bt.jsx)("li",{children:"new habits take 18 - 254 days to internalize depending on difficulty"})}),(0,Bt.jsx)("div",{className:"suggestions-subtitle",children:"margin of error"}),(0,Bt.jsx)("ul",{className:"suggestions-list",children:(0,Bt.jsx)("li",{children:"sick days, going out, vacations, give yourself slack upfront to prevent it from being impossible."})})]})]}),(0,Bt.jsxs)("div",{className:"habit-box",children:[(0,Bt.jsxs)("div",{className:"quote-box",children:['"I have the happiness to know, that it is a rising and not a setting sun."',(0,Bt.jsx)("br",{}),"- Benjamin Franklin"]}),(0,Bt.jsxs)("div",{className:"habit-content-box",children:[(0,Bt.jsx)("p",{className:"habit-prompt",children:"I am"}),(0,Bt.jsx)(C2,{placeholder:"high energy, relaxed, and fun to be around",value:u,onChange:e=>l(e.target.value)}),(0,Bt.jsx)("p",{className:"habit-prompt",children:"I love"}),(0,Bt.jsx)(C2,{placeholder:"how clear the world feels when I sleep well",value:c,onChange:e=>h(e.target.value)}),(0,Bt.jsx)("p",{className:"habit-prompt",children:"I hate"}),(0,Bt.jsx)(C2,{placeholder:"being tired and feeling mind fog",value:f,onChange:e=>d(e.target.value)}),(0,Bt.jsx)("p",{className:"habit-prompt",children:"I will"}),(0,Bt.jsx)(C2,{placeholder:"sleep every day at 10pm",value:p,onChange:e=>m(e.target.value)}),(0,Bt.jsxs)("p",{className:"habit-prompt",children:["for",(0,Bt.jsx)("input",{inputMode:"numeric",pattern:"[0-9]*",className:"habit-days-input",maxLength:3,value:g,onChange:e=>y(e.target.value)}),"days"]})]}),(0,Bt.jsxs)("div",{className:"button-nav",children:[(0,Bt.jsx)(f1.button,{className:"habits-button",whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>n(r.length>0?E2:w2),children:"back"}),(0,Bt.jsx)(f1.button,{className:"habits-button",whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>{const e={id:crypto.randomUUID(),identityText:u,loveText:c,hateText:f,actionText:p,duration:parseInt(g)||90,last_modified_ts:Date.now()};s.addHabit(e,r,i),s.createHabitCompletions(e.id,a,o),n(E2)},children:"create"})]})]})]})})},k2=e=>{let{value:n}=e;const r=N1(0),i=S1(r,e=>e.toFixed(2)+"%"),a=S1(r,e=>"color-mix(in srgb, #4B7E14 ".concat(e,"%, #4D4D42 ").concat(100-e,"%)"));return t.useEffect(()=>{const e=ZX(r,n,{duration:.3});return()=>e.stop()},[n,r]),(0,Bt.jsx)(f1.span,{style:{color:a},children:i})},I2=e=>{let{value:n,format:r=Math.round}=e;const i=N1(0),a=S1(i,r);return t.useEffect(()=>{const e=ZX(i,n,{duration:.3});return()=>e.stop()},[n,i]),(0,Bt.jsx)(f1.span,{style:{color:"var(--green)"},children:a})},O2=e=>{let{setHabitModuleState:n,habits:r,setHabits:i,completions:a,setCompletions:o,currentService:s}=e;const[u,l]=t.useState(new Date),[c,h]=t.useState(0),[f,d]=t.useState(r[c]),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")},m=p(u.getDate()),g=p(u.getMonth()+1),y=u.getFullYear(),v=t.useRef(null),b=t.useRef(null),x=t.useRef(null),w=()=>{var e,t,n;const r=parseInt(null===(e=v.current)||void 0===e?void 0:e.value)||u.getDate(),i=parseInt(null===(t=b.current)||void 0===t?void 0:t.value)||u.getMonth()+1,a=parseInt(null===(n=x.current)||void 0===n?void 0:n.value)||u.getFullYear(),o=new Date(a,i-1,r);l(o)};t.useEffect(()=>{(e=>{v.current&&b.current&&x.current&&(v.current.value=p(e.getDate()),b.current.value=p(e.getMonth()+1),x.current.value=e.getFullYear())})(u)},[u]),t.useEffect(()=>{if(0===r.length){n(w2);d({identityText:"",loveText:"",hateText:"",actionText:"",duration:90})}else{const e=r[c];d(e)}},[c,r]);const N=r.length>0?s.calculateHabitHealth(r[0],a):0;return(0,Bt.jsx)(f1.div,{className:"view",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:T1},children:(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsxs)("div",{className:"habits-view",children:[(0,Bt.jsxs)("div",{className:"habits-view-container",children:[(0,Bt.jsxs)("div",{className:"date-selector",children:[(0,Bt.jsx)(f1.img,{src:Y1,whileHover:{opacity:A1},transition:{duration:C1},className:"date-selector-arrow",onClick:()=>{const e=new Date(u.getTime()-q1);l(e)}}),(0,Bt.jsxs)("div",{className:"date-selector-inputs",children:[(0,Bt.jsx)("input",{ref:x,inputMode:"numberic",pattern:"[0-9]*",className:"date-selector-input year-len",defaultValue:y,maxLength:"4",onBlur:w}),"-",(0,Bt.jsx)("input",{ref:b,inputMode:"numberic",pattern:"[0-9]*",className:"date-selector-input day-month-len",defaultValue:g,maxLength:"2",onBlur:w}),"-",(0,Bt.jsx)("input",{ref:v,inputMode:"numberic",pattern:"[0-9]*",className:"date-selector-input day-month-len",defaultValue:m,maxLength:"2",onBlur:w})]}),(0,Bt.jsx)(f1.img,{src:Q1,whileHover:{opacity:A1},transition:{duration:C1},className:"date-selector-arrow",onClick:()=>{const e=new Date(u.getTime()+q1);l(e)}})]}),r.map((e,t)=>{return(0,Bt.jsxs)("div",{className:"habit-container ".concat(c===t?"container-focused":""),onClick:()=>h(t),children:[(0,Bt.jsxs)("div",{className:"habit-snippet-box",children:[(0,Bt.jsx)("div",{className:"habit-snippet-prompt",children:"I will"}),(0,Bt.jsx)("div",{className:"habit-snippet-statement",children:e.actionText})]}),(0,Bt.jsxs)("div",{className:"habit-health-box",children:[(0,Bt.jsx)("div",{className:"habit-snippet-prompt",children:"health"}),(0,Bt.jsx)("div",{className:"habit-health-percentage",children:(0,Bt.jsx)(k2,{value:s.calculateHabitHealth(e,a)})})]}),(0,Bt.jsx)(f1.img,{src:(n=e.id,(a[n]||(a[n]={}))[u.toLocaleDateString(S2)]?K1:G1),whileHover:{opacity:A1},transition:{duration:C1},className:"habit-completion-icon",onClick:()=>s.toggleHabitCompletion(e.id,u,a,o)})]},e.id);var n})]}),N>95?(0,Bt.jsx)(f1.button,{className:"habits-view-new-habit-button",onClick:()=>n(N2),whileHover:{opacity:.8},transition:{duration:C1},children:"new habit"}):(0,Bt.jsx)(f1.button,{className:"habits-view-new-habit-button button-disabled",disabled:!0,children:"new habit"})]}),(0,Bt.jsxs)("div",{className:"habit-box",children:[(0,Bt.jsxs)("div",{className:"quote-box",children:['"I have the happiness to know, that it is a rising and not a setting sun."',(0,Bt.jsx)("br",{}),"- Benjamin Franklin"]}),(0,Bt.jsxs)("div",{className:"habit-content-box",children:[(0,Bt.jsx)("p",{className:"habit-prompt",children:"I am"}),(0,Bt.jsx)(C2,{value:f.identityText,placeholder:"high energy, relaxed, and fun to be around",onChange:e=>d(Ln(Ln({},f),{},{identityText:e.target.value}))}),(0,Bt.jsx)("p",{className:"habit-prompt",children:"I love"}),(0,Bt.jsx)(C2,{value:f.loveText,placeholder:"how clear the world feels when I sleep well",onChange:e=>d(Ln(Ln({},f),{},{loveText:e.target.value}))}),(0,Bt.jsx)("p",{className:"habit-prompt",children:"I hate"}),(0,Bt.jsx)(C2,{value:f.hateText,placeholder:"being tired and feeling mind fog",onChange:e=>d(Ln(Ln({},f),{},{hateText:e.target.value}))}),(0,Bt.jsx)("p",{className:"habit-prompt",children:"I will"}),(0,Bt.jsx)(C2,{value:f.actionText,placeholder:"sleep every day at 10pm",onChange:e=>d(Ln(Ln({},f),{},{actionText:e.target.value}))}),(0,Bt.jsxs)("p",{className:"habit-prompt",children:["for",(0,Bt.jsx)("input",{inputMode:"numeric",pattern:"[0-9]*",className:"habit-days-input",value:f.duration,onChange:e=>d(Ln(Ln({},f),{},{duration:e.target.value})),maxLength:4}),"days"]})]}),(0,Bt.jsxs)("div",{className:"button-nav",children:[(0,Bt.jsx)(f1.button,{className:"habits-button",whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>{const e=r[c].id;s.deleteHabit(e,r,i);const t=Math.max(0,c-1);h(t)},children:"delete"}),(0,Bt.jsx)(f1.button,{className:"habits-button",whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>{s.updateHabit(f,r,i)},children:"save"})]})]})]})})},_2=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],D2=e=>{let{habits:n,completions:r,setCompletions:i,currentService:a}=e;const o=(new Date).getFullYear(),[s,u]=t.useState(Object.fromEntries(n.map(e=>[e.id,!0]))),l=(e,t)=>new Date(t,e+1,0).getDate(),c=Array.from({length:31},(e,t)=>t+1),h=_2.map((e,t)=>({name:e,index:t,days:Array.from({length:l(t,o)},(e,t)=>t+1)}));return(0,Bt.jsx)("div",{className:"calendar",id:"calendar",children:(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsx)("div",{className:"section-title",children:"calendar"}),(0,Bt.jsx)("div",{className:"section-explanation",children:"visualization of your progress - see how far you've come! the individual habit squares are interactable."}),(0,Bt.jsx)("div",{className:"habit-calendar-box",children:n.map(e=>(0,Bt.jsxs)("div",{className:"habit-calendar",children:[(0,Bt.jsxs)("div",{className:"calendar-title-box",children:[(0,Bt.jsx)(f1.img,{src:J1,onClick:()=>{return t=e.id,void u(e=>Ln(Ln({},e),{},{[t]:!e[t]}));var t},whileHover:{opacity:A1},animate:{rotate:s[e.id]?0:-90},transition:{duration:.3},className:"calendar-title-arrow"}),(0,Bt.jsxs)("div",{className:"calendar-title-text",children:["I will ",e.actionText]})]}),(0,Bt.jsx)(w1,{children:s[e.id]&&(0,Bt.jsxs)(f1.div,{className:"calendar-grid",initial:O1.hidden,animate:O1.visible,exit:O1.hidden,transition:{opacity:{duration:.3},height:{duration:.3}},children:[(0,Bt.jsxs)("div",{className:"calendar-header",children:[(0,Bt.jsx)("div",{className:"calendar-header-year",children:o}),c.map(e=>(0,Bt.jsx)("div",{className:"calendar-header-day",children:String(e).padStart(2,"0")},e))]}),h.map(t=>{let{name:n,index:s,days:u}=t;return(0,Bt.jsxs)("div",{className:"calendar-month",children:[(0,Bt.jsx)("div",{className:"calendar-month-title",children:n}),u.map(t=>{var n;const u=new Date(o,s,t).toLocaleDateString(S2),l=null===(n=r[e.id])||void 0===n?void 0:n[u];return(0,Bt.jsx)("div",{className:"calendar-day ".concat(l?"filled":""),onClick:()=>{const n=new Date(o,s,t);a.toggleHabitCompletion(e.id,n,r,i)}},t)})]},n)})]})})]},e.id))})]})})},R2="work",P2="break",F2=()=>{const[e,n]=t.useState(V1.getPomodoroSettings()),[r,i]=t.useState(R2),[a,o]=t.useState(60*e.pomodoroDuration),[s,u]=t.useState(!1),l=t.useRef(new Audio(y2)),c=t.useRef(null);t.useEffect(()=>{l.current.volume=e.volume/100},[e.volume]),t.useEffect(()=>{let t=null;return s?(c.current||(c.current=Date.now()+1e3*a),t=setInterval(()=>{const t=Date.now(),n=c.current-t,i=Math.ceil(n/1e3);i<=0?(u(!1),c.current=null,l.current.play(),o(r===R2?60*e.pomodoroDuration:60*e.breakDuration)):o(i)},200)):c.current=null,()=>clearInterval(t)},[s,r,e.pomodoroDuration,e.breakDuration]);const h=t=>{u(!1),c.current=null,i(t),o(t===R2?60*e.pomodoroDuration:60*e.breakDuration)},f=(t,i)=>{const a=Ln(Ln({},e),{},{[t]:i});n(a),V1.savePomodoroSettings(a),"volume"===t&&(l.current.volume=i/100,l.current.currentTime=0,l.current.play()),s||("pomodoroDuration"===t&&r===R2||"breakDuration"===t&&r===P2)&&o(60*i)};return(0,Bt.jsx)("div",{className:"pomodoro",id:"pomodoro",children:(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsx)("div",{className:"section-title",children:"pomodoro"}),(0,Bt.jsx)("div",{className:"section-explanation",children:"focus on a single task. during breaks, relax - don't look at your phone."}),(0,Bt.jsx)("div",{className:"habits-image-container",children:(0,Bt.jsx)("img",{src:g2,className:"pomodoro-image"})}),(0,Bt.jsxs)("div",{className:"pomodoro-box",children:[(0,Bt.jsxs)("div",{className:"timer-box",children:[(0,Bt.jsx)("div",{className:"timer-display",children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n<10?"0":"").concat(n)})(a)}),(0,Bt.jsxs)("div",{className:"timer-controls",children:[(0,Bt.jsx)(f1.img,{src:s?a2:i2,onClick:()=>{u(!s)},whileHover:{opacity:A1},transition:{duration:C1},className:"timer-control-icon"}),(0,Bt.jsx)(f1.img,{src:o2,onClick:()=>{u(!1),c.current=null,o(r===R2?60*e.pomodoroDuration:60*e.breakDuration)},whileHover:{opacity:A1},transition:{duration:C1},className:"timer-control-icon"})]})]}),(0,Bt.jsxs)("div",{className:"pomodoro-settings",children:[(0,Bt.jsxs)("div",{className:"setting-row",children:[(0,Bt.jsx)("label",{onClick:()=>h(R2),className:"state-label ".concat(r===R2?"active":""),children:"work"}),(0,Bt.jsx)("input",{type:"text",inputMode:"numeric",value:e.pomodoroDuration,onChange:e=>f("pomodoroDuration",parseInt(e.target.value)||0)})]}),(0,Bt.jsxs)("div",{className:"setting-row",children:[(0,Bt.jsx)("label",{onClick:()=>h(P2),className:"state-label ".concat(r===P2?"active":""),children:"break"}),(0,Bt.jsx)("input",{type:"text",inputMode:"numeric",value:e.breakDuration,onChange:e=>f("breakDuration",parseInt(e.target.value)||0)})]}),(0,Bt.jsxs)("div",{className:"setting-row",children:[(0,Bt.jsx)("label",{children:"reminder volume"}),(0,Bt.jsx)("input",{type:"range",min:"0",max:"100",value:e.volume,onChange:e=>f("volume",parseInt(e.target.value))})]})]})]})]})})},j2=e=>{let{currentService:n,initialRewardData:r}=e;const[i,a]=t.useState(r.balance),[o,s]=t.useState(1),[u,l]=t.useState(r.item),[c,h]=t.useState(r.cost),f=t.useRef(null),d=N1(i),p=S1(d,e=>e.toFixed(2)),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return parseFloat(e).toFixed(t)},g=[1,2,3,3,4,4,5,5,6,7],y="a tank air halter top";t.useEffect(()=>{a(r.balance),l(r.item),h(r.cost)},[r]),t.useEffect(()=>{const e=setTimeout(()=>{n.saveRewardData({balance:i,item:u,cost:c})},2e3);return()=>clearTimeout(e)},[i,u,c]),t.useEffect(()=>{const e=p.onChange(e=>{f.current&&(f.current.value=e)});return ZX(d,i,{duration:.3}),e},[i,p,d]);return(0,Bt.jsx)("div",{className:"rewards",id:"rewards",children:(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsx)("div",{className:"section-title",children:"treat yourself!"}),(0,Bt.jsx)("div",{className:"section-explanation",children:"for every success, give yourself a small reward. a random multiplier x1-x7 is applied for a lil' bit of dopamine \ud83c\udf89. save up and buy something guilt free, maybe something luxury that you can't justify otherwise."}),(0,Bt.jsx)("div",{className:"habits-image-container",children:(0,Bt.jsx)("img",{src:l2,className:"habits-image"})}),(0,Bt.jsxs)("div",{className:"reward-box",children:[(0,Bt.jsxs)("div",{className:"balance-box",children:[(0,Bt.jsx)("div",{className:"balance-caption",children:"balance"}),(0,Bt.jsxs)("div",{className:"balance-amount-box",children:["$",(0,Bt.jsx)("input",{ref:f,type:"text",inputMode:"decimal",className:"balance-amount",defaultValue:m(i),size:m(i).length,onBlur:e=>a(parseFloat(e.target.value)||0)})]})]}),(0,Bt.jsxs)("div",{className:"balance-box",children:[(0,Bt.jsx)("div",{className:"balance-caption",children:"multiplier"}),(0,Bt.jsxs)("div",{className:"balance-amount-box",children:["x",(0,Bt.jsx)(I2,{value:o})]})]}),(0,Bt.jsxs)("div",{className:"item-box",children:[(0,Bt.jsxs)("div",{className:"item-box-row",children:[(0,Bt.jsx)("div",{className:"item-caption",children:"I will buy"}),(0,Bt.jsx)("input",{className:"item-input",type:"text",value:u,size:u.length||21,placeholder:y,onChange:e=>l(e.target.value)})]}),(0,Bt.jsxs)("div",{className:"item-box-row",children:[(0,Bt.jsx)("div",{className:"item-caption",children:"cost($)"}),(0,Bt.jsx)("div",{className:"item-input-box",children:(0,Bt.jsx)("input",{className:"item-input",type:"text",value:c,size:c.length||2,placeholder:"85",onChange:e=>h(e.target.value)})})]})]}),[.05,.25,.5,1].map(e=>(0,Bt.jsxs)(f1.button,{className:"reward-button",onClick:()=>(e=>{const t=Math.floor(Math.random()*g.length),n=g[t];s(n),a(t=>t+e*n)})(e),whileHover:{opacity:.8},transition:{duration:C1},children:["$",e.toFixed(2)]},e))]})]})})},L2=100,B2=[.3,1,.3],U2=()=>{const e=[h2,d2,f2],[n,r]=t.useState(V1.getAffirmationsVolume()),[i,a]=t.useState(V1.getBackgroundRainVolume()),[o,s]=t.useState(!1),[u,l]=t.useState(null),[c,h]=t.useState(!1),f=t.useRef(null),d=t.useRef(new Audio),p=t.useRef(new Audio(p2)),m=async e=>new Promise(t=>{const n=new FileReader;n.onload=()=>t(n.result),n.readAsDataURL(e)}),g=()=>{d.current.pause(),p.current.pause(),h(!1)};return t.useEffect(()=>{d.current.loop=!0,p.current.loop=!0;const e=new AudioContext,t=e.createMediaElementSource(d.current),n=e.createDelay(.1);return t.connect(n),n.connect(e.destination),t.connect(e.destination),V1.getAffirmationsData().then(l),()=>{e.close()}},[]),t.useEffect(()=>{d.current.volume=n/L2,V1.saveAffirmationsVolume(n)},[n]),t.useEffect(()=>{p.current.volume=i/L2,V1.saveBackgroundRainVolume(i)},[i]),(0,Bt.jsx)("div",{className:"affirmations",id:"affirmations",children:(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsx)("div",{className:"section-title",children:"affirmations"}),(0,Bt.jsxs)("div",{className:"section-explanation",children:["record your own"," ",(0,Bt.jsx)("a",{href:"https://smallconcepts.substack.com/p/affirmations-dont-work",children:"affirmations"})," ","and listen to them over and over until it becomes you. include the `I am/love/hate` statements and set the volume to be barely audible. audio is stored locally, limited to"," ",15," seconds to really focus on one habit at a time."]}),(0,Bt.jsx)("div",{className:"habits-image-container",children:(0,Bt.jsx)("img",{src:c2,className:"habits-image"})}),(0,Bt.jsxs)("div",{className:"affirmation-controller-box",children:[(0,Bt.jsx)("div",{className:"wave-box",children:(0,Bt.jsxs)(w1,{children:[u&&(0,Bt.jsx)(Bt.Fragment,{children:e.map((e,t)=>(0,Bt.jsx)(f1.img,{src:e,initial:{opacity:0},animate:{opacity:c?B2:1},exit:{opacity:0},transition:c?{duration:2+t,repeat:1/0}:{}},t))}),!u&&(0,Bt.jsx)(Bt.Fragment,{children:e.map((e,t)=>(0,Bt.jsx)(f1.img,{className:"wave-vector-no-recording",src:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6}},t))})]})}),(0,Bt.jsxs)("div",{className:"affirmation-icon-box",children:[(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)(f1.img,{src:o?n2:t2,whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>{o?f.current&&(f.current.stop(),s(!1)):(async()=>{l(null),g();const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=[],n=new MediaRecorder(e);n.ondataavailable=e=>t.push(e.data),n.onstop=async()=>{const n=new Blob(t,{type:"audio/webm"}),r=await m(n);V1.saveAffirmationsData(r),l(r),e.getTracks().forEach(e=>e.stop())},n.start(),f.current=n,s(!0),setTimeout(()=>{f.current.stop(),s(!1)},15e3)})()}}),(0,Bt.jsx)("div",{className:"affirmation-icon-label",children:"new"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)(f1.img,{src:i2,whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>{u&&(d.current.src=u,d.current.play(),p.current.play(),h(!0))}}),(0,Bt.jsx)("div",{className:"affirmation-icon-label",children:"play"})]}),(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)(f1.img,{src:a2,whileHover:{opacity:A1},transition:{duration:C1},onClick:g}),(0,Bt.jsx)("div",{className:"affirmation-icon-label",children:"pause"})]})]}),(0,Bt.jsxs)("div",{className:"affirmation-volume-box",children:[(0,Bt.jsx)("div",{className:"affirmation-volume-label",children:"affirmations volume"}),(0,Bt.jsx)("input",{type:"range",min:0,max:L2,value:n,onChange:e=>r(e.target.value)}),(0,Bt.jsx)("div",{className:"affirmation-volume-label",children:"background rain volume"}),(0,Bt.jsx)("input",{type:"range",min:0,max:L2,value:i,onChange:e=>a(e.target.value)})]})]})]})})},z2=()=>(0,Bt.jsx)("div",{className:"debug",id:"debug",children:(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsx)("div",{className:"section-title",children:"debug exercises"}),(0,Bt.jsx)("div",{className:"section-explanation",children:"some stuff I found on the internet that might be helpful - credits to original authors where due."}),(0,Bt.jsx)("img",{src:m2,className:"debug-hero-image"}),(0,Bt.jsxs)("div",{className:"exercise-list-box",children:[(0,Bt.jsx)("h6",{children:"1. stopping consumption - maggot visualization"}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"take a piece of food, drink, or phone, etc."}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"slowly, mindfully, break off pieces and throw them in the trash one at a time, carefully imagining that you are tasting or experiencing the food and that it was full of maggots."}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"associate the action with the disgust, and naturally stop."}),(0,Bt.jsx)("h6",{children:"3. five whys - classic drilldown"}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"find out the root cause of an issue by asking `why` five times or more."}),(0,Bt.jsxs)("p",{className:"exercise-paragraph",children:[(0,Bt.jsx)("b",{children:"example"}),":"]}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"I went to sleep late. why?"}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"I played games on my phone. why?"}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"I really like playing games. why?"}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"games provide a sense of achievement. why do I crave achievement?"}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"my parents strongly emphasized achievement during childhood."}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"conclusion: games are fun and simulate achievement. I am an independent adult separate from my parents now."}),(0,Bt.jsx)("h6",{children:"2. change how you view yourself - authority questioning"}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"ALL beliefs about yourself were GIVEN to you, by someone or something repeatedly telling you. beliefs are just an opinion, and therefore can be changed."}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"first, locate the source of your belief. common sources are parents, childhood, and society. second, re-examine the source's authority, and seek evidence to upweight or downweight it."}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"for example, I had some insecurity about lacking talent. thinking a bit more, I realized my dad felt that way from harsh competition in his university, and was the source. was this insecurity still relevant? I don't live there, and I have various achievements. downweighted."}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"I sometimes feel insecure about my ethnicity due to how it's portrayed on the news or in common societal jokes. but wait a second, the news has agendas of the government irrespective of me and the people in society who makes those jokes are extremely stupid. why believe stupid people? downweighted"}),(0,Bt.jsx)("h6",{children:"4. habit contract - stay committed"}),(0,Bt.jsxs)("p",{className:"exercise-paragraph",children:[(0,Bt.jsx)("a",{href:"https://smallconcepts.substack.com/p/compounding-habits-and-habit-contracts",children:"a habit contract"})," ","is a contract you make with your friend or your mom. for your most important habit, text your friend that the conditions, and venmo them money whenever you don't complete it."]}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"tune the cash amount to painful, but not too painful. your word is your honor, so any cheating is just cheating yourself and your friend."}),(0,Bt.jsx)("p",{className:"exercise-paragraph",children:"you can and should adjust the contract should it be too difficult or easy. the only catch is that in adjusting it you must notify the holder of the change for accountability."})]})]})}),q2=()=>(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsx)("div",{className:"section-title",children:"opinionated habit tracking"}),(0,Bt.jsx)("div",{className:"section-explanation",children:"all failures are due to system level issues, not willpower"}),(0,Bt.jsxs)("div",{className:"about-info-body",children:[(0,Bt.jsxs)("p",{children:["I\u2019ve read Atomic Habits and ",(0,Bt.jsx)("i",{children:"way too many"})," productivity books, and if you\u2019re like me, maybe you\u2019ve wanted to drink more water, sleep on time, read, work out, etc. but then life always gets messy and things fall by the wayside. After four years, I had several critical perspective shifts at the meta level:"]}),(0,Bt.jsxs)("ul",{children:[(0,Bt.jsx)("li",{children:"Habits are not separate entities; they are you."}),(0,Bt.jsx)("li",{children:"Respect the mental stack to avoid habit collapse."}),(0,Bt.jsx)("li",{children:"Prioritize the critical habits."}),(0,Bt.jsx)("li",{children:"Account for slack."}),(0,Bt.jsx)("li",{children:"Experiment and debug."})]}),(0,Bt.jsx)("b",{children:"I am the Habit"}),(0,Bt.jsx)("p",{children:"I intuitively but incorrectly used to view myself and a habit as separate entities. This is counterproductive. The goal of repeated habit action, over and over, is to fundamentally change how you view yourself."}),(0,Bt.jsx)("p",{children:"It is the difference between \u201cI can\u2019t smoke anymore\u201d versus \u201cI don\u2019t smoke; I\u2019m not a smoker.\u201d The second is much more powerful because I am no longer fighting myself - I don\u2019t like it in the first place."}),(0,Bt.jsx)("b",{children:"Respect the Mental Stack"}),(0,Bt.jsx)("p",{children:"I was very ambitious with my habits, trying to do five new habits at once, with everything collapsing after two months. Your time, energy, and focus are extremely limited - if any are lacking, it\u2019s really hard. If I\u2019m tired after working out, it\u2019s really hard to read, especially if the book is Marcus Aurelius\u2019 Meditations (didn\u2019t understand shit)."}),(0,Bt.jsx)("p",{children:"Overloading leads to the dreaded habit collapse. If it\u2019s not automatic, it\u2019s going to get dropped. The 21 days to form a habit is a myth - habits take 18 to 254 days depending on the difficulty. Failures spiral, getting back to where we were seems too hard, and we quit. It must be as easy as possible to pick back up - start slow and move on only when a habit requires minimal maintenance. It\u2019s very straightforward, but very difficult to manage ego and patience."}),(0,Bt.jsx)("b",{children:"Prioritize the Pareto"}),(0,Bt.jsx)("p",{children:"If we can at most take on one, new habit at a time, we must prioritize ruthlessly for the Pareto habits that provide 80% of the benefits, for example, meta-habits. These are habits that give back time and energy, like sleeping, exercising, or eating correctly."}),(0,Bt.jsx)("p",{children:"Figure out the single most important habit right now. It\u2019s not drinking more water or stretching. Those are nice but come later. What is the single habit you will always do \u2014 one that reduces time and energy from everything else."}),(0,Bt.jsx)("b",{children:"Giving Enough Slack"}),(0,Bt.jsx)("p",{children:"Habit collapse can also occur from vacations, sick weeks, busy work periods, social events, or any irregular disruption. It\u2019s very important to set flexible rules upfront."}),(0,Bt.jsx)("p",{children:"If I want to sleep on time at 10 p.m., it\u2019s extremely restricting to my social life. To be realistic, I adjust the rules. If I\u2019m hanging out with people, I can sleep before 12 a.m. If I\u2019m going out, I can sleep before 2 a.m."}),(0,Bt.jsx)("p",{children:"Rules have to account for life\u2019s complexity \u2014 if they\u2019re not realistic, it\u2019s going to be extremely hard."}),(0,Bt.jsx)("b",{children:"Experimenting and Debugging"}),(0,Bt.jsx)("p",{children:"Lastly, I posit habits have nothing to do with willpower. The only factors are the surrounding systems of your life. Successful habits simply happen through adjusting the system\u2019s friction, which requires a lot of trial and error."}),(0,Bt.jsx)("p",{children:"From my experience, adjusting the cue (time or place trigger) is $\\sim90\\%$ of the struggle. I want more food after seeing Seventh Street Burger, or start social media brain rotting if I sit on my couch. Common ways to adjust:"}),(0,Bt.jsxs)("ul",{children:[(0,Bt.jsx)("li",{children:"Increase friction by hiding things \u2014 decrease by putting them front and center. Out of sight, out of mind. For example, I don\u2019t keep my phone on my work desk."}),(0,Bt.jsx)("li",{children:"Reduce friction via habit difficulty. Meditate and journal for one minute instead of 10 minutes every day. I removed the cushions on my couch to make it uncomfortable and increase friction."}),(0,Bt.jsx)("li",{children:"Reduce friction via one-time purchases. Gym clothes, a better mattress, remote scheduled light bulbs all help. Invest for critical habits."}),(0,Bt.jsx)("li",{children:"Reduce friction by accounting for prerequisites. If I work without free time, I binge my phone past my bedtime. So I give myself free time. If my ego is too big to turn down the difficulty, I try to find why I attribute my self-value to difficult things."})]}),(0,Bt.jsx)("p",{children:"Experiment and improve your systems to make your focused habit easy."}),(0,Bt.jsx)("b",{children:"Thoughts on other habit apps"}),(0,Bt.jsx)("p",{children:"I made this app because other apps don\u2019t target the meta issues."}),(0,Bt.jsx)("p",{children:"They allow the user to create unlimited habits, which leads to no prioritization, no experimentation, and ultimately habit collapse."}),(0,Bt.jsx)("p",{children:"Second, they mostly use streaks, which exacerbates habit collapse. As soon as you lose a streak, all progress feels lost, and I give up. To fix this, I adapted Polar Habits\u2019 momentum system to my own health percentage score."}),(0,Bt.jsx)("p",{children:"The health score is the percentage of days completed successfully in the set habit window, i.e., 30 days. If you miss one day, your progress doesn\u2019t go to zero. It\u2019s also recency weighted to avoid feeling stuck. If I want to hit 30 days in a row, missing one day would the score stuck at 97% until 30 days later. Instead, misses further back in the window count for less, so getting back on track feels like you\u2019re still making progress."}),(0,Bt.jsx)("p",{children:"I made this for myself and don\u2019t plan on monetizing, and I hope it\u2019s useful for you too."}),(0,Bt.jsx)("p",{children:"Thanks for reading!"})]})]}),V2=e=>{let{user:t}=e;return(0,Bt.jsxs)("div",{className:"section",children:[(0,Bt.jsx)("div",{className:"section-title",children:"account"}),(0,Bt.jsx)("div",{className:"section-explanation",children:"settings and preferences - only login atm lol"}),(0,Bt.jsxs)("div",{className:"account-body",children:[(0,Bt.jsxs)("p",{children:[(0,Bt.jsx)("b",{children:"google account - "})," ",t?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("span",{className:"login-link",onClick:()=>{!function(e){Nn(e).signOut()}(D1)},children:"logout"})," ","- ",t.email]}):(0,Bt.jsx)("span",{className:"login-link",onClick:()=>{const e=new Vy;!async function(e,t,n){const r=My(e);wg(e,t,Uy);const i=Mv(r,n);new _v(r,"signInViaPopup",t,i).executeNotNull()}(D1,e)},children:"login"}),(0,Bt.jsx)("br",{}),"current data storage method: ",t?"cloud":"local"]}),(0,Bt.jsxs)("p",{children:[(0,Bt.jsx)("b",{children:"data storage"})," ",(0,Bt.jsx)("br",{}),"all data is locally with web storage API OR synced in the cloud via firebase/google auth via login"]}),(0,Bt.jsxs)("p",{children:[(0,Bt.jsx)("b",{children:"note"})," ",(0,Bt.jsx)("br",{}),"this project is completely free! because it is supported by the free tier of firebase, I reserve the right to remove accounts, prioritizing the inactive to protect my wallet \ud83d\ude2d. thanks!"]}),(0,Bt.jsxs)("p",{children:[(0,Bt.jsx)("b",{children:"strict mode"})," ",(0,Bt.jsx)("br",{}),"the last created habit's health score must be over"," ",95,"% before creating a new habit. there are easy ways around this up to the user to find. the app is opinionated based on my experiences, but people should be able to do what they want."]})]})]})},H2=()=>{const e=tt(),n=rt(),[r,i]=t.useState(null),[a,o]=t.useState(null),[s,u]=t.useState(null),[l,c]=t.useState(null),h=r?H1:V1;if(t.useEffect(()=>{const e=ev(D1,e=>{i(e),e?H1.init(R1,e.uid,{setHabits:o,setCompletions:u,setReward:c}):(H1.cleanup(),Promise.all([V1.getHabits(),V1.getCompletions(),V1.getRewardData()]).then(e=>{let[t,n,r]=e;o(t),u(n),c(r)}))});return()=>e()},[]),!a||!s||!l)return(0,Bt.jsx)("div",{className:"loading-screen",children:"Loading..."});const f=[{id:"habits",icon:W1},{id:"calendar",icon:$1},{id:"pomodoro",icon:s2},{id:"rewards",icon:e2},{id:"affirmations",icon:t2},{id:"debug",icon:r2}];return(0,Bt.jsxs)(f1.div,{variants:k1,initial:"hidden",animate:"visible",transition:{duration:2},className:"resolutions-app",children:[(0,Bt.jsxs)("div",{className:"top-nav",children:[(0,Bt.jsxs)("div",{className:"brand",children:[(0,Bt.jsx)(f1.div,{className:"logo",whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>n(v2),children:"resolutions"}),(0,Bt.jsx)("div",{className:"logo-text",children:"\xa0- minimalist habit tracker"})]}),(0,Bt.jsxs)("div",{className:"info-options",children:[(0,Bt.jsx)(f1.div,{className:"info-option",whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>n(b2),children:"read this"}),(0,Bt.jsxs)(f1.div,{className:"info-option",whileHover:{opacity:A1},transition:{duration:C1},onClick:()=>n(x2),children:["account",(0,Bt.jsx)("img",{src:r?Z1:X1,className:"account-sync-marker"})]})]})]}),(0,Bt.jsx)(w1,{children:e.pathname===v2&&a.length>0&&(0,Bt.jsx)(f1.div,{className:"side-bar",variants:I1(T1),initial:"initial",animate:"enter",exit:"exit",children:f.map(e=>(0,Bt.jsx)(f1.img,{src:e.icon,whileHover:{opacity:A1},transition:{duration:C1},className:"side-bar-icon",onClick:()=>(e=>{const t=document.getElementById(e);if(t){const e=t.getBoundingClientRect().top+window.scrollY-.2*window.innerHeight;ZX(window.scrollY,e,{duration:.3,ease:"easeInOut",onUpdate:e=>{window.scrollTo(0,e)}})}})(e.id),title:e.id},e.id))})}),(0,Bt.jsx)(w1,{mode:"wait",children:(0,Bt.jsx)(f1.div,{className:"app-body",variants:k1,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:T1},children:e.pathname===b2?(0,Bt.jsx)(q2,{}):e.pathname===x2?(0,Bt.jsx)(V2,{user:r}):(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(M2,{habits:a,setHabits:o,completions:s,setCompletions:u,currentService:h}),(0,Bt.jsx)(w1,{children:a.length>0&&(0,Bt.jsxs)(f1.div,{variants:I1(T1),initial:"initial",animate:"enter",exit:"exit",children:[(0,Bt.jsx)(D2,{habits:a,completions:s,setCompletions:u,currentService:h}),(0,Bt.jsx)(F2,{}),(0,Bt.jsx)(j2,{currentService:h,initialRewardData:l}),(0,Bt.jsx)(U2,{}),(0,Bt.jsx)(z2,{})]})})]})},e.pathname)})]})},W2=(K2=[{path:"/",element:(0,Bt.jsx)(Ut,{})},{path:"/24game",element:(0,Bt.jsx)(kK,{})},{path:"/ratemyboba",element:(0,Bt.jsx)(xb,{})},{path:"/resolutions",element:(0,Bt.jsx)(H2,{}),children:[{path:"read-this",element:(0,Bt.jsx)(H2,{})},{path:"account",element:(0,Bt.jsx)(H2,{})}]}],re({basename:null==G2?void 0:G2.basename,future:xt({},null==G2?void 0:G2.future,{v7_prependBasename:!0}),history:u({window:null==G2?void 0:G2.window}),hydrationData:(null==G2?void 0:G2.hydrationData)||Et(),routes:K2,mapRouteProperties:bt,dataStrategy:null==G2?void 0:G2.dataStrategy,patchRoutesOnNavigation:null==G2?void 0:G2.patchRoutesOnNavigation,window:null==G2?void 0:G2.window}).initialize());var K2,G2;i.render((0,Bt.jsx)(t.StrictMode,{children:(0,Bt.jsx)(Ot,{router:W2})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.d3b555b8.js.map